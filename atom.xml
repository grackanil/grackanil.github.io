<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Grac Kanil</title>
  
  <subtitle>ã€Œä»¥æ¢¦ä¸ºé©¬ï¼Œä¸è´ŸéŸ¶åã€‚ã€</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://grackanil.top/"/>
  <updated>2018-08-29T11:46:01.503Z</updated>
  <id>http://grackanil.top/</id>
  
  <author>
    <name>Grac Kanil</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Ruby æœ­è®° - Ruby é›†åˆå®¶æ—ä¹‹å“ˆå¸Œï¼ˆHashï¼‰</title>
    <link href="http://grackanil.top/2018/08/20/ruby-collection-another/"/>
    <id>http://grackanil.top/2018/08/20/ruby-collection-another/</id>
    <published>2018-08-20T05:51:27.025Z</published>
    <updated>2018-08-29T11:46:01.503Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>è¯´å®Œæ•°ç»„ï¼Œå°±çŸ¥é“ä¸‹ä¸€ä¸ªè‚¯å®šæ˜¯<code>å“ˆå¸Œ</code>ï¼Œåœ¨ <code>Objective-C</code> é‡Œçš„ä½“ç°æ˜¯<code>å­—å…¸ï¼ˆNSDictionaryï¼‰</code>ã€‚ä¸ºä»€ä¹ˆè¿™ç§é›†åˆå¾ˆå—æ¬¢è¿å‘¢ï¼Ÿè¿™è¦ä»å“ˆå¸Œç®—æ³•è¯´èµ·ï¼Œç®€å•çš„è¯´ï¼Œ<code>hash</code> èƒ½ä»¥ Oï¼ˆ1ï¼‰çš„å¤æ‚åº¦å°†å†…å®¹æ˜ å°„åˆ°ä½ç½®ã€‚Hash ç®—æ³•çš„åŸç†å’ŒåŸºç¡€æ¦‚å¿µï¼Œä¸ä¹å¥½æ–‡ï¼Œæ­¤å¤„ä¸èµ˜è¿°ã€‚åé¢å¯ä»¥ä¸“é—¨å¤ä¹ æ¢³ç†ä¸‹ã€‚</p><h2 id="åˆ›å»ºå“ˆå¸Œ"><a href="#åˆ›å»ºå“ˆå¸Œ" class="headerlink" title="åˆ›å»ºå“ˆå¸Œ"></a>åˆ›å»ºå“ˆå¸Œ</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">?&gt; hash = &#123;&#125;</span><br><span class="line">=&gt; &#123;&#125;</span><br><span class="line">&gt;&gt; hash[&apos;1&apos;] = &quot;one&quot;</span><br><span class="line">=&gt; &quot;one&quot;</span><br><span class="line">?&gt; hash</span><br><span class="line">=&gt; &#123;&quot;1&quot;=&gt;&quot;one&quot;&#125;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; h = Hash.new</span><br><span class="line">=&gt; &#123;&#125;</span><br><span class="line">&gt;&gt; h[&apos;2&apos;] = &quot;two&quot;</span><br><span class="line">=&gt; &quot;two&quot;</span><br><span class="line">&gt;&gt; h</span><br><span class="line">=&gt; &#123;&quot;2&quot;=&gt;&quot;two&quot;&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç”¨ <code>=&gt;</code> åˆå§‹åŒ– <code>hash</code>ï¼Œå¯ä»¥å«å®ƒ<code>å“ˆå¸Œç«ç®­ğŸš€</code>ï¼ˆè°ƒçš®ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">?&gt; h = &#123;</span><br><span class="line">?&gt; &apos;1&apos; =&gt; &quot;one&quot;,</span><br><span class="line">?&gt; &apos;2&apos; =&gt; &quot;two&quot;</span><br><span class="line">&gt;&gt; &#125;</span><br><span class="line">=&gt; &#123;&quot;1&quot;=&gt;&quot;one&quot;, &quot;2&quot;=&gt;&quot;two&quot;&#125;</span><br><span class="line">&gt;&gt; h</span><br><span class="line">=&gt; &#123;&quot;1&quot;=&gt;&quot;one&quot;, &quot;2&quot;=&gt;&quot;two&quot;&#125;</span><br></pre></td></tr></table></figure></p><p>å¦‚æœå–æ²¡æœ‰ key çš„å€¼ï¼Œè¿”å› nilã€‚å½“ç„¶è¿™å–å†³äºä½ æ„é€ æ—¶æœ‰æ²¡æœ‰ä¼ é»˜è®¤å€¼ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">?&gt; h[&quot;3&quot;]</span><br><span class="line">=&gt; nil</span><br><span class="line"></span><br><span class="line">?&gt; h = Hash.new(0)</span><br><span class="line">=&gt; &#123;&#125;</span><br><span class="line">&gt;&gt; h[&apos;4&apos;]</span><br><span class="line">=&gt; 0</span><br></pre></td></tr></table></figure></p><p>åˆ é™¤ï¼Œç®€å•çš„ç½®å€¼ä¸º nil ä¸èƒ½åˆ é™¤ã€‚å¯ä»¥ä½¿ç”¨<code>#delete</code>æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">?&gt; h = &#123;&apos;1&apos; =&gt; &quot;one&quot;, &apos;2&apos; =&gt; &quot;two&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;1&quot;=&gt;&quot;one&quot;, &quot;2&quot;=&gt;&quot;two&quot;&#125;</span><br><span class="line">&gt;&gt; h.size</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; h[&apos;1&apos;] = nil</span><br><span class="line">=&gt; nil</span><br><span class="line">&gt;&gt; h.size</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; h</span><br><span class="line">=&gt; &#123;&quot;1&quot;=&gt;nil, &quot;2&quot;=&gt;&quot;two&quot;&#125;</span><br><span class="line">&gt;&gt; h.delete(&apos;1&apos;)</span><br><span class="line">=&gt; nil</span><br><span class="line">&gt;&gt; h.size</span><br><span class="line">=&gt; 1</span><br><span class="line">&gt;&gt; h</span><br><span class="line">=&gt; &#123;&quot;2&quot;=&gt;&quot;two&quot;&#125;</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€äº›è¡¨ç¤ºä½œä¸ºé”®å€¼ï¼Œä¹Ÿå¯ä»¥ä¸ä½¿ç”¨ <code>=&gt;</code> åˆ›å»ºå“ˆå¸Œï¼ˆä½¿ç”¨å†’å·ï¼Œè¿™å’Œ Objective-C å¾ˆç›¸ä¼¼ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">?&gt; h = &#123;:one =&gt; 1, :two =&gt; 2&#125;</span><br><span class="line">=&gt; &#123;:one=&gt;1, :two=&gt;2&#125;</span><br><span class="line">&gt;&gt; h</span><br><span class="line">=&gt; &#123;:one=&gt;1, :two=&gt;2&#125;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; h = &#123;one: 1, two: 2&#125;</span><br><span class="line">=&gt; &#123;:one=&gt;1, :two=&gt;2&#125;</span><br><span class="line">&gt;&gt; h</span><br><span class="line">=&gt; &#123;:one=&gt;1, :two=&gt;2&#125;</span><br></pre></td></tr></table></figure></p><h2 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h2><ul><li><p>åŸºç¡€æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = &#123;&quot;one&quot; =&gt; &quot;grac&quot;, &quot;two&quot; =&gt; &quot;kanil&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a.keys</span><br><span class="line">=&gt; [&quot;one&quot;, &quot;two&quot;]</span><br><span class="line">&gt;&gt; a.values</span><br><span class="line">=&gt; [&quot;grac&quot;, &quot;kanil&quot;]</span><br><span class="line">&gt;&gt; a.length</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; a.size</span><br><span class="line">=&gt; 2</span><br></pre></td></tr></table></figure></li><li><p>has_key?</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = &#123;&quot;one&quot; =&gt; &quot;grac&quot;, &quot;two&quot; =&gt; &quot;kanil&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br><span class="line">&gt;&gt; a.has_key? &quot;one&quot;</span><br><span class="line">=&gt; true</span><br></pre></td></tr></table></figure></li><li><p>select</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = &#123;&quot;one&quot; =&gt; &quot;grac&quot;, &quot;two&quot; =&gt; &quot;kanil&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br><span class="line">?&gt; a.select &#123; |k, v| k == &quot;one&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;&#125;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a.select &#123; |k, v| k == &quot;one&quot; || k == &quot;two&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br></pre></td></tr></table></figure></li><li><p>to_a</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = &#123;&quot;one&quot; =&gt; &quot;grac&quot;, &quot;two&quot; =&gt; &quot;kanil&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br><span class="line">?&gt; a.to_a</span><br><span class="line">=&gt; [[&quot;one&quot;, &quot;grac&quot;], [&quot;two&quot;, &quot;kanil&quot;]]</span><br></pre></td></tr></table></figure></li><li><p>åˆå¹¶ä¸¤ä¸ª <code>Hash</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &#123; &quot;one&quot; =&gt; &quot;grac&quot; &#125;.merge(&#123; &quot;two&quot; =&gt; &quot;kanil&quot; &#125;)</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br></pre></td></tr></table></figure></li><li><p>fetch å’Œä½¿ç”¨ <code>[]</code> ä¸€æ ·è·å–æ•°ç»„ valueï¼Œä½†æ˜¯å¦‚æœæ²¡æœ‰ä¼š <code>raise</code> é”™è¯¯</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = &#123;&quot;one&quot; =&gt; &quot;grac&quot;, &quot;two&quot; =&gt; &quot;kanil&quot;&#125;</span><br><span class="line">=&gt; &#123;&quot;one&quot;=&gt;&quot;grac&quot;, &quot;two&quot;=&gt;&quot;kanil&quot;&#125;</span><br><span class="line">&gt;&gt; a[&quot;three&quot;]</span><br><span class="line">=&gt; nil</span><br><span class="line">&gt;&gt; a.fetch(&quot;two&quot;)</span><br><span class="line">=&gt; &quot;kanil&quot;</span><br><span class="line">&gt;&gt; a.fetch(&quot;three&quot;)</span><br><span class="line">KeyError: key not found: &quot;three&quot;</span><br><span class="line">from (irb):7:in `fetch&apos;</span><br><span class="line">from (irb):7</span><br><span class="line">    ...</span><br></pre></td></tr></table></figure></li><li></li></ul><h2 id="å‡½æ•°å…³é”®å­—å‚æ•°ä¼ é€’"><a href="#å‡½æ•°å…³é”®å­—å‚æ•°ä¼ é€’" class="headerlink" title="å‡½æ•°å…³é”®å­—å‚æ•°ä¼ é€’"></a>å‡½æ•°å…³é”®å­—å‚æ•°ä¼ é€’</h2><p>Ruby ä¸æ”¯æŒå…³é”®å­—å‚æ•°ï¼Œä½†å¯ä»¥ä½¿ç”¨ Hash æ¨¡æ‹Ÿå‡ºæ¥<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">?&gt; class Article</span><br><span class="line">&gt;&gt;   attr_accessor :name, :author, :price</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt;   def initialize(params = &#123;&#125;)</span><br><span class="line">&gt;&gt;     @name = params[:name]</span><br><span class="line">&gt;&gt;     @author = params[:author]</span><br><span class="line">&gt;&gt;     @price = params[:price]</span><br><span class="line">&gt;&gt;   end</span><br><span class="line">&gt;&gt; end</span><br><span class="line">=&gt; :initialize</span><br><span class="line">&gt;&gt; a = Article.new(name: &quot;é›¾éƒ½&quot;, author: &quot;tom&quot;, price: 12.5)</span><br><span class="line">=&gt; #&lt;Article:0x007ffc2189f970 @name=&quot;é›¾éƒ½&quot;, @author=&quot;tom&quot;, @price=12.5&gt;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a.name</span><br><span class="line">=&gt; &quot;é›¾éƒ½&quot;</span><br></pre></td></tr></table></figure></p><h2 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h2><p>å’Œæ•°ç»„å¾ˆç±»ä¼¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; hash = &#123;name: &quot;é›¾éƒ½&quot;, author: &quot;tom&quot;, price: 12.5&#125;</span><br><span class="line">=&gt; &#123;:name=&gt;&quot;é›¾éƒ½&quot;, :author=&gt;&quot;tom&quot;, :price=&gt;12.5&#125;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; hash.each &#123;|key, value| puts &quot;#&#123;key&#125; =&gt; #&#123;value&#125;&quot;&#125;</span><br><span class="line">name =&gt; é›¾éƒ½</span><br><span class="line">author =&gt; tom</span><br><span class="line">price =&gt; 12.5</span><br><span class="line">=&gt; &#123;:name=&gt;&quot;é›¾éƒ½&quot;, :author=&gt;&quot;tom&quot;, :price=&gt;12.5&#125;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;è¯´å®Œæ•°ç»„ï¼Œå°±çŸ¥é“ä¸‹ä¸€ä¸ªè‚¯å®šæ˜¯&lt;code&gt;å“ˆå¸Œ&lt;/code&gt;ï¼Œåœ¨ &lt;code&gt;Objective-C&lt;/code&gt; é‡Œçš„ä½“ç°æ˜¯&lt;code&gt;å­—å…¸
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>Ruby æœ­è®° - Ruby é›†åˆå®¶æ—ä¹‹æ•°ç»„ï¼ˆArrayï¼‰</title>
    <link href="http://grackanil.top/2018/08/18/ruby-collection/"/>
    <id>http://grackanil.top/2018/08/18/ruby-collection/</id>
    <published>2018-08-18T10:34:31.365Z</published>
    <updated>2018-08-20T05:41:31.324Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å­¦ä¹  Ruby é›†åˆæˆ‘è§‰å¾—æœ€å¥½çš„æ–¹å¼æ˜¯æ‰“å¼€ <code>irb --simple-prompt</code> å‘½ä»¤ï¼Œè·Ÿç€ä¾‹å­å­¦ä¹ ã€‚è¯•ç€å€ŸåŠ© Tab è¡¥å…¨åŠ ä»¥æ€è€ƒğŸ¤”ã€‚</p></blockquote><h2 id="åˆ›å»ºæ•°ç»„"><a href="#åˆ›å»ºæ•°ç»„" class="headerlink" title="åˆ›å»ºæ•°ç»„"></a>åˆ›å»ºæ•°ç»„</h2><p>å’Œå…¶ä»–åŠ¨æ€è¯­è¨€åˆ›å»ºç›¸ä¼¼ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.class</span><br><span class="line">=&gt; Array</span><br><span class="line">&gt;&gt; a.length</span><br><span class="line">=&gt; 3</span><br><span class="line">&gt;&gt; a.size</span><br><span class="line">=&gt; 3</span><br><span class="line">&gt;&gt; a[2]</span><br><span class="line">=&gt; 3</span><br><span class="line">&gt;&gt; a &lt;&lt; 4</span><br><span class="line">=&gt; [1, 2, 3, 4]</span><br><span class="line">&gt;&gt; a</span><br><span class="line">=&gt; [1, 2, 3, 4]</span><br></pre></td></tr></table></figure></p><p>å…¶ä¸­ç±»å‹ä¸å¿…ç›¸åŒï¼Œå¯ä»¥åŒæ—¶æ˜¯ String ã€Number ç­‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, &quot;Grac Kanil&quot;, [2, 3]]</span><br><span class="line">=&gt; [1, &quot;Grac Kanil&quot;, [2, 3]]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a &lt;&lt; true</span><br><span class="line">=&gt; [1, &quot;Grac Kanil&quot;, [2, 3], true]</span><br><span class="line">&gt;&gt; a &lt;&lt; 3.14</span><br><span class="line">=&gt; [1, &quot;Grac Kanil&quot;, [2, 3], true, 3.14]</span><br></pre></td></tr></table></figure></p><p>ä¸€åˆ‡çš†å¯¹è±¡ï¼Œå½“ç„¶æ•°ç»„è·‘ä¸äº†è¿™ä¸ªèŒƒç•´<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = Array.new([1, &quot;Hello&quot;, 2])</span><br><span class="line">=&gt; [1, &quot;Hello&quot;, 2]</span><br></pre></td></tr></table></figure></p><p>æ•°ç»„åˆ›å»ºå¯ä»¥ä¼ å‚æ•°ï¼Œæå‰ç”³è¯·æ§ä»¶ï¼Œä½†æ˜¯æ•°ç»„æ˜¯åŠ¨æ€çš„ï¼Œå¦‚æœä¼ å…¥æ•°ç»„ï¼Œä¼šåˆ›å»ºåŒ…å« nil çš„æ•°ç»„ã€‚nil ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ‰€ä»¥å†è¿½åŠ ï¼Œä¼šåœ¨ nil ä¹‹åæ·»åŠ ã€‚å½“ç„¶å¯ä»¥å¿«é€Ÿä¼ å…¥é»˜è®¤å€¼ï¼Œå ä½æ•°ç»„ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = Array.new(3)</span><br><span class="line">=&gt; [nil, nil, nil]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a = Array.new(3, 1)</span><br><span class="line">=&gt; [1, 1, 1]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt;</span><br><span class="line">?&gt; a = Array.new(3)</span><br><span class="line">=&gt; [nil, nil, nil]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a &lt;&lt; 3</span><br><span class="line">=&gt; [nil, nil, nil, 3]</span><br><span class="line">?&gt; a.size</span><br><span class="line">=&gt; 4</span><br></pre></td></tr></table></figure></p><h2 id="åˆ‡å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„"><a href="#åˆ‡å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„" class="headerlink" title="åˆ‡å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„"></a>åˆ‡å‰²å­—ç¬¦ä¸²ä¸ºæ•°ç»„</h2><ul><li><p><code>scan</code> æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; s = &quot;This is a test string.&quot;</span><br><span class="line">=&gt; &quot;This is a test string.&quot;</span><br><span class="line">&gt;&gt; s.scan(/\w/).join(&quot;,&quot;)</span><br><span class="line">=&gt; &quot;T,h,i,s,i,s,a,t,e,s,t,s,t,r,i,n,g&quot;</span><br><span class="line">?&gt; s.scan(/\b\w*\b/)</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;&quot;, &quot;is&quot;, &quot;&quot;, &quot;a&quot;, &quot;&quot;, &quot;test&quot;, &quot;&quot;, &quot;string&quot;, &quot;&quot;]</span><br></pre></td></tr></table></figure></li><li><p><code>split</code> æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; s = &quot;This is a test string.&quot;</span><br><span class="line">=&gt; &quot;This is a test string.&quot;</span><br><span class="line">?&gt; s.split(&quot; &quot;)</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string.&quot;]</span><br><span class="line">&gt;&gt; s.split(&quot; &quot;).inspect</span><br><span class="line">=&gt; &quot;[\&quot;This\&quot;, \&quot;is\&quot;, \&quot;a\&quot;, \&quot;test\&quot;, \&quot;string.\&quot;]&quot;</span><br><span class="line"></span><br><span class="line">?&gt; s.split(/\s+/)</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string.&quot;]</span><br><span class="line">&gt;&gt; s.split(/\s+/).inspect</span><br><span class="line">=&gt; &quot;[\&quot;This\&quot;, \&quot;is\&quot;, \&quot;a\&quot;, \&quot;test\&quot;, \&quot;string.\&quot;]&quot;</span><br></pre></td></tr></table></figure></li><li><p><code>%</code> æ¥å®ç°çš„è¯­æ³•æ·å¾„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">?&gt; est = &quot;est&quot;</span><br><span class="line">=&gt; &quot;est&quot;</span><br><span class="line">&gt;&gt; %W&#123;This is a t#&#123;est&#125; string.&#125;</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string.&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; %w&#123;This is a t#&#123;est&#125; string.&#125;</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;t\#&#123;est&#125;&quot;, &quot;string.&quot;]</span><br></pre></td></tr></table></figure></li></ul><h2 id="æ•°ç»„è¶Šç•Œé—®é¢˜"><a href="#æ•°ç»„è¶Šç•Œé—®é¢˜" class="headerlink" title="æ•°ç»„è¶Šç•Œé—®é¢˜"></a>æ•°ç»„è¶Šç•Œé—®é¢˜</h2><p>å¾ˆå¤šè¯­è¨€è®¿é—®ä¸å­˜åœ¨çš„ç´¢å¼•ï¼Œä¼šæŠ›å‡ºæ•°ç»„è¶Šç•Œå¼‚å¸¸ï¼Œä½† ruby ä¸­ä¸ä¼šï¼Œä¼šè¿”å› nil å“¦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; a[4]</span><br><span class="line">=&gt; nil</span><br></pre></td></tr></table></figure></p><p>cool!ğŸ˜<br>ä»¥ä¸Šæ˜¯è¯»ï¼Œå¦‚æœå†™å…¥å‘¢ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; a[3] = &quot;Grac&quot;</span><br><span class="line">=&gt; &quot;Grac&quot;</span><br><span class="line">&gt;&gt; a</span><br><span class="line">=&gt; [nil, nil, nil, &quot;Grac&quot;]</span><br><span class="line">&gt;&gt; a[7] = &quot;Kanil&quot;</span><br><span class="line">=&gt; &quot;Kanil&quot;</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a</span><br><span class="line">=&gt; [nil, nil, nil, &quot;Grac&quot;, nil, nil, nil, &quot;Kanil&quot;]</span><br></pre></td></tr></table></figure></p><p>so cool!<br>åœ¨å¾ˆå¤šè¯­è¨€ä¸­ï¼Œå¦‚æœä½ çš„ç´¢å¼•å€¼å°äº 0 å‘¢ï¼Œåˆä¼šæ€æ ·ï¼Ÿ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a[-1]</span><br><span class="line">=&gt; 3</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a[-4]</span><br><span class="line">=&gt; nil</span><br></pre></td></tr></table></figure></p><p>wonderful!</p><h2 id="æ•°ç»„åˆ†ç±»"><a href="#æ•°ç»„åˆ†ç±»" class="headerlink" title="æ•°ç»„åˆ†ç±»"></a>æ•°ç»„åˆ†ç±»</h2><p>è¡¨ç¤ºæ•°ç»„å‰ä¸¤ä¸ªå…ƒç´ çš„å¤šç§è¡¨ç¤ºæ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">?&gt; strings = %w&#123;a b c d e f g&#125;</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; strings[0..1]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[0...1]</span><br><span class="line">=&gt; [&quot;a&quot;]</span><br><span class="line">&gt;&gt; strings[0...2]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[0,2]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[-7,2]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[-7..-6]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[-7...2]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[-7..1]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[0..-6]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings[0...-5]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br></pre></td></tr></table></figure></p><p>è¿›é˜¶æ€è€ƒ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; (0..1).class</span><br><span class="line">=&gt; Range</span><br><span class="line">?&gt; strings.[](0..1)</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">&gt;&gt; strings.[](Range.new(0,1))</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;]</span><br></pre></td></tr></table></figure></p><p>æœ‰è¶£çš„ <code>numerouno</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">âœ  ~ gem install numerouno</span><br><span class="line">Fetching: numerouno-0.2.0.gem (100%)</span><br><span class="line">Successfully installed numerouno-0.2.0</span><br><span class="line">Parsing documentation for numerouno-0.2.0</span><br><span class="line">Installing ri documentation for numerouno-0.2.0</span><br><span class="line">Done installing documentation for numerouno after 0 seconds</span><br><span class="line">1 gem installed</span><br><span class="line">âœ  ~ irb --simple-prompt</span><br><span class="line"></span><br><span class="line">?&gt; require &apos;numerouno&apos;</span><br><span class="line">=&gt; true</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; &quot;sixty one&quot;.as_number</span><br><span class="line">=&gt; 61</span><br><span class="line"></span><br><span class="line"># ä¸ºæ•°ç»„æ·»åŠ è‹±æ–‡ç´¢å¼•</span><br><span class="line">?&gt; class EnglishArray &lt; Array</span><br><span class="line">&gt;&gt;   def [](idx)</span><br><span class="line">&gt;&gt;     if String === idx</span><br><span class="line">&gt;&gt;       self.at(idx.as_number)</span><br><span class="line">&gt;&gt;     end</span><br><span class="line">&gt;&gt;   end</span><br><span class="line">&gt;&gt; end</span><br><span class="line">=&gt; :[]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; array = EnglishArray.new([1, 2, 3, 4])</span><br><span class="line">=&gt; [1, 2, 3, 4]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; array[&quot;one&quot;]</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; array[&quot;three&quot;]</span><br><span class="line">=&gt; 4</span><br></pre></td></tr></table></figure></p><h2 id="Ruby-æ•°ç»„çš„ä¸‡èƒ½ç»“æ„"><a href="#Ruby-æ•°ç»„çš„ä¸‡èƒ½ç»“æ„" class="headerlink" title="Ruby æ•°ç»„çš„ä¸‡èƒ½ç»“æ„"></a>Ruby æ•°ç»„çš„ä¸‡èƒ½ç»“æ„</h2><ul><li><p>æ ˆ<br>å¯ä»¥å°†æ•°ç»„ä½œä¸º<code>æ ˆ</code>ã€‚å…¶åŠŸèƒ½å’Œ <code>Python list</code> ç›¸ä¼¼ï¼Œä½¿ç”¨ <code>pop</code> å’Œ <code>push</code> æ–¹æ³•ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; a.push(3)</span><br><span class="line">=&gt; [3]</span><br><span class="line">&gt;&gt; a.push(&quot;Grac&quot;)</span><br><span class="line">=&gt; [3, &quot;Grac&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a.push(&quot;Kanil&quot;)</span><br><span class="line">=&gt; [3, &quot;Grac&quot;, &quot;Kanil&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt;</span><br><span class="line">?&gt; a.pop</span><br><span class="line">=&gt; &quot;Kanil&quot;</span><br><span class="line">&gt;&gt; a.pop</span><br><span class="line">=&gt; &quot;Grac&quot;</span><br><span class="line">&gt;&gt; a.pop</span><br><span class="line">=&gt; 3</span><br><span class="line">&gt;&gt; a</span><br></pre></td></tr></table></figure></li><li><p>é˜Ÿåˆ—<br>é˜Ÿåˆ—ï¼Œå³å…ˆè¿›å…ˆå‡º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; a.push(1)</span><br><span class="line">=&gt; [1]</span><br><span class="line">&gt;&gt; a.push(2)</span><br><span class="line">=&gt; [1, 2]</span><br><span class="line">&gt;&gt; a.push(3)</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.shift</span><br><span class="line">=&gt; 1</span><br><span class="line">&gt;&gt; a.shift</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; a.shift</span><br><span class="line">=&gt; 3</span><br><span class="line">&gt;&gt; a</span><br><span class="line">=&gt; []</span><br></pre></td></tr></table></figure></li></ul><p>è¿˜å¯ä»¥ä½¿ç”¨ <code>unshift</code> é˜Ÿé¦–åŠ å…¥æ–°å…ƒç´ <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; a.push(1)</span><br><span class="line">=&gt; [1]</span><br><span class="line">&gt;&gt; a.unshift(2)</span><br><span class="line">=&gt; [2, 1]</span><br><span class="line">&gt;&gt; a.unshift(3)</span><br><span class="line">=&gt; [3, 2, 1]</span><br></pre></td></tr></table></figure></p><p>ä½¿ç”¨ <code>delete</code> åˆ é™¤ä»»æ„ä½ç½®å…ƒç´ <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.delete(2)</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; a</span><br><span class="line">=&gt; [1, 3]</span><br></pre></td></tr></table></figure></p><ul><li>é›†åˆ<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">?&gt; [1, 2, 3] + [4, 5, 6]</span><br><span class="line">=&gt; [1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">?&gt; [1, 2, 3] + [2, 3]</span><br><span class="line">=&gt; [1, 2, 3, 2, 3]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [1, 2, 3].concat([4, 5, 6])</span><br><span class="line">=&gt; [1, 2, 3, 4, 5, 6]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [&quot;a&quot;, 1, 2, 3, &quot;b&quot;] - [&quot;a&quot;, &quot;b&quot;]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [1, 2, 4] &amp; [1, 2, 3]</span><br><span class="line">=&gt; [1, 2]</span><br><span class="line"></span><br><span class="line">&gt;&gt; [1, 2, 4] | [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 4, 3]</span><br></pre></td></tr></table></figure></li></ul><h2 id="Ruby-æ•°ç»„å¸¸ç”¨æ–¹æ³•"><a href="#Ruby-æ•°ç»„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Ruby æ•°ç»„å¸¸ç”¨æ–¹æ³•"></a>Ruby æ•°ç»„å¸¸ç”¨æ–¹æ³•</h2><ul><li><p>æ£€æŸ¥æ•°ç»„æ˜¯å¦ä¸ºç©º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; a = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; a.empty?</span><br><span class="line">=&gt; true</span><br></pre></td></tr></table></figure></li><li><p>ç§»åŠ¨å…ƒç´ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># è½¬ç½®</span><br><span class="line">?&gt; [1, 2, 4].reverse</span><br><span class="line">=&gt; [4, 2, 1]</span><br><span class="line"></span><br><span class="line"># å‘å·¦ç§»åŠ¨ä¸€</span><br><span class="line">?&gt; [1, 2, 4].rotate</span><br><span class="line">=&gt; [2, 4, 1]</span><br><span class="line"></span><br><span class="line"># å‘å³ç§»åŠ¨ä¸€</span><br><span class="line">?&gt; [1, 2, 4].rotate(-1)</span><br><span class="line">=&gt; [4, 1, 2]</span><br></pre></td></tr></table></figure></li><li><p>å®‰å…¨æç¤º</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.freeze</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a &lt;&lt; 4</span><br><span class="line">RuntimeError: can&apos;t modify frozen Array</span><br><span class="line">from (irb):85</span><br><span class="line">from /Users/gekang/.rvm/rubies/ruby-2.2.4/bin/irb:11:in `&lt;main&gt;&apos;</span><br></pre></td></tr></table></figure></li><li><p>æ•°ç»„çš„ <code>join</code> æ–¹æ³•ï¼Œå°†å…ƒç´ éƒ½é“¾æ¥ä¸ºå­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, 2, &quot;Grac&quot;, &quot;Kanil&quot;]</span><br><span class="line">=&gt; [1, 2, &quot;Grac&quot;, &quot;Kanil&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a.join</span><br><span class="line">=&gt; &quot;12GracKanil&quot;</span><br></pre></td></tr></table></figure></li></ul><p>å½“ç„¶ï¼Œå¯ä»¥ä¼ å…¥å‚æ•°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a.join(&quot;,&quot;)</span><br><span class="line">=&gt; &quot;1,2,Grac,Kanil&quot;</span><br></pre></td></tr></table></figure></p><ul><li><p>åˆ é™¤åµŒå¥—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?&gt; [1, [2, 3], [4, [&quot;a&quot;, nil]]].flatten</span><br><span class="line">=&gt; [1, 2, 3, 4, &quot;a&quot;, nil]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; [1, [2, 3], [4, [&quot;a&quot;, nil]]].flatten(1)</span><br><span class="line">=&gt; [1, 2, 3, 4, [&quot;a&quot;, nil]]</span><br></pre></td></tr></table></figure></li><li><p>åˆ é™¤å‰¯æœ¬</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?&gt; [4, 1, 2, 3, 1, 4].uniq</span><br><span class="line">=&gt; [4, 1, 2, 3]</span><br></pre></td></tr></table></figure></li><li><p>æ£€æŸ¥æ˜¯å¦åŒ…å«æŸå…ƒç´ </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, &quot;a&quot;, 2]</span><br><span class="line">=&gt; [1, &quot;a&quot;, 2]</span><br><span class="line">&gt;&gt; a.include? &quot;a&quot;</span><br><span class="line">=&gt; true</span><br><span class="line">&gt;&gt; a.include? 1</span><br><span class="line">=&gt; true</span><br><span class="line">&gt;&gt; a.include?(1)</span><br><span class="line">=&gt; true</span><br></pre></td></tr></table></figure></li><li><p>åˆ†å‰²æ•°ç»„</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, 2, 3, 4, 5, 6]</span><br><span class="line">=&gt; [1, 2, 3, 4, 5, 6]</span><br><span class="line">&gt;&gt; a.first</span><br><span class="line">=&gt; 1</span><br><span class="line">&gt;&gt; a.last</span><br><span class="line">=&gt; 6</span><br><span class="line">&gt;&gt; a.first(3)</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.last(4)</span><br><span class="line">=&gt; [3, 4, 5, 6]</span><br></pre></td></tr></table></figure></li><li><p>ç»Ÿè®¡æ•°ç»„ä¸­æŸå…ƒç´ çš„ä¸ªæ•°</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [4, 1, 2, 3, 1, 4]</span><br><span class="line">=&gt; [4, 1, 2, 3, 1, 4]</span><br><span class="line">&gt;&gt; a.count 4</span><br><span class="line">=&gt; 2</span><br></pre></td></tr></table></figure></li><li><p>æŸ¥è¯¢æ•°ç»„æ‰€æœ‰æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">?&gt; Array.methods</span><br><span class="line">=&gt; [:[], :try_convert, :allocate, :new, :superclass, :freeze, :===, :==, :&lt;=&gt;, :&lt;, :&lt;=, :&gt;, :&gt;=, :to_s, </span><br><span class="line">:inspect, :included_modules, :include?, :name, :ancestors, :instance_methods, :public_instance_methods, :protected_instance_methods, :private_instance_methods, :constants, :const_get, :const_set, </span><br><span class="line">:const_defined?, :const_missing, :class_variables, :remove_class_variable, :class_variable_get, </span><br><span class="line">:class_variable_set, :class_variable_defined?, :public_constant, :private_constant, :singleton_class?, </span><br><span class="line">:include, :prepend, :module_exec, :class_exec, :module_eval, :class_eval, :method_defined?, </span><br><span class="line">:public_method_defined?, :private_method_defined?, :protected_method_defined?, :public_class_method, :private_class_method, :autoload, :autoload?, :instance_method, :public_instance_method, :nil?, :=~, </span><br><span class="line">:!~, :eql?, :hash, :class, :singleton_class, :clone, :dup, :itself, :taint, :tainted?, :untaint, </span><br><span class="line">:untrust, :untrusted?, :trust, :frozen?, :methods, :singleton_methods, :protected_methods, </span><br><span class="line">:private_methods, :public_methods, :instance_variables, :instance_variable_get, :instance_variable_set, :instance_variable_defined?, :remove_instance_variable, :instance_of?, :kind_of?, :is_a?, :tap, </span><br><span class="line">:send, :public_send, :respond_to?, :extend, :display, :method, :public_method, :singleton_method, :define_singleton_method, :object_id, :to_enum, :enum_for, :equal?, :!, :!=, :instance_eval, </span><br><span class="line">:instance_exec, :__send__, :__id__]</span><br></pre></td></tr></table></figure></li></ul><h2 id="è¿­ä»£"><a href="#è¿­ä»£" class="headerlink" title="è¿­ä»£"></a>è¿­ä»£</h2><p>è¿­ä»£å¯ä»¥è¯´æ˜¯ <code>Ruby</code> çš„ä¸€å¤§äº®ç‚¹ï¼Œæˆ‘è§‰å¾— <code>Objective-C</code> ä¸­çš„è¿­ä»£å°±å¾ˆå°‘ä½¿ç”¨ï¼Œæ¯”è¾ƒç¬¨é‡ï¼Œæ›´å¤šçš„ä¼šæƒ³åˆ°å†™ä¸€ä¸ª for å¾ªç¯ï¼Œç„¶è€Œï¼ŒRuby å¹¶ä¸ä¼šï¼Œä¼˜é›…çš„è¿­ä»£ä½¿ç”¨èµ·æ¥æ¯”è¾ƒé¡ºæ‰‹ã€‚</p><h3 id="each"><a href="#each" class="headerlink" title="each"></a>each</h3><p>Ruby ä¸­è¿­ä»£çš„æ ¸å¿ƒåº”è¯¥å°±æ˜¯ <code>each</code> æ–¹æ³•äº†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a.each &#123;|s| puts s.cap&#125; # Tab é”®å¯ä»¥è”æƒ³</span><br><span class="line">s.capitalize   s.capitalize!  s.captures</span><br><span class="line"></span><br><span class="line">?&gt; a.each &#123; |s| puts s.capitalize &#125;</span><br><span class="line">This</span><br><span class="line">Is</span><br><span class="line">A</span><br><span class="line">Test</span><br><span class="line">String</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br></pre></td></tr></table></figure></p><p>è¿˜æœ‰ <code>reverse_each</code> åå‘è¿­ä»£<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">&gt;&gt; a.reverse_each &#123; |s| puts s.up &#125;</span><br><span class="line">s.upcase   s.upcase!  s.update   s.upto</span><br><span class="line">&gt;&gt; a.reverse_each &#123; |s| puts s.upcase &#125;</span><br><span class="line">STRING</span><br><span class="line">TEST</span><br><span class="line">A</span><br><span class="line">IS</span><br><span class="line">THIS</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ éœ€è¦ç´¢å¼•ï¼Œå½“ç„¶ä¹Ÿç»™ä½ å‡†å¤‡å¥½äº†å½“å‰å¤„ç†çš„ç´¢å¼• <code>each_with_index</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; a = [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">&gt;&gt; a.each_with_index &#123; |s, index| puts &quot;#&#123;index&#125; is #&#123;s&#125;&quot; &#125;</span><br><span class="line">0 is This</span><br><span class="line">1 is is</span><br><span class="line">2 is a</span><br><span class="line">3 is test</span><br><span class="line">4 is string</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br></pre></td></tr></table></figure></p><p>å¦‚æœä½ éœ€è¦è¿­ä»£æ•°ç»„ä¸­æŸä¸€éƒ¨åˆ†ï¼Œå¯ä»¥ä½¿ç”¨åˆ†å‰²æ•°ç»„<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">&gt;&gt; a[0..2]</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;]</span><br><span class="line">&gt;&gt; a[0..2].each &#123;|s| puts s&#125;</span><br><span class="line">This</span><br><span class="line">is</span><br><span class="line">a</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;]</span><br></pre></td></tr></table></figure></p><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ Range æ¥å®ç°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">=&gt; [&quot;This&quot;, &quot;is&quot;, &quot;a&quot;, &quot;test&quot;, &quot;string&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; (0..2).each &#123;|i| puts a[i]&#125;</span><br><span class="line">This</span><br><span class="line">is</span><br><span class="line">a</span><br><span class="line">=&gt; 0..2</span><br></pre></td></tr></table></figure></p><h3 id="map-æˆ–-collect"><a href="#map-æˆ–-collect" class="headerlink" title="map æˆ– collect"></a>map æˆ– collect</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.map &#123; |i| i + 1 &#125;</span><br><span class="line">=&gt; [2, 3, 4]</span><br></pre></td></tr></table></figure><p>å¦‚æœåªæ˜¯è®©æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨æ–¹æ³•ï¼Œä¸å…³å¿ƒæ¯ä¸ªå…ƒç´ çš„å€¼æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å¿«æ·å†™æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.map(&amp;:to_f)</span><br><span class="line">=&gt; [1.0, 2.0, 3.0]</span><br></pre></td></tr></table></figure></p><p><code>#map</code> ä¸æ”¹å˜åŸæ¥çš„æ•°ç»„ï¼Œè€Œæ˜¯ä¼šç”Ÿæˆæ–°çš„æ•°ç»„ï¼Œå¦‚æœéœ€è¦ä¿®æ”¹åŸæ•°ç»„ï¼Œéœ€è¦ä½¿ç”¨ <code>#map!</code> æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.map(&amp;:to_f)</span><br><span class="line">=&gt; [1.0, 2.0, 3.0]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; a</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.map!(&amp;:to_f)</span><br><span class="line">=&gt; [1.0, 2.0, 3.0]</span><br><span class="line">&gt;&gt; a</span><br><span class="line">=&gt; [1.0, 2.0, 3.0]</span><br></pre></td></tr></table></figure></p><p><code>#map</code> å’Œ <code>#collect</code> ç›¸åŒï¼Œå¯ä»¥äº’æ¢ä½¿ç”¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?&gt; a = [1, 2, 3]</span><br><span class="line">=&gt; [1, 2, 3]</span><br><span class="line">&gt;&gt; a.map(&amp;:to_f)</span><br><span class="line">=&gt; [1.0, 2.0, 3.0]</span><br><span class="line">&gt;&gt; a.collect(&amp;:to_f)</span><br><span class="line">=&gt; [1.0, 2.0, 3.0]</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;å­¦ä¹  Ruby é›†åˆæˆ‘è§‰å¾—æœ€å¥½çš„æ–¹å¼æ˜¯æ‰“å¼€ &lt;code&gt;irb --simple-prompt&lt;/code&gt; å‘½ä»¤ï¼Œè·Ÿç€ä¾‹å­å­¦ä¹ ã€‚è¯•ç€å€ŸåŠ© Tab è¡¥å…¨åŠ ä»¥æ€è€ƒğŸ¤”ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;åˆ›å»ºæ•°ç»„&quot;&gt;&lt;a href=
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>Ruby æœ­è®° - å¸¸è°ˆæ­£åˆ™è¡¨è¾¾å¼</title>
    <link href="http://grackanil.top/2018/08/07/ruby-regular-expression/"/>
    <id>http://grackanil.top/2018/08/07/ruby-regular-expression/</id>
    <published>2018-08-07T12:30:30.202Z</published>
    <updated>2018-08-18T04:41:30.662Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p><code>Ruby</code> å¯¹æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒæ¯”è¾ƒå¥½ï¼Œç®€å•æ•´ç†ä¸€ä¸‹ã€‚å¼€é—¨æ¨èä¸‰é“¾æ¥ã€‚<br><a href="http://www.rubular.com/" target="_blank" rel="noopener">Rubular</a>:åœ¨çº¿ Ruby æ­£åˆ™è¡¨è¾¾å¼ç²¾å“ç¼–è¾‘å™¨ï¼Œæ”¯æŒå¤šç‰ˆæœ¬ Ruby<br><a href="http://ruby-doc.com/docs/ProgrammingRuby/#UJ" target="_blank" rel="noopener">Ruby Doc</a> Ruby (è‹±æ–‡)æ–‡æ¡£<br><a href="https://deerchao.net/tutorials/regex/regex.htm" target="_blank" rel="noopener">30 åˆ†é’Ÿå…¥é—¨æ­£åˆ™è¡¨è¾¾å¼</a>: è¿˜ä¸é”™çš„æ­£åˆ™æ•´ç†æ–‡æ¡£</p><h2 id="CheatSheet"><a href="#CheatSheet" class="headerlink" title="CheatSheet"></a>CheatSheet</h2><p><img src="http://oxwk2uou0.bkt.clouddn.com/RegexRuby.jpeg" alt="Ruby Regex CheatSheet From Rubular"></p><h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><p>Ruby ä¸­æ­£åˆ™ç»„æˆæ¯”è¾ƒç®€å•ï¼Œæ¨¡å¼å¦‚ä¸‹ï¼Œè¡¨è¾¾å¼è¿”å› <code>RegExp</code> å¯¹è±¡ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/pattern/optional_modifier</span><br></pre></td></tr></table></figure></p><p>ä¸‡ç‰©çš†å¯¹è±¡ï¼Œå¯ä»¥éªŒè¯ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">?&gt; puts /GracKanil/.class</span><br><span class="line">Regexp</span><br><span class="line">=&gt; nil</span><br></pre></td></tr></table></figure></p><p>æ—¢ç„¶æ˜¯å¯¹è±¡ï¼Œå¯ä»¥åˆ›å»º RegExp å¯¹è±¡ï¼Œç”¨äºæ­£åˆ™åŒ¹é…<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">?&gt; r = Regexp.new &apos;Grac&apos;</span><br><span class="line">=&gt; /Grac/</span><br><span class="line">&gt;&gt; p &quot;Grac Kanil&quot;.match r</span><br><span class="line">#&lt;MatchData &quot;Grac&quot;&gt;</span><br><span class="line">=&gt; #&lt;MatchData &quot;Grac&quot;&gt;</span><br></pre></td></tr></table></figure></p><h2 id="ä¸€èˆ¬è§„åˆ™"><a href="#ä¸€èˆ¬è§„åˆ™" class="headerlink" title="ä¸€èˆ¬è§„åˆ™"></a>ä¸€èˆ¬è§„åˆ™</h2><ul><li><p>åŒ¹é…å­—ç¬¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/G/</span><br></pre></td></tr></table></figure></li><li><p>åŒ¹é…ç‰¹æ®Šç¬¦å·ï¼ŒåŒ…æ‹¬ <code>^</code>, <code>$</code>, <code>?</code>, <code>.</code>, <code>/</code>, <code>\</code>, <code>[</code>, <code>]</code>, <code>{</code>, <code>}</code>, <code>(</code>, <code>)</code>, <code>+</code>, <code>*</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\?/</span><br></pre></td></tr></table></figure></li><li><p><code>.</code>åŒ¹é…ä»»æ„å­—ç¬¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/.G/ # åŒ¹é… KG, kG ...</span><br></pre></td></tr></table></figure></li><li><p>åŒ¹é…èŒƒå›´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/[ab]c/ # åŒ¹é… ac æˆ–è€… bc</span><br><span class="line">/[a-z]/</span><br><span class="line">/[a-z0-9A-Z]/</span><br></pre></td></tr></table></figure></li><li><p>åŒ¹é…ä¸åœ¨è¯¥èŒƒå›´çš„å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[^a-z]/ # ä¸å«å°å†™å­—æ¯çš„å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></li><li><p>ä»»æ„æ•°å­—ï¼Œå­—æ¯ï¼Œç©ºç™½ç¬¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/[\d]/ # ä»»æ„æ•°å­—</span><br><span class="line">/[\w]/ # ä»»æ„å­—æ¯</span><br><span class="line">/[\s]/ # ä»»æ„ç©ºå­—ç¬¦ï¼Œç©ºæ ¼ã€TABã€æ¢è¡Œ</span><br><span class="line"></span><br><span class="line">/[\D]/ï¼Œ/[\W]/ï¼Œ/[\S]/ å‡ä¸ºä¸Šè¿°ç›¸åæƒ…å†µ</span><br></pre></td></tr></table></figure></li></ul><h2 id="é«˜çº§è§„åˆ™"><a href="#é«˜çº§è§„åˆ™" class="headerlink" title="é«˜çº§è§„åˆ™"></a>é«˜çº§è§„åˆ™</h2><ul><li>é‡å¤<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">? é‡å¤é›¶æ¬¡æˆ–ä¸€æ¬¡</span><br><span class="line">* é‡å¤é›¶æ¬¡æˆ–æ›´å¤šæ¬¡</span><br><span class="line">+ é‡å¤ä¸€æ¬¡æˆ–æ›´å¤šæ¬¡</span><br><span class="line">&#123;n&#125; é‡å¤næ¬¡ # /d&#123;3&#125;/ åŒ¹é… 3 ä¸ªæ•°å­—</span><br><span class="line">&#123;n,&#125; é‡å¤næ¬¡æˆ–æ›´å¤šæ¬¡ # /d&#123;3,&#125;/ åŒ¹é… 3 ä¸ªæ•°å­—ä»¥ä¸Š</span><br><span class="line">&#123;n,m&#125; é‡å¤nåˆ°mæ¬¡ # /d&#123;1,10&#125;/ åŒ¹é… 1-10 ä¸ªæ•°å­—</span><br></pre></td></tr></table></figure></li></ul><h2 id="åŒ¹é…æ“ä½œç¬¦"><a href="#åŒ¹é…æ“ä½œç¬¦" class="headerlink" title="åŒ¹é…æ“ä½œç¬¦"></a>åŒ¹é…æ“ä½œç¬¦</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">æ£€æŸ¥å­—ç¬¦ä¸²ä¸­æ˜¯å¦åŒ…å«å¯ä»¥åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚æœæœ‰ï¼Œè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦çš„ç´¢å¼•ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰ï¼Œè¿”å› `nil`ã€‚</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /an/</span><br><span class="line">=&gt; 6</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /at/</span><br><span class="line">=&gt; nil</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /an/ ? &quot;yes&quot; : &quot;no&quot;</span><br><span class="line">=&gt; &quot;yes&quot;</span><br><span class="line"></span><br><span class="line">å¤§å°å†™å­—æ¯å’Œæ•°å­—èŒƒå›´æ¨¡å¼åŒ¹é…</span><br><span class="line">?&gt; &quot;Grac Kanil&quot; =~ /[aeiou]/ ? &quot;yes&quot; : &quot;no&quot;</span><br><span class="line">=&gt; &quot;yes&quot;</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /[mpt]/ ? &quot;yes&quot; : &quot;no&quot;</span><br><span class="line">=&gt; &quot;no&quot;</span><br><span class="line"></span><br><span class="line">`[]`è¡¨ç¤ºåŒæ—¶æœç´¢çš„å•ä¸ªå­—ç¬¦åˆ—è¡¨</span><br><span class="line">?&gt; &quot;Grac Kanil&quot; =~ /[a-z]/ ? &quot;yes&quot; : &quot;no&quot;</span><br><span class="line">=&gt; &quot;yes&quot;</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /[0-9]/ ? &quot;yes&quot; : &quot;no&quot;</span><br><span class="line">=&gt; &quot;no&quot;</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /[A-Z]/ ? &quot;yes&quot; : &quot;no&quot;</span><br><span class="line">=&gt; &quot;yes&quot;</span><br></pre></td></tr></table></figure><h2 id="regexp-match-str-åŒ¹é…"><a href="#regexp-match-str-åŒ¹é…" class="headerlink" title="regexp#match(str) åŒ¹é…"></a>regexp#match(str) åŒ¹é…</h2><p>è¿”å› <code>MatchData</code> ï¼Œä¸€ä¸ªæ•°ç»„ï¼Œä» 0 å¼€å§‹ï¼Œè¿˜æœ‰ <code>match.pre_match</code> è¿”å›åŒ¹é…å‰å†…å®¹ï¼Œ<code>match.post_match</code> è¿”å›åŒ¹é…åå†…å®¹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">?&gt; c = /cat/.match(&quot;bigcatcomes&quot;) # ç­‰ä»·äº c = /cat/.match %r&#123;bigcatcomes&#125;</span><br><span class="line">=&gt; #&lt;MatchData &quot;cat&quot;&gt;</span><br><span class="line">&gt;&gt; c.pre_match</span><br><span class="line">=&gt; &quot;big&quot;</span><br><span class="line">&gt;&gt; c.post_match</span><br><span class="line">=&gt; &quot;comes&quot;</span><br><span class="line">&gt;&gt; c[0]</span><br><span class="line">=&gt; &quot;cat&quot;</span><br></pre></td></tr></table></figure></p><p>ä¸æ­¤åŒæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ <code>str.match regex</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &quot;Grac Kanil&quot;.match /.rac/</span><br><span class="line">=&gt; #&lt;MatchData &quot;Grac&quot;&gt;</span><br></pre></td></tr></table></figure></p><h2 id="åŒ¹é…æ‰€æœ‰"><a href="#åŒ¹é…æ‰€æœ‰" class="headerlink" title="åŒ¹é…æ‰€æœ‰"></a>åŒ¹é…æ‰€æœ‰</h2><p><code>regexp#match()</code> åªèƒ½åŒ¹é…ä¸€æ¬¡ï¼Œå¦‚æœæƒ³åŒ¹é…æ‰€æœ‰è¦ç”¨ <code>regexp#scan()</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?&gt; &quot;abcabcabz&quot;.scan(%r&#123;abc&#125;).each &#123;|item| puts item&#125;</span><br><span class="line">abc</span><br><span class="line">abc</span><br><span class="line">=&gt; [&quot;abc&quot;, &quot;abc&quot;]</span><br></pre></td></tr></table></figure></p><h2 id="åˆ†ç»„åŒ¹é…"><a href="#åˆ†ç»„åŒ¹é…" class="headerlink" title="åˆ†ç»„åŒ¹é…"></a>åˆ†ç»„åŒ¹é…</h2><p>Ruby åˆ†ç»„åŒ¹é…å’Œå…¶ä»–è¯­è¨€åˆ†ç»„åŒ¹é…ç›¸ä¼¼ï¼Œéœ€è¦åˆ†ç»„çš„éƒ¨åˆ†åŠ ä¸Šæ‹¬å·</p><h2 id="ç‰¹æ®Šå˜é‡"><a href="#ç‰¹æ®Šå˜é‡" class="headerlink" title="ç‰¹æ®Šå˜é‡"></a>ç‰¹æ®Šå˜é‡</h2><p>$` ï¼Œ$&amp; ï¼Œ$â€™ è¿™ä¸‰ä¸ªå˜é‡åˆ†åˆ«è¡¨ç¤ºã€ä¸Šæ¬¡åŒ¹é…ä¹‹å‰çš„å­—ç¬¦ä¸² ç­‰åŒäº pre_matchã€‘ã€ã€åŒ¹é…çš„å­—ç¬¦ä¸²ã€‘ã€ã€ä¸Šæ¬¡åŒ¹é…ç»“æœä¹‹åçš„å­—ç¬¦ä¸² ç­‰åŒäº  post_matchã€‘<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; puts &quot;Grac Kanil is a name.&quot; =~ /Kanil/</span><br><span class="line">5</span><br><span class="line">=&gt; nil</span><br><span class="line">&gt;&gt; p $`</span><br><span class="line">&quot;Grac &quot;</span><br><span class="line">=&gt; &quot;Grac &quot;</span><br><span class="line">&gt;&gt; p $&amp;</span><br><span class="line">&quot;Kanil&quot;</span><br><span class="line">=&gt; &quot;Kanil&quot;</span><br><span class="line">&gt;&gt; p $&apos;</span><br><span class="line">&quot; is a name.&quot;</span><br><span class="line">=&gt; &quot; is a name.&quot;</span><br></pre></td></tr></table></figure></p><h2 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h2><p>å¾ˆå¤šæ—¶å€™éœ€è¦æ›¿æ¢å­—ç¬¦ä¸²ä¸­æ‰€æœ‰çš„å­ä¸²ï¼ŒRuby ä½¿ç”¨ <code>sub()</code> å’Œ <code>gsub()</code> å¯ä»¥ç®€å•å®ç°ã€‚</p><ul><li><code>sub</code> åªæ›¿æ¢ç¬¬ä¸€æ¬¡åŒ¹é…</li><li><code>gsubï¼ˆg:globalï¼‰</code> ä¼šæ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ï¼Œ</li><li>æ²¡æœ‰åŒ¹é…åˆ°è¿”å›åŸå­—ç¬¦ä¸²çš„ <code>copy</code> å­—ç¬¦ä¸²<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">str = &quot;ABDADA&quot;</span><br><span class="line">new_str = str.sub(/A/, &quot;*&quot;) #è¿”å›&quot;*BDADA&quot;</span><br><span class="line">new_str2 = str.gsub(/A/, &quot;*&quot;)#è¿”å›&quot;*BD*D*&quot;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä¿®é¥°è¯­"><a href="#ä¿®é¥°è¯­" class="headerlink" title="ä¿®é¥°è¯­"></a>ä¿®é¥°è¯­</h2><p>ä¹Ÿæ­£æ˜¯ <code>/pattern/optional_modifier</code> ä¸­çš„ <code>optional_modifier</code></p><ul><li>i å¿½ç•¥å¤§å°å†™ï¼Œ/abc/i å¯ä»¥åŒ¹é… ABCï¼Œabcï¼ŒAbc ç­‰ã€‚</li><li>m ä½¿å¾—æ­£åˆ™è¡¨è¾¾å¼å¯ä»¥å’Œä»»ä½•å­—ç¬¦åŒ¹é…ï¼ŒåŒ…æ‹¬æ¢è¡Œç¬¦ï¼Œé€šå¸¸æƒ…å†µä¸‹åœ†ç‚¹é€šé…ç¬¦ä¸åŒ¹é…æ¢è¡Œç¬¦ã€‚</li><li>x å¿½ç•¥ç©ºæ ¼ï¼Œå…è®¸åœ¨æ•´ä¸ªè¡¨è¾¾å¼ä¸­æ”¾å…¥ç©ºç™½ç¬¦å’Œæ³¨é‡Šã€‚<br>â€¦</li></ul><h2 id="é”š"><a href="#é”š" class="headerlink" title="é”š"></a>é”š</h2><ul><li><p><code>^</code> å­—ç¬¦åŒ¹é…äº†å­—ç¬¦ä¸²æˆ–è¡Œçš„å¼€å¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^me/  # åŒ¹é…ä»¥ me å¼€å¤´çš„å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></li><li><p><code>$</code> å­—ç¬¦åŒ¹é…äº†å­—ç¬¦ä¸²æˆ–è¡Œçš„ç»“å°¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/me$/  # åŒ¹é…ä»¥ me ç»“å°¾çš„å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></li><li><p><code>\A</code>å­—ç¬¦åŒ¹é…äº†å­—ç¬¦ä¸²çš„å¼€å¤´</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\ARuby/ # åŒ¹é…ä»¥ &quot;Ruby&quot; å¼€å¤´çš„å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></li><li><p><code>\Z</code>å­—ç¬¦åŒ¹é…äº†å­—ç¬¦ä¸²çš„ç»“å°¾</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/Ruby\Z/ # åŒ¹é…ä»¥ &quot;Ruby&quot; ç»“å°¾çš„å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></li><li><p><code>\b</code> å­—ç¬¦åŒ¹é…è¯çš„è¾¹ç•Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\bRuby\b/ # åŒ¹é…å•è¯è¾¹ç•Œçš„ &quot;Ruby&quot;</span><br></pre></td></tr></table></figure></li><li><p><code>\B</code> å­—ç¬¦åŒ¹é…éè¯çš„è¾¹ç•Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\brub\B/ # åŒ¹é… &quot;rube&quot; å’Œ &quot;ruby&quot; ä¸­çš„ &quot;rub&quot;ï¼Œä½†ä¸åŒ¹é…å•ç‹¬çš„ &quot;rub&quot;</span><br></pre></td></tr></table></figure></li></ul><h2 id="è´ªå©ªåŒ¹é…å’Œä¸è´ªå©ªåŒ¹é…"><a href="#è´ªå©ªåŒ¹é…å’Œä¸è´ªå©ªåŒ¹é…" class="headerlink" title="è´ªå©ªåŒ¹é…å’Œä¸è´ªå©ªåŒ¹é…"></a>è´ªå©ªåŒ¹é…å’Œä¸è´ªå©ªåŒ¹é…</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">/&lt;.*&gt;/  # è´ªå©ªé‡å¤ï¼šåŒ¹é… &quot;&lt;ruby&gt;perl&gt;&quot;</span><br><span class="line">/&lt;.*?&gt;/ # éè´ªå©ªé‡å¤ï¼šåŒ¹é… &quot;&lt;ruby&gt;perl&gt;&quot; ä¸­çš„ &quot;&lt;ruby&gt;&quot;</span><br></pre></td></tr></table></figure><h2 id="å¯èƒ½å¸®åˆ°æ‚¨çš„é“¾æ¥"><a href="#å¯èƒ½å¸®åˆ°æ‚¨çš„é“¾æ¥" class="headerlink" title="å¯èƒ½å¸®åˆ°æ‚¨çš„é“¾æ¥"></a>å¯èƒ½å¸®åˆ°æ‚¨çš„é“¾æ¥</h2><ul><li><a href="https://www.cnblogs.com/cnblogsfans/archive/2009/02/02/1382745.html" target="_blank" rel="noopener">ä¸€æ­¥ä¸€æ­¥å­¦ Ruby</a></li><li><a href="http://www.rubular.com/" target="_blank" rel="noopener">rubular</a></li><li><a href="https://ruby-china.org/topics/2427" target="_blank" rel="noopener">ruby china æ­£åˆ™</a></li><li><a href="https://ruby-china.org/topics/32821" target="_blank" rel="noopener">ruby china ç®€å•è®°å½•</a></li><li><a href="http://rubyer.me/blog/357/" target="_blank" rel="noopener">ruby è¿·</a></li><li><a href="https://github.com/wusuopu/Ruby-tutorial/blob/master/14.regex.md" target="_blank" rel="noopener">ruby github ç¬”è®°</a></li><li><a href="http://zetcode.com/lang/rubytutorial/regex/" target="_blank" rel="noopener">Ruby Regex Tutorial</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;&lt;code&gt;Ruby&lt;/code&gt; å¯¹æ­£åˆ™è¡¨è¾¾å¼æ”¯æŒæ¯”è¾ƒå¥½ï¼Œç®€å•æ•´ç†ä¸€ä¸‹ã€‚å¼€é—¨æ¨èä¸‰é“¾æ¥ã€‚&lt;br&gt;&lt;a href=&quot;http://www.r
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>Ruby æœ­è®° - é—²ç†å­—ç¬¦ä¸²</title>
    <link href="http://grackanil.top/2018/08/01/ruby-string/"/>
    <id>http://grackanil.top/2018/08/01/ruby-string/</id>
    <published>2018-08-01T15:27:27.639Z</published>
    <updated>2018-08-07T12:24:22.807Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åŸºç¡€çŸ¥è¯†"><a href="#åŸºç¡€çŸ¥è¯†" class="headerlink" title="åŸºç¡€çŸ¥è¯†"></a>åŸºç¡€çŸ¥è¯†</h2><p>Ruby å­—ç¬¦ä¸²ç±»å‹ä¸º String</p><ul><li><p>é»˜è®¤ä½¿ç”¨ Unicode å­—ç¬¦é›†ï¼Œå¯ä»¥ç›´æ¥è½¬ç ï¼Œæ“ä½œ UTF-8</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?&gt; &quot;Hello&quot;.class</span><br><span class="line">=&gt; String</span><br><span class="line">?&gt; &apos;ä¸­å›½&apos;.to_s</span><br><span class="line">=&gt; &quot;ä¸­å›½&quot;</span><br><span class="line">?&gt; &apos;ä¸­å›½&apos;.encoding.to_s</span><br><span class="line">=&gt; &quot;UTF-8&quot;</span><br></pre></td></tr></table></figure></li><li><p>å¤šè¡Œå­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># å…¶ä¸­ &#123;&#125; å¯ä»¥æ¢æˆ &lt;&gt; ## !! ç­‰</span><br><span class="line">?&gt; z = %q&#123;My name is</span><br><span class="line">Grac</span><br><span class="line">Kanil</span><br><span class="line">.&#125;</span><br><span class="line">=&gt; &quot;My name is\nGrac\nKanil\n.&quot;</span><br></pre></td></tr></table></figure></li><li><p>å¿«é€Ÿå®šä¹‰å­—ç¬¦ä¸²æ•°ç»„ï¼Œ%w{}ä½¿ç”¨ç©ºç™½ç¬¦åˆ†éš”å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">?&gt; x = %w&#123;a b c d&#125;</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span><br><span class="line">&gt;&gt; y = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]</span><br><span class="line">&gt;&gt; x == y</span><br><span class="line">=&gt; false</span><br><span class="line">&gt;&gt; y &lt;&lt; &quot;d&quot;</span><br><span class="line">=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; x == y</span><br><span class="line">=&gt; true</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; x.class</span><br><span class="line">=&gt; Array</span><br></pre></td></tr></table></figure></li><li><p>Ruby Doc æ–‡æ¡£æ¨¡å¼å­—ç¬¦ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = &lt;&lt;END_GEK</span><br><span class="line">This is the Document</span><br><span class="line">And this is pretty.</span><br><span class="line">END_GEK</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²è¿æ¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;hello&quot; + &quot;ruby&quot;</span><br><span class="line">#=&gt; &quot;helloruby&quot;</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²å¤åˆ¶å¤šæ¬¡</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;abc&quot; * 3</span><br><span class="line">#=&gt; &quot;abcabcabc&quot;</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œä»¥ ASCII å€¼æ¯”è¾ƒï¼Œ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">puts &quot;x&quot; &gt; &quot;y&quot;</span><br><span class="line">#=&gt; false</span><br><span class="line"></span><br><span class="line"># è·å–å­—ç¬¦ ASCII å€¼ï¼ŒRuby ç‰ˆæœ¬ä¸åŒä¸åŒ</span><br><span class="line">puts ?x</span><br><span class="line">puts &quot;x&quot;.ord</span><br><span class="line">#=&gt; 120</span><br><span class="line"></span><br><span class="line"># ASCII å€¼è·å–å­—ç¬¦</span><br><span class="line">puts 120.chr</span><br><span class="line">#=&gt; &quot;x&quot;</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²æ’å†™ï¼Œå’Œå…¶ä»–æ¨¡æ¿è¯­è¨€ç±»ä¼¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; puts &quot;#&#123;10 + 20&#125;&quot;</span><br><span class="line">30</span><br><span class="line">=&gt; nil</span><br><span class="line">?&gt; puts &quot;#&#123; &quot;cool&quot; * 2 &#125;&quot;</span><br><span class="line">coolcool</span><br><span class="line">=&gt; nil</span><br></pre></td></tr></table></figure></li></ul><h2 id="å­—ç¬¦ä¸²å¤„ç†å‡½æ•°"><a href="#å­—ç¬¦ä¸²å¤„ç†å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å¤„ç†å‡½æ•°"></a>å­—ç¬¦ä¸²å¤„ç†å‡½æ•°</h2><ul><li><p>å­—ç¬¦ä¸²é•¿åº¦</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;GracKanil&quot;.length</span><br><span class="line">#=&gt; 9</span><br><span class="line"></span><br><span class="line">&quot;GracKanil&quot;.size</span><br><span class="line">#=&gt; 9</span><br></pre></td></tr></table></figure></li><li><p>å¤§å°å†™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &quot;Grac&quot;.upcase</span><br><span class="line">=&gt; &quot;GRAC&quot;</span><br><span class="line">&gt;&gt; &quot;Grac&quot;.downcase</span><br><span class="line">=&gt; &quot;grac&quot;</span><br></pre></td></tr></table></figure></li><li><p>é€†åºå’Œå¤§å°å†™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &quot;Grac&quot;.reverse</span><br><span class="line">=&gt; &quot;carG&quot;</span><br><span class="line">&gt;&gt; &quot;Grac&quot;.swapcase</span><br><span class="line">=&gt; &quot;gRAC&quot;</span><br><span class="line">&gt;&gt; &quot;Grac&quot;.reverse.upcase</span><br><span class="line">=&gt; &quot;CARG&quot;</span><br></pre></td></tr></table></figure></li><li><p>hash</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &quot;Grac&quot;.hash</span><br><span class="line">=&gt; -4302903494964065754</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦æ˜¯å¦åŒ…å«å­ä¸²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;hello&quot;.include?&quot;lo&quot;</span><br><span class="line">#=&gt; true</span><br><span class="line"></span><br><span class="line">&quot;hello&quot;.include?&quot;loc&quot;</span><br><span class="line">#=&gt; false</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²æ’å…¥</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&quot;1234&quot;.insert(0, &quot;G&quot;)</span><br><span class="line">#=&gt; &quot;G1234&quot;</span><br><span class="line">&quot;1234&quot;.insert(3, &quot;G&quot;)</span><br><span class="line">#=&gt; &quot;123G4&quot;</span><br><span class="line">&quot;1234&quot;.insert(-1, &quot;G&quot;)</span><br><span class="line">#=&gt; &quot;1234G&quot;</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²åˆ†å‰²</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># é»˜è®¤åˆ†å‰²ç¬¦ä¸ºç©ºæ ¼</span><br><span class="line">&quot;a b c d&quot;.split</span><br><span class="line">#=&gt; [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span><br><span class="line">?&gt; &quot;Grac&quot;.split(//)</span><br><span class="line">=&gt; [&quot;G&quot;, &quot;r&quot;, &quot;a&quot;, &quot;c&quot;]</span><br><span class="line">&gt;&gt; &quot;Grac&quot;.split(//, 3)</span><br><span class="line">=&gt; [&quot;G&quot;, &quot;r&quot;, &quot;ac&quot;]</span><br><span class="line">&gt;&gt; &quot;G,r,a,c&quot;.split(&quot;,&quot;)</span><br><span class="line">=&gt; [&quot;G&quot;, &quot;r&quot;, &quot;a&quot;, &quot;c&quot;]</span><br><span class="line">&gt;&gt; &quot;G,r,a,c,&quot;.split(&quot;,&quot;)</span><br><span class="line">=&gt; [&quot;G&quot;, &quot;r&quot;, &quot;a&quot;, &quot;c&quot;]</span><br><span class="line">&gt;&gt; &quot;G,r,a,c,,&quot;.split(&quot;,&quot;)</span><br><span class="line">=&gt; [&quot;G&quot;, &quot;r&quot;, &quot;a&quot;, &quot;c&quot;]</span><br><span class="line">&gt;&gt; &quot;G,r,a,c,,&quot;.split(%r&#123;,\s*&#125;)</span><br><span class="line">=&gt; [&quot;G&quot;, &quot;r&quot;, &quot;a&quot;, &quot;c&quot;]</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²æ›¿æ¢</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &quot;Grac Kanil&quot;.gsub(/rac/, &quot;###&quot;)</span><br><span class="line">=&gt; &quot;G### Kanil&quot;</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot;.sub(/.a/, &quot;##&quot;)</span><br><span class="line">=&gt; &quot;G##c Kanil&quot;</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot;.gsub(/.a/, &quot;##&quot;)</span><br><span class="line">=&gt; &quot;G##c ##nil&quot;</span><br><span class="line"></span><br><span class="line">&gt;&gt; s = &quot;Grac&quot;</span><br><span class="line">=&gt; &quot;Grac&quot;</span><br><span class="line">&gt;&gt; s.replace &quot;Kanil&quot;</span><br><span class="line">=&gt; &quot;Kanil&quot;</span><br><span class="line">&gt;&gt; s</span><br><span class="line">=&gt; &quot;Kanil&quot;</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²åˆ é™¤</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; &quot;Grac&quot;.delete &quot;r&quot;</span><br><span class="line">=&gt; &quot;Gac&quot;</span><br><span class="line">&gt;&gt; &quot;Grac&quot;.delete &quot;rb-d&quot;</span><br><span class="line">=&gt; &quot;Ga&quot;</span><br></pre></td></tr></table></figure></li><li><p>é™¤å»å­—ç¬¦ä¸²ä¸¤ç«¯ç©ºæ ¼</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">?&gt; s = &quot; Grac &quot;</span><br><span class="line">=&gt; &quot; Grac &quot;</span><br><span class="line">&gt;&gt; s.lstrip</span><br><span class="line">=&gt; &quot;Grac &quot;</span><br><span class="line">&gt;&gt; s.rstrip</span><br><span class="line">=&gt; &quot; Grac&quot;</span><br><span class="line">&gt;&gt; s.strip</span><br><span class="line">=&gt; &quot;Grac&quot;</span><br><span class="line">&gt;&gt; s</span><br><span class="line">=&gt; &quot; Grac &quot;</span><br></pre></td></tr></table></figure></li><li><p>å­—ç¬¦ä¸²è½¬æ•°å­—</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">?&gt; &quot;12345&quot;.to_i</span><br><span class="line">=&gt; 12345</span><br><span class="line">?&gt; &quot;1234ssa&quot;.to_i</span><br><span class="line">=&gt; 1234</span><br></pre></td></tr></table></figure></li><li><p>åŒ¹é…å­ä¸²çš„ä½ç½®</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">?&gt; &quot;Grac Kanil&quot; =~ /an/</span><br><span class="line">=&gt; 6</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /[a]/</span><br><span class="line">=&gt; 2</span><br><span class="line">&gt;&gt; &quot;Grac Kanil&quot; =~ /[a]+/</span><br><span class="line">=&gt; 2</span><br></pre></td></tr></table></figure></li><li><p>match æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; puts &quot;matched&quot; if &quot;Grac Kanil&quot;.match(/[ai]/)</span><br><span class="line">matched</span><br><span class="line">=&gt; nil</span><br></pre></td></tr></table></figure></li><li><p>è·å–å­—ç¬¦ä¸²æ–¹æ³•</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">String.methods</span><br><span class="line">#=&gt; [:try_convert, :allocate, :new, :superclass, :freeze, :===, :==, :&lt;=&gt;, :&lt;, :&lt;=, :&gt;, :&gt;=, :to_s, :inspect, :included_modules, :include?, :name, :ancestors, :instance_methods, :public_instance_methods, :protected_instance_methods, :private_instance_methods, :constants, :const_get, :const_set, :const_defined?, :const_missing, :class_variables, :remove_class_variable, :class_variable_get, :class_variable_set, :class_variable_defined?, :public_constant, :private_constant, :singleton_class?, :include, :prepend, :module_exec, :class_exec, :module_eval, :class_eval, :method_defined?, :public_method_defined?, :private_method_defined?, :protected_method_defined?, :public_class_method, :private_class_method, :autoload, :autoload?, :instance_method, :public_instance_method, :nil?, :=~, :!~, :eql?, :hash, :class, :singleton_class, :clone, :dup, :itself, :taint, :tainted?, :untaint, :untrust, :untrusted?, :trust, :frozen?, :methods, :singleton_methods, :protected_methods, :private_methods, :public_methods, :instance_variables, :instance_variable_get, :instance_variable_set, :instance_variable_defined?, :remove_instance_variable, :instance_of?, :kind_of?, :is_a?, :tap, :send, :public_send, :respond_to?, :extend, :display, :method, :public_method, :singleton_method, :define_singleton_method, :object_id, :to_enum, :enum_for, :equal?, :!, :!=, :instance_eval, :instance_exec, :__send__, :__id__]</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä¸¾ä¸ªæ —å­"><a href="#ä¸¾ä¸ªæ —å­" class="headerlink" title="ä¸¾ä¸ªæ —å­"></a>ä¸¾ä¸ªæ —å­</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å¤„ç†å­—ç¬¦ä¸²å»é‡</span><br><span class="line">str = &quot;AAA;BBBB;AAA;CC;AAA;CCC;BBBB&quot;</span><br><span class="line">str.split(&quot;;&quot;).uniq.join(&quot;;&quot;)</span><br><span class="line"># &quot;AAA;BBBB;CC;CCC&quot;</span><br></pre></td></tr></table></figure><blockquote><p>æŒç»­æ•´ç†æ¯”è¾ƒä¸é”™çš„ğŸŒ°</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;åŸºç¡€çŸ¥è¯†&quot;&gt;&lt;a href=&quot;#åŸºç¡€çŸ¥è¯†&quot; class=&quot;headerlink&quot; title=&quot;åŸºç¡€çŸ¥è¯†&quot;&gt;&lt;/a&gt;åŸºç¡€çŸ¥è¯†&lt;/h2&gt;&lt;p&gt;Ruby å­—ç¬¦ä¸²ç±»å‹ä¸º String&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;é»˜è®¤ä½¿ç”¨ Unicode å­—ç¬¦é›†ï¼Œå¯ä»¥ç›´æ¥è½¬ç ï¼Œæ“ä½œ 
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>Ruby æœ­è®° - æµ…å° Ruby ç‰¹æ€§</title>
    <link href="http://grackanil.top/2018/07/27/ruby-feature/"/>
    <id>http://grackanil.top/2018/07/27/ruby-feature/</id>
    <published>2018-07-27T14:48:58.894Z</published>
    <updated>2018-08-01T13:14:37.829Z</updated>
    
    <content type="html"><![CDATA[<p>ç»è¿‡ç²—ç•¥çš„çœ‹ Ruby ç›¸å…³èµ„æºï¼Œçœ‹åˆ°äº†å¾ˆå¤šç›¸ä¼¼æˆ–ç›¸å¼‚å´ç†Ÿæ‚‰çš„ç‚¹æ»´ï¼Œè¿˜è°ˆä¸ä¸Šæ·±åˆ»ä½“éªŒï¼Œåªèƒ½ç®—è®°å½•ã€‚ä»éœ€ç”¨å¿ƒæ¢ç´¢ï¼Œå†³å®šé«˜å±‚å»ºç­‘éœ€è¦å¤¯å®åŸºç¡€ï¼Œç†è§£åŸç†ï¼Œä½“ä¼šè®¾è®¡ã€‚</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åˆ†äº«ä¸¤ä¸ªæœ‰è¶£çš„é“¾æ¥<br><a href="https://ruby.github.io/TryRuby/" target="_blank" rel="noopener">TryRuby</a>ï¼šé¡¾åæ€ä¹‰ï¼Œè¯•è¯•å…ˆã€‚<br><a href="http://saito.im/slide/ruby-new.html" target="_blank" rel="noopener">Ruby.new</a>ï¼šå¥½çœ‹çš„çš®å›Šåƒç¯‡ä¸€å¾‹ï¼Œæœ‰è¶£çš„çµé­‚ä¸‡é‡ŒæŒ‘ä¸€ã€‚</p><h2 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h2><p>å…ˆä¸åŒå…¶çƒ¦çš„è®°å½•ä¸‹åŸºç¡€çŸ¥è¯†ï¼Œé—²è¯å°‘å™ã€‚è°ˆåŠè¿­ä»£å™¨ï¼ˆiterationï¼‰ï¼Œå°‘ä¸äº†è°ˆåˆ°ç›¸ä¼¼ç»“æ„â€”â€”å¾ªç¯ï¼ˆloopingï¼‰ã€‚å¾ªç¯ç®€è¦çš„è¯´ï¼Œæ˜¯é‡å¤æ‰§è¡Œä¸€æ®µç¨‹åºç›´åˆ°ä¸€ä¸ªæ˜ç¡®æ¡ä»¶ã€‚è¿­ä»£å™¨æ˜¯æ“ä½œä¸€ä¸ªé›†åˆå¯¹è±¡ï¼Œå¦‚ Array ç­‰ï¼Œè®©é›†åˆæ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œã€‚<br>çœ‹çœ‹æ‰§è¡Œä¸€ä¸ªç®€å•çš„è¿­ä»£å™¨<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">7.times do</span><br><span class="line">  puts &quot;Hello Iteration.&quot;</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><p>è¾“å…¥æŒ‡å®šæ¡ä»¶ï¼Œæ‰ä¼šåœæ­¢çš„å¾ªç¯<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">input = &quot;&quot;</span><br><span class="line">while input != &quot;quit&quot;</span><br><span class="line">  puts &quot;ha,#&#123;input&#125;&quot;</span><br><span class="line">  input = gets.chomp</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><p>ä¸€ä¸ªä½¿ç”¨ <code>#each</code> è¿­ä»£å™¨çš„ä¾‹å­<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">colors = [&quot;Yellow&quot;, &quot;Red&quot;, &quot;Black&quot;]</span><br><span class="line">colors.each do |color| #block å¼€å§‹</span><br><span class="line">  puts &quot;#&#123;color&#125;&quot; #blockä½“</span><br><span class="line">end #block ç»“æŸ</span><br></pre></td></tr></table></figure></p><p>è¾“å‡ºå¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">?&gt; colors = [&quot;Yellow&quot;, &quot;Red&quot;, &quot;Black&quot;]</span><br><span class="line">=&gt; [&quot;Yellow&quot;, &quot;Red&quot;, &quot;Black&quot;]</span><br><span class="line">&gt;&gt; colors.each do |color|</span><br><span class="line">?&gt;   puts &quot;#&#123;color&#125;&quot;</span><br><span class="line">&gt;&gt; end</span><br><span class="line">Yellow</span><br><span class="line">Red</span><br><span class="line">Black</span><br><span class="line">=&gt; [&quot;Yellow&quot;, &quot;Red&quot;, &quot;Black&quot;]</span><br></pre></td></tr></table></figure></p><p>è¯´åˆ° <code>iterator</code> ï¼Œè‚¯å®šå’Œ <code>block</code> å¼ºç›¸å…³ï¼Œ è®©æˆ‘ä»¬èµ°è¿› <code>block</code> çœ‹çœ‹ä¸€äº›æ¦‚å¿µã€‚</p><p>ä»€ä¹ˆæ˜¯<code>å—ï¼ˆblockï¼‰</code>ï¼Ÿ<br>ä¸€å—åœ¨æ‹¬å·<code>{}</code>å†…éƒ¨ä»£ç å«å—ï¼ˆblockï¼‰ï¼Œæˆ–è€…<code>do</code> / <code>end</code> ä¹‹é—´çš„ä»£ç å—ï¼Œå—ï¼ˆblockï¼‰ä½¿ <code>ruby</code> æ›´åŠ ç‰¹æ®Šã€å¼ºå¤§ã€å—æ¬¢è¿ã€‚</p><p>ä»€ä¹ˆæ˜¯ <code>| |</code>?<br>è¢«ç§°ä¸ºç®¡é“ï¼Œè°ƒç”¨è¿­ä»£å™¨ #each æ—¶ï¼Œç®¡é“å†…çš„å˜é‡å……å½“ä¼ é€’ç»™å—çš„å‚æ•°ï¼Œä¼ é€’åˆ°å—ä¸­çš„æ¯ä¸ªå…ƒç´ å°†ç­‰äºç®¡é“å†…çš„å˜é‡åç§°ã€‚ä¸ºé›†åˆä¸­çš„æ¯ä¸ªå…ƒç´ è°ƒç”¨æˆ–è¿è¡Œå—ä¸­çš„ä»£ç ä¸€æ¬¡ã€‚<code>#each</code>æ–¹æ³•æ¯æ¬¡å–é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†å…¶ä¼ é€’è‡³å—ä¸­ï¼Œæ¯ä¸ªå…ƒç´ èµ‹å€¼ç»™ç®¡é“ä¸­çš„å˜é‡ã€‚</p><p><code>{ }</code> è¯­æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">colors = [&quot;Yellow&quot;, &quot;Red&quot;, &quot;Black&quot;]</span><br><span class="line">colors.each &#123;|color| puts &quot;#&#123;color&#125;&quot; &#125;</span><br></pre></td></tr></table></figure></p><h2 id="ä¸€åˆ‡è¡¨è¾¾æ–¹æ³•çš†æœ‰å€¼"><a href="#ä¸€åˆ‡è¡¨è¾¾æ–¹æ³•çš†æœ‰å€¼" class="headerlink" title="ä¸€åˆ‡è¡¨è¾¾æ–¹æ³•çš†æœ‰å€¼"></a>ä¸€åˆ‡è¡¨è¾¾æ–¹æ³•çš†æœ‰å€¼</h2><p>ä»»ä½•è¡¨è¾¾å¼éƒ½æœ‰è¿”å›å€¼ï¼Œå³ä½¿æ˜¯<code>nil</code>ï¼Œå¦‚ä¸‹ä»£ç ä¹Ÿæœ‰ï¼ˆæœ‰æ²¡æœ‰è§‰å¾—ä¸å¯æ€è®®ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = 10</span><br><span class="line">y = 11</span><br><span class="line">z = if x &lt; y</span><br><span class="line">      true</span><br><span class="line">    else</span><br><span class="line">      false</span><br><span class="line">    end</span><br><span class="line">z # =&gt; true</span><br></pre></td></tr></table></figure></p><h2 id="ç¬¦å·ä¸æ˜¯è½»é‡çš„å­—ç¬¦ä¸²"><a href="#ç¬¦å·ä¸æ˜¯è½»é‡çš„å­—ç¬¦ä¸²" class="headerlink" title="ç¬¦å·ä¸æ˜¯è½»é‡çš„å­—ç¬¦ä¸²"></a>ç¬¦å·ä¸æ˜¯è½»é‡çš„å­—ç¬¦ä¸²</h2><p>ç¬¦å·æœ€å¥½çš„æè¿°æ˜¯èº«ä»½è¯ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; :grackanil.object_id</span><br><span class="line">=&gt; 1145628</span><br><span class="line">&gt;&gt; :grackanil.object_id</span><br><span class="line">=&gt; 1145628</span><br><span class="line"></span><br><span class="line">?&gt; &quot;grackanil&quot;.object_id</span><br><span class="line">=&gt; 70162817382840</span><br><span class="line">&gt;&gt; &quot;grackanil&quot;.object_id</span><br><span class="line">=&gt; 70162817360420</span><br></pre></td></tr></table></figure></p><p>ä»¥ä¸Šä»£ç è¯´æ˜ä»€ä¹ˆï¼Ÿè¯´æ˜å½“ç¬¦å·åœ¨ä½¿ç”¨è¿‡ä¸€æ¬¡åï¼Œä»»ä½•ç›¸åŒå­—ç¬¦çš„ç¬¦å·éƒ½ä¼šåœ¨å†…å­˜ä¸­æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡åœ°å€ï¼Œä¹Ÿå³æ˜¯ object_id ç›¸åŒã€‚å­—ç¬¦ä¸²å°±ä¸åŒï¼Œæ¯æ¬¡éƒ½ä¼šåˆ†é…æ–°çš„ç©ºé—´ï¼Œå³ object_id ä¸åŒã€‚</p><h2 id="ä¸€åˆ‡çš†æ˜¯å¯¹è±¡"><a href="#ä¸€åˆ‡çš†æ˜¯å¯¹è±¡" class="headerlink" title="ä¸€åˆ‡çš†æ˜¯å¯¹è±¡"></a>ä¸€åˆ‡çš†æ˜¯å¯¹è±¡</h2><p>ä¸æ¯«ä¸å¤¸å¼ ï¼Œæ•´å‹éƒ½æ˜¯å¯¹è±¡ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?&gt; 1.class</span><br><span class="line">=&gt; Fixnum</span><br></pre></td></tr></table></figure></p><h2 id="å¯ä»¥æ”¹å˜çš„å¸¸é‡"><a href="#å¯ä»¥æ”¹å˜çš„å¸¸é‡" class="headerlink" title="å¯ä»¥æ”¹å˜çš„å¸¸é‡"></a>å¯ä»¥æ”¹å˜çš„å¸¸é‡</h2><p>åªä¼šæœ‰è­¦å‘Šï¼Œä½†ä¸ä¼šç»ˆæ­¢æ‰§è¡Œï¼Œä½†è¿˜æ˜¯ä¸å»ºè®®ä¿®æ”¹ã€‚</p><h2 id="å‘½åçº¦å®š"><a href="#å‘½åçº¦å®š" class="headerlink" title="å‘½åçº¦å®š"></a>å‘½åçº¦å®š</h2><p>åªæ˜¯çº¦å®šã€‚</p><ul><li>å±€éƒ¨å˜é‡ä»¥è‹±æ–‡å­—æ¯æˆ–è€… _ å¼€å¤´ã€‚</li><li>å…¨å±€å˜é‡ä»¥ $ å¼€å¤´ã€‚</li><li>å®ä¾‹å˜é‡ä»¥ @ å¼€å¤´ã€‚</li><li>ç±»å˜é‡ä»¥ @@ å¼€å¤´</li></ul><h2 id="å…³é”®å€¼å‚æ•°"><a href="#å…³é”®å€¼å‚æ•°" class="headerlink" title="å…³é”®å€¼å‚æ•°"></a>å…³é”®å€¼å‚æ•°</h2><p>ä» Ruby 2.0 å¼€å§‹å°±æœ‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def deliver(from: &quot;A&quot;, to: nil, via: &quot;mail&quot;)</span><br><span class="line">  &quot;Sending from #&#123;from&#125; to #&#123;to&#125; via #&#123;via&#125;.&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">deliver(to: &quot;B&quot;)</span><br><span class="line"># =&gt; &quot;Sending from A to B via mail.&quot;</span><br><span class="line">deliver(via: &quot;Pony Express&quot;, from: &quot;B&quot;, to: &quot;A&quot;)</span><br><span class="line"># =&gt; &quot;Sending from B to A via Pony Express.&quot;</span><br></pre></td></tr></table></figure></p><h2 id="çœŸå€¼"><a href="#çœŸå€¼" class="headerlink" title="çœŸå€¼"></a>çœŸå€¼</h2><p>Ruby æŠŠä»»ä½•ä¸æ˜¯ nil å’Œ false çš„å€¼å½“ä½œçœŸå€¼ã€‚å’Œå…¶ä»–è¯­è¨€ä¸åŒï¼Œå¯ä»¥è¯´å·®å¼‚å¾ˆå¤§ï¼Œå…¶ä»–è¯­è¨€ï¼Œå¦‚ Pythonã€C ç­‰ï¼Œéƒ½æ˜¯ä¼šè®¤ä¸º 0 å’Œä¸€äº›å…¶ä»–çš„å€¼ï¼Œ æ¯”å¦‚ç©ºçš„åˆ—è¡¨ï¼Œä¼šè¢«å½“ä½œå‡å€¼ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Ruby ä¸­</span><br><span class="line">if 0</span><br><span class="line">  puts &quot;0 ä¸ºçœŸ&quot;</span><br><span class="line">else</span><br><span class="line">  puts &quot;0 ä¸ºå‡&quot;</span><br><span class="line">end</span><br><span class="line"># puts &quot;0 ä¸ºçœŸ&quot;</span><br></pre></td></tr></table></figure></p><h2 id="æƒé™æ§åˆ¶å£°æ˜"><a href="#æƒé™æ§åˆ¶å£°æ˜" class="headerlink" title="æƒé™æ§åˆ¶å£°æ˜"></a>æƒé™æ§åˆ¶å£°æ˜</h2><p>æƒé™å£°æ˜ä¼šä¸€ç›´åº”ç”¨åˆ°ç±»å£°æ˜åº•éƒ¨æˆ–è€…ç›´åˆ°å¦å¤–ä¸€ä¸ªæƒé™å£°æ˜å¼€å§‹èµ·ä½œç”¨ã€‚</p><ul><li>public æ˜¯å…¬å¼€çš„ã€‚</li><li>private è¡¨ç¤ºåªæœ‰éæ˜ç¡®æŒ‡å®šæ¥æ”¶è€…å…è®¸è°ƒç”¨ã€‚ç§æœ‰æ–¹æ³•è°ƒç”¨åªå…è®¸ self ä¸ºæ¥æ”¶è€…ã€‚</li><li>protected å¯ä»¥è¢«ç±»åŠå­ç±»çš„å®ä¾‹è°ƒç”¨ï¼ŒåŒä¸€ä¸ªç±»çš„å…¶ä»–å®ä¾‹ä¹Ÿå¯ä»¥è°ƒç”¨ã€‚<br>å¦å¤–ï¼Œ<code>public</code>ã€<code>private</code> å’Œ <code>protected</code> éƒ½æ˜¯æ–¹æ³•ï¼Œå¯ä»¥ä¼ å‚ï¼Œå¦‚æœä¼ é€’ä¸€ä¸ªç¬¦å·ä½œä¸ºå‚æ•°ï¼Œé‚£ç¬¦å·æ‰€ä»£è¡¨çš„å‡½æ•°å°±æ˜¯æŒ‡å®šçš„æƒé™ã€‚<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?&gt; method(:public)</span><br><span class="line">=&gt; #&lt;Method: main.public&gt;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç±»æ˜¯å¼€æ”¾çš„"><a href="#ç±»æ˜¯å¼€æ”¾çš„" class="headerlink" title="ç±»æ˜¯å¼€æ”¾çš„"></a>ç±»æ˜¯å¼€æ”¾çš„</h2><p>å¯ä»¥æ‰“å¼€ä»»ä½•ç±»ï¼Œå¯¹å®ƒå¢åŠ å’Œä¿®æ”¹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Class Fixnum</span><br><span class="line">  def month</span><br><span class="line">    self * 30</span><br><span class="line">  end</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><p>1.month</p><h2 id="ä»¥-ï¼Ÿå’Œ-ï¼ç»“å°¾çš„æ–¹æ³•"><a href="#ä»¥-ï¼Ÿå’Œ-ï¼ç»“å°¾çš„æ–¹æ³•" class="headerlink" title="ä»¥ ï¼Ÿå’Œ ï¼ç»“å°¾çš„æ–¹æ³•"></a>ä»¥ ï¼Ÿå’Œ ï¼ç»“å°¾çš„æ–¹æ³•</h2><p>é¦–å…ˆï¼Œå…è®¸ ï¼Ÿå’Œ ! ç»“å°¾ã€‚ä»¥é—®å·ç»“å°¾çš„æ–¹æ³•è¡¨ç¤ºè¿”å›å¸ƒå°”å€¼ï¼Œä»¥æ„Ÿå¹å·ç»“å°¾è¡¨ç¤ºæ½œåœ¨â€œå±é™©â€æ–¹æ³•ï¼Œä¼šä¿®æ”¹<code>self</code>æˆ–å‚æ•°ã€‚</p><h2 id="Missing-æ–¹æ³•"><a href="#Missing-æ–¹æ³•" class="headerlink" title="Missing æ–¹æ³•"></a>Missing æ–¹æ³•</h2><p>ä¼šå°†ä¸å­˜åœ¨çš„æ–¹æ³•åï¼Œä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>method_missing</code>ï¼Œ<code>method_missing</code> é»˜è®¤ä¼šæŠ›å‡ºä¸€ä¸ª NameError å¼‚å¸¸ã€‚æ ¹æ®éœ€è¦å¯ä»¥ï¼Œå¯ä»¥è¦†ç›–è¯¥æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def method_missing(id, *arguments)</span><br><span class="line">  puts &quot;è°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•ï¼š#&#123;id&#125;ã€‚å®ƒçš„å‚æ•°ï¼š#&#123;arguments.join(&quot;, &quot;)&#125;&quot;</span><br><span class="line">end</span><br><span class="line">1.sssss :a 2222</span><br><span class="line"># è°ƒç”¨äº†ä¸å­˜åœ¨çš„æ–¹æ³•ï¼šsssssã€‚å®ƒçš„å‚æ•°ï¼ša, 2222</span><br></pre></td></tr></table></figure></p><h2 id="æ“ä½œç¬¦æ˜¯è¯­æ³•ç³–"><a href="#æ“ä½œç¬¦æ˜¯è¯­æ³•ç³–" class="headerlink" title="æ“ä½œç¬¦æ˜¯è¯­æ³•ç³–"></a>æ“ä½œç¬¦æ˜¯è¯­æ³•ç³–</h2><p>å¤§éƒ¨åˆ†æ“ä½œç¬¦ä»…ä»…æ˜¯æ–¹æ³•è°ƒç”¨çš„è¯­æ³•ç³–ï¼Œä½ å¯ä»¥è¦†ç›–ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">=&gt; #&lt;Method: main.public&gt;</span><br><span class="line">&gt;&gt; class Fixnum</span><br><span class="line">&gt;&gt;   def +(other)</span><br><span class="line">&gt;&gt;     self - other</span><br><span class="line">&gt;&gt;   end</span><br><span class="line">&gt;&gt; end</span><br><span class="line">=&gt; :+</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt; 1 + 1</span><br><span class="line">=&gt; 0</span><br></pre></td></tr></table></figure></p><p>å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸€äº›æ“ä½œç¬¦ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=, .., ..., not, &amp;&amp;, and, ||, or, ::, +=, *=</span><br></pre></td></tr></table></figure></p><h2 id="æ¶ˆæ¯ä¼ é€’"><a href="#æ¶ˆæ¯ä¼ é€’" class="headerlink" title="æ¶ˆæ¯ä¼ é€’"></a>æ¶ˆæ¯ä¼ é€’</h2><p>æ–¹æ³•è°ƒç”¨å®é™…æ˜¯æ¶ˆæ¯ä¼ é€’ï¼Œä¸æ˜¯å‡½æ•°è°ƒç”¨ã€‚å°†ä¸€æ¡æ¶ˆæ¯ä¼ é€’ç»™å¦ä¸€ä¸ªå¯¹è±¡ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç»è¿‡ç²—ç•¥çš„çœ‹ Ruby ç›¸å…³èµ„æºï¼Œçœ‹åˆ°äº†å¾ˆå¤šç›¸ä¼¼æˆ–ç›¸å¼‚å´ç†Ÿæ‚‰çš„ç‚¹æ»´ï¼Œè¿˜è°ˆä¸ä¸Šæ·±åˆ»ä½“éªŒï¼Œåªèƒ½ç®—è®°å½•ã€‚ä»éœ€ç”¨å¿ƒæ¢ç´¢ï¼Œå†³å®šé«˜å±‚å»ºç­‘éœ€è¦å¤¯å®åŸºç¡€ï¼Œç†è§£åŸç†ï¼Œä½“ä¼šè®¾è®¡ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>Ruby æœ­è®° - çºµè§ˆä¼˜é›…çš„ Ruby</title>
    <link href="http://grackanil.top/2018/07/26/ruby-glance/"/>
    <id>http://grackanil.top/2018/07/26/ruby-glance/</id>
    <published>2018-07-25T16:43:54.453Z</published>
    <updated>2018-07-27T15:33:23.576Z</updated>
    
    <content type="html"><![CDATA[<p>â€œRuby is simple in appearance, but is very complex inside, just like our human body.â€â€Šâ€”â€ŠMatz, creator of the Ruby programming language</p><blockquote><p>ä¸€ä¸ªè¯»å†™éƒ½è®©ä½ è§‰å¾—ä¼˜é›…çš„è¯­è¨€ã€‚</p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å…ˆçºµè§ˆä¸€ä¸‹æ•´ä½“ Ruby çš„è¯­æ³•ï¼Œç²—ç•¥çš„è¯»ä¸€ä¸‹åœ¨çº¿æ•™ç¨‹ <a href="https://www.kancloud.cn/imxieke/ruby-base" target="_blank" rel="noopener">ã€ŠrubyåŸºç¡€æ•™ç¨‹ï¼ˆä¸­æ–‡ç¬¬å››ç‰ˆï¼‰ã€‹</a>ï¼Œå¦‚æœè¿æ¥å¤±æ•ˆï¼Œå¯ä»¥åˆ° <code>é“¾æ¥: https://pan.baidu.com/s/1TUeRBYz0e7RqmauTftqXhA å¯†ç : 2qpk</code> ä¸‹è½½ epub(æ³¨ï¼šä¸ºäº†åˆ†äº«å­¦ä¹ ä½¿ç”¨ï¼Œè‹¥ä¾µå³åˆ )</p><h2 id="äº¤äº’å¼-ruby-ç•Œé¢"><a href="#äº¤äº’å¼-ruby-ç•Œé¢" class="headerlink" title="äº¤äº’å¼ ruby ç•Œé¢"></a>äº¤äº’å¼ ruby ç•Œé¢</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># &gt; ruby -E UTF-8 è„šæœ¬æ–‡ä»¶å â† è„šæœ¬æ‰§è¡Œ</span><br><span class="line"># &gt; irb -E UTF-8 â† irb å¯åŠ¨</span><br><span class="line"># &gt; irb --simple-prompt ç®€åŒ–è¾“å‡º</span><br></pre></td></tr></table></figure><h2 id="æ‰“å°"><a href="#æ‰“å°" class="headerlink" title="æ‰“å°"></a>æ‰“å°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;Hello, Ruby.\n&quot;)      #=&gt;Hello, Ruby.</span><br><span class="line">print(&apos;Hello, \nRuby\n!\n&apos;)  #=&gt;Hello, \nRuby\n!\n</span><br><span class="line">print(&quot;Hello, \nRuby\n!\n&quot;)  #=&gt;Hello, #æ¢è¡Œ# Ruby</span><br><span class="line">puts &quot;Hello, &quot;, &quot;Ruby&quot;       #=&gt;Hello, #æ¢è¡Œ# Ruby</span><br><span class="line">puts &quot;100&quot;  #=&gt; 100</span><br><span class="line">puts 100    #=&gt; 100</span><br><span class="line">p &quot;100&quot;     #=&gt; &quot;100&quot;</span><br><span class="line">p 100       #=&gt; 100</span><br><span class="line">puts &quot;Hello, \n\tRuby.&quot; #=&gt; è½¬ä¹‰</span><br><span class="line">p &quot;Hello, \n\tRuby.&quot; #=&gt; ä¸è½¬ä¹‰</span><br><span class="line">print &quot;è¡¨é¢ç§¯=&quot;, (20 * 2), &quot;\n&quot;</span><br><span class="line">print &quot;è¡¨é¢ç§¯=#&#123;20 * 2&#125;\n&quot;</span><br></pre></td></tr></table></figure><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Šã€‚</span><br><span class="line"></span><br><span class="line">=begin</span><br><span class="line">æˆ‘æ˜¯å¤šè¡Œæ³¨é‡Š</span><br><span class="line">å“¦</span><br><span class="line">=end</span><br></pre></td></tr></table></figure><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><p>å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œå­˜å‚¨ 1<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">one = 1</span><br></pre></td></tr></table></figure></p><p>é™¤äº†å®šä¹‰ integer ï¼Œè¿˜å¯ä»¥å®šä¹‰ Stringï¼Œbooleanï¼Œsymbolï¼Œfloat ç­‰ç­‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">t_val = true</span><br><span class="line">f_val = false</span><br><span class="line"></span><br><span class="line">name = &quot;Grac Kanil&quot;</span><br><span class="line"></span><br><span class="line">symbol = :symbol</span><br><span class="line"></span><br><span class="line">price = 11.25</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># å±€éƒ¨å˜é‡ä»¥è‹±æ–‡å­—æ¯æˆ–è€… _ å¼€å¤´ã€‚</span><br><span class="line"># å…¨å±€å˜é‡ä»¥ $ å¼€å¤´ã€‚</span><br><span class="line"># å®ä¾‹å˜é‡ä»¥ @ å¼€å¤´ã€‚</span><br><span class="line"># ç±»å˜é‡ä»¥ @@ å¼€å¤´</span><br></pre></td></tr></table></figure><h2 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># å¸¸é‡</span><br><span class="line">&gt; irb --simple-prompt</span><br><span class="line">&gt;&gt; TEST = 1</span><br><span class="line">=&gt; 1</span><br><span class="line">&gt;&gt; TEST = 2</span><br><span class="line">(irb):4: warning: already initialized constant TEST</span><br><span class="line">(irb):3: warning: previous definition of TEST was here</span><br><span class="line">=&gt; 2</span><br></pre></td></tr></table></figure><h2 id="èµ‹å€¼"><a href="#èµ‹å€¼" class="headerlink" title="èµ‹å€¼"></a>èµ‹å€¼</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">a, b, c = 1, 2, 3</span><br><span class="line"></span><br><span class="line">a, b, c, d = 1, 2</span><br><span class="line">p [a, b, c]    #=&gt; [1, 2, nil]</span><br><span class="line"></span><br><span class="line">a, b, *c = 1, 2, 3, 4, 5</span><br><span class="line">p [a, b, c]    #=&gt; [1, 2, [3, 4, 5]]</span><br><span class="line">a, * b, c = 1, 2, 3, 4, 5</span><br><span class="line">p [a, b, c]    #-&gt; [1, [2, 3, 4], 5]</span><br><span class="line"></span><br><span class="line">a, b = 0, 1</span><br><span class="line">a, b = b, a    # ç½®æ¢å˜é‡aã€b çš„å€¼</span><br><span class="line">p [a, b]       #=&gt; [1, 0</span><br><span class="line"></span><br><span class="line">ary = [1, 2]</span><br><span class="line">a, b = ary</span><br><span class="line">p a        #=&gt; 1</span><br><span class="line">p b        #=&gt; 2</span><br><span class="line"></span><br><span class="line">ary = [1, [2, 3], 4]</span><br><span class="line">a, b, c = ary</span><br><span class="line">p a    #=&gt; 1</span><br><span class="line">p b    #=&gt; [2, 3]</span><br><span class="line">p c    #=&gt; 4</span><br><span class="line"></span><br><span class="line">ary = [1, [2, 3], 4]</span><br><span class="line">a, (b1, b2), c = ary    # å¯¹ä¸æ•°ç»„ç»“æ„ç›¸å¯¹åº”çš„å˜é‡èµ‹å€¼</span><br><span class="line">p a    #=&gt; 1</span><br><span class="line">p b1   #=&gt; 2</span><br><span class="line">p b2   #=&gt; 3</span><br><span class="line">p c    #=&gt; 4</span><br></pre></td></tr></table></figure><h2 id="æ§åˆ¶æµ"><a href="#æ§åˆ¶æµ" class="headerlink" title="æ§åˆ¶æµ"></a>æ§åˆ¶æµ</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"># Ruby ä¼šè®¤ä¸º false ä¸ nil ä»£è¡¨å‡ï¼Œé™¤æ­¤ä»¥å¤–çš„æ‰€æœ‰å€¼éƒ½ä»£è¡¨çœŸ</span><br><span class="line"># then å¯ä»¥çœç•¥</span><br><span class="line">x = 2</span><br><span class="line">if x == 2 then</span><br><span class="line">    p &quot;x=2&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if true</span><br><span class="line">  puts &quot;Hello Ruby.&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if 2 &gt; 1</span><br><span class="line">  puts &quot;bigger&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if 1 &gt; 2</span><br><span class="line">  puts &quot;bigger&quot;</span><br><span class="line">else</span><br><span class="line">  puts &quot;smaller&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if 1 &gt; 2</span><br><span class="line">  puts &quot;bigger&quot;</span><br><span class="line">elsif 2 &gt; 1</span><br><span class="line">  puts &quot;smaller&quot;</span><br><span class="line">else</span><br><span class="line">  puts &quot;equal&quot;</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if æ¡ä»¶ then</span><br><span class="line">ã€€å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if æ¡ä»¶ 1 then</span><br><span class="line">ã€€å¤„ç† 1</span><br><span class="line">elsif æ¡ä»¶ 2 then</span><br><span class="line">ã€€å¤„ç† 2</span><br><span class="line">elsif æ¡ä»¶ 3 then</span><br><span class="line">ã€€å¤„ç† 3</span><br><span class="line">else</span><br><span class="line">ã€€å¤„ç† 4</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">unless æ¡ä»¶ then</span><br><span class="line">ã€€å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">unless æ¡ä»¶</span><br><span class="line">ã€€å¤„ç† 1</span><br><span class="line">else</span><br><span class="line">ã€€å¤„ç† 2</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">if æ¡ä»¶</span><br><span class="line">ã€€å¤„ç† 2</span><br><span class="line">else</span><br><span class="line">ã€€å¤„ç† 1</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">case æ¯”è¾ƒå¯¹è±¡</span><br><span class="line">when å€¼ 1 then</span><br><span class="line">ã€€å¤„ç† 1</span><br><span class="line">when å€¼ 2 then</span><br><span class="line">ã€€å¤„ç† 2</span><br><span class="line">when å€¼ 3 then</span><br><span class="line">ã€€å¤„ç† 3</span><br><span class="line">else</span><br><span class="line">ã€€å¤„ç† 4</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">def function?</span><br><span class="line">  true</span><br><span class="line">end</span><br><span class="line"># æ–¹æ³•åä¸º function?ï¼Œé—®å·è¡¨ç¤ºè¿”å› boolean ç±»å‹</span><br><span class="line">puts &quot;letâ€™s go&quot; if function?</span><br></pre></td></tr></table></figure><h2 id="å¾ªç¯å’Œè¿­ä»£"><a href="#å¾ªç¯å’Œè¿­ä»£" class="headerlink" title="å¾ªç¯å’Œè¿­ä»£"></a>å¾ªç¯å’Œè¿­ä»£</h2><p>Ruby ä¸­çš„è¿­ä»£æœ‰è®¸å¤šç§ä¸åŒçš„å½¢å¼ï¼Œç®€å•è¯´ä¸€ä¸‹ <code>while</code>ï¼Œ<code>for</code> å’Œ <code>each</code>ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">å¾ªç¯æ¬¡æ•°.times do</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">å¾ªç¯æ¬¡æ•°.times &#123;</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">for å˜é‡ in å¼€å§‹æ—¶çš„æ•°å€¼..ç»“æŸæ—¶çš„æ•°å€¼ do</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">for å˜é‡ in å¯¹è±¡ do</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">while æ¡ä»¶ do</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">until æ¡ä»¶ do</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">å¯¹è±¡.each do | å˜é‡ |</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">å¯¹è±¡.each &#123;| å˜é‡ |</span><br><span class="line">ã€€å¸Œæœ›å¾ªç¯çš„å¤„ç†</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># do ä¹Ÿå¯ä»¥çœç•¥</span><br><span class="line">i = 1</span><br><span class="line">while i &lt; 10 do</span><br><span class="line">    p &quot;#&#123;i&#125;&quot;</span><br><span class="line">    i = i + 1</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">n = 1</span><br><span class="line">while n &lt;= 10</span><br><span class="line">  puts n</span><br><span class="line">  n += 1</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">for n in 1....10</span><br><span class="line">  puts n</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">[1,2,3,4,5,6].each do |x| </span><br><span class="line">  puts x</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><p>each å’Œ loop åˆæœ‰äº›åŒºåˆ«ï¼Œeach è¿­ä»£å™¨ä»…ä»…ä¿æŒå˜é‡åœ¨ block ä¸­ï¼Œè€Œ loop å…è®¸å˜é‡åœ¨ block å¤–ï¼Œå¦‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">irb --simple-prompt ä¸­æµ‹è¯•</span><br><span class="line">?&gt; for num in 1...5</span><br><span class="line">&gt;&gt;   puts num</span><br><span class="line">&gt;&gt; end</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">=&gt; 1...5</span><br><span class="line">&gt;&gt; puts num</span><br><span class="line">4</span><br><span class="line">=&gt; nil</span><br><span class="line"></span><br><span class="line">ç„¶è€Œ</span><br><span class="line">&gt;&gt; [1,2,3,4,5].each do |n|</span><br><span class="line">?&gt;   puts n</span><br><span class="line">&gt;&gt; end</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">=&gt; [1, 2, 3, 4, 5]</span><br><span class="line">&gt;&gt; puts n</span><br><span class="line">NameError: undefined local variable or method `n&apos; for main:Object</span><br><span class="line">from (irb):17</span><br><span class="line">from /Users/gekang/.rvm/rubies/ruby-2.2.4/bin/irb:11:in `&lt;main&gt;&apos;</span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure></p><p>å¦å¤–ä¹Ÿæœ‰æ— é™å¾ªç¯çš„å†™æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">loop do</span><br><span class="line">    print &quot;Ruby&quot;</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><h2 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h2><ul><li><p>arrayï¼Œä¼—æ‰€å‘¨çŸ¥ï¼Œä½¿ç”¨ index å¯ä»¥æ“ä½œ arrayï¼Œåœ¨ Ruby ä¸­è¿˜æœ‰ä¸€äº›å…¶ä»–ä¸åŒçš„æ“ä½œæ–¹å¼ï¼Œå¦‚<code>push</code> å’Œ <code>&lt;&lt;</code>ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">?&gt; array = [1,2,3,4,5]</span><br><span class="line">=&gt; [1, 2, 3, 4, 5]</span><br><span class="line"></span><br><span class="line">?&gt; array = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; array.push(&quot;grac&quot;)</span><br><span class="line">=&gt; [&quot;grac&quot;]</span><br><span class="line">&gt;&gt; array.push(&quot;kanil&quot;)</span><br><span class="line">=&gt; [&quot;grac&quot;, &quot;kanil&quot;]</span><br><span class="line">&gt;&gt;</span><br><span class="line">?&gt;</span><br><span class="line">?&gt; print array[0]</span><br><span class="line">grac=&gt; nil</span><br><span class="line">&gt;&gt;</span><br><span class="line"></span><br><span class="line">?&gt; array = []</span><br><span class="line">=&gt; []</span><br><span class="line">&gt;&gt; array &lt;&lt; &quot;Grac&quot;</span><br><span class="line">=&gt; [&quot;Grac&quot;]</span><br><span class="line">&gt;&gt; array &lt;&lt; &quot;Kanil&quot;</span><br><span class="line">=&gt; [&quot;Grac&quot;, &quot;Kanil&quot;]</span><br><span class="line"></span><br><span class="line">ä¹Ÿå¯ä»¥ä½¿ç”¨ç‚¹è¯­æ³•ï¼Œé…·ä¸é…·ï¼Ÿ</span><br><span class="line">?&gt; array.&lt;&lt;(&quot;Ruby is cool,huh?&quot;)</span><br><span class="line">=&gt; [&quot;Grac&quot;, &quot;Kanil&quot;, &quot;Ruby is cool,huh?&quot;]</span><br></pre></td></tr></table></figure></li><li><p>hashï¼Œkey-value é›†åˆ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">?&gt; hash = &#123;</span><br><span class="line">?&gt; &quot;key1&quot; =&gt; &quot;value1&quot;,</span><br><span class="line">?&gt; &quot;key2&quot; =&gt; &quot;value2&quot;</span><br><span class="line">&gt;&gt; &#125;</span><br><span class="line">=&gt; &#123;&quot;key1&quot;=&gt;&quot;value1&quot;, &quot;key2&quot;=&gt;&quot;value2&quot;&#125;</span><br><span class="line"></span><br><span class="line">å¯ä»¥ä½¿ç”¨ä»»æ„ç±»å‹ä½œä¸º value</span><br><span class="line">&gt;&gt; hash = &#123;</span><br><span class="line">?&gt;   &quot;name&quot; =&gt; &quot;grackanil&quot;,</span><br><span class="line">?&gt;   &quot;age&quot; =&gt; 20</span><br><span class="line">&gt;&gt; &#125;</span><br><span class="line">=&gt; &#123;&quot;name&quot;=&gt;&quot;grackanil&quot;, &quot;age&quot;=&gt;20&#125;</span><br><span class="line"></span><br><span class="line">hash[&quot;gender&quot;] = &quot;male&quot;</span><br></pre></td></tr></table></figure></li><li><p>è¿­ä»£å™¨åœ¨é›†åˆä¸­çš„ä½¿ç”¨</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">?&gt; array.each do |name|</span><br><span class="line">?&gt;   puts name</span><br><span class="line">&gt;&gt; end</span><br><span class="line">grac</span><br><span class="line">kanil</span><br><span class="line">=&gt; [&quot;grac&quot;, &quot;kanil&quot;]</span><br><span class="line"></span><br><span class="line">?&gt; hash.each do |property, value|</span><br><span class="line">?&gt;   puts &quot;#&#123;property&#125;: #&#123;value&#125;&quot;</span><br><span class="line">&gt;&gt; end</span><br><span class="line">name: grackanil</span><br><span class="line">age: 20</span><br><span class="line">gender: male</span><br><span class="line">=&gt; &#123;&quot;name&quot;=&gt;&quot;grackanil&quot;, &quot;age&quot;=&gt;20, &quot;gender&quot;=&gt;&quot;male&quot;&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ç±»å’Œå¯¹è±¡"><a href="#ç±»å’Œå¯¹è±¡" class="headerlink" title="ç±»å’Œå¯¹è±¡"></a>ç±»å’Œå¯¹è±¡</h2><p>é¢å‘å¯¹è±¡è¯­è¨€ï¼Œè‡ªç„¶å°‘ä¸äº†<code>ç±»</code>å’Œ<code>å¯¹è±¡</code>çš„æ¦‚å¿µ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">class Animal</span><br><span class="line">  def initialize(species,habit)</span><br><span class="line">    @species = species</span><br><span class="line">    @habit = habit</span><br><span class="line">  end</span><br><span class="line">end</span><br><span class="line">cat = Animal.new(&quot;feline&quot;,&quot;meow&quot;)</span><br></pre></td></tr></table></figure></p><ul><li>attr_reader(è‡ªåŠ¨ç”Ÿæˆgetter)</li><li>attr_writer(è‡ªåŠ¨ç”Ÿæˆsetter)</li><li>attr_accessor(è‡ªåŠ¨ç”Ÿæˆ getter å’Œ setter)</li></ul><p>æå‡º getter å’Œ setter çš„æ¦‚å¿µï¼Œä¸»è¦æ˜¯ä½“ç°ä¸€ä¸ª<code>å°è£…</code>çš„è®¾è®¡åŸåˆ™ã€‚</p><p>ç»§æ‰¿<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class Cat &lt; Animal</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><h2 id="æ¨¡å—ï¼ˆä¸€ä¸ªå·¥å…·ç®±ï¼‰"><a href="#æ¨¡å—ï¼ˆä¸€ä¸ªå·¥å…·ç®±ï¼‰" class="headerlink" title="æ¨¡å—ï¼ˆä¸€ä¸ªå·¥å…·ç®±ï¼‰"></a>æ¨¡å—ï¼ˆä¸€ä¸ªå·¥å…·ç®±ï¼‰</h2><p>åŒ…å«ä¸€äº›å¸¸é‡å’Œæ–¹æ³•çš„é›†åˆ<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">?&gt; module Hi</span><br><span class="line">&gt;&gt;   def hello_world</span><br><span class="line">&gt;&gt;     puts &quot;Hello, world.&quot;</span><br><span class="line">&gt;&gt;   end</span><br><span class="line">&gt;&gt; end</span><br><span class="line">=&gt; :hello_world</span><br><span class="line"></span><br><span class="line">?&gt; class Test</span><br><span class="line">&gt;&gt;   include Hi</span><br><span class="line">&gt;&gt;   def initialize(user)</span><br><span class="line">&gt;&gt;     @user = user</span><br><span class="line">&gt;&gt;   end</span><br><span class="line">&gt;&gt; end</span><br><span class="line">=&gt; :initialize</span><br><span class="line">&gt;&gt; test = Test.new(&quot;grackanil&quot;)</span><br><span class="line">=&gt; #&lt;Test:0x007fa01d801af0 @user=&quot;grackanil&quot;&gt;</span><br><span class="line">&gt;&gt; test.hello_world</span><br><span class="line">Hello, world.</span><br><span class="line">=&gt; nil</span><br><span class="line"></span><br><span class="line">module Tools</span><br><span class="line">    def class_name</span><br><span class="line">        p self</span><br><span class="line">    end</span><br><span class="line">    # module_function :class_name</span><br><span class="line">end</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Son</span><br><span class="line">    include Tools</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">son = Son.new</span><br><span class="line">if Son.include?(Tools)</span><br><span class="line">    son.class_name</span><br><span class="line">end</span><br><span class="line"></span><br><span class="line">p Son.ancestors</span><br><span class="line">p Son.superclass</span><br></pre></td></tr></table></figure><p></p><h2 id="åè¯­"><a href="#åè¯­" class="headerlink" title="åè¯­"></a>åè¯­</h2><p>å¯ä»¥è¯´åŠå…¶ç²—ç•¥åœ°è¿‡äº†ä¸‹ Rubyï¼Œä½†å¿«ä¹ä¹‹æ„ï¼Œä¸ä¼šå› ä¸ºå°‘è€Œæ³›å‰Šå‡ä¸æ¯«ï¼Œå¤§æŠµè¿™å°±æ˜¯é­…åŠ›å§ :)</p><p>è·¯æ¼«æ¼«å…¶ä¿®è¿œå…®ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;â€œRuby is simple in appearance, but is very complex inside, just like our human body.â€â€Šâ€”â€ŠMatz, creator of the Ruby programming language&lt;/p
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>Ruby æœ­è®° - æµ…è°ˆå’Œé…ç½® Ruby</title>
    <link href="http://grackanil.top/2018/07/25/ruby-tutorial-environment/"/>
    <id>http://grackanil.top/2018/07/25/ruby-tutorial-environment/</id>
    <published>2018-07-25T05:46:37.867Z</published>
    <updated>2018-07-30T16:10:54.441Z</updated>
    
    <content type="html"><![CDATA[<p>Ruby â€”â€” æœ‰è¶£çš„å“²å­¦ã€‚</p><blockquote><p>What,Why,Where,How? ä½ æˆ–è®¸ä¼šé—®è¿™äº›é—®é¢˜ï¼Œæ¥ä¸‹æ¥ï¼Œæµ…è°ˆäº›è®¸æ‹™è§ã€‚</p></blockquote><h2 id="0x00-å‰è¨€"><a href="#0x00-å‰è¨€" class="headerlink" title="0x00 å‰è¨€"></a>0x00 å‰è¨€</h2><p>å¤§å­¦æ—¶ï¼Œåœ¨ä¸€ä¸ªåˆ†äº«ä¼šä¸Šï¼Œå¬ä¸€ä¸ªç§‘å¤§çš„å‡†ç ”ç©¶ç”Ÿè¯´ï¼Œâ€œå¦‚ä½•ç†è§£è®¡ç®—æœºåŸºç¡€ï¼Ÿé¦–å…ˆä»æ€ç»´æ–¹å¼ä¸Šå°±è¦è½¬å˜ï¼Œç«™åœ¨è®¡ç®—æœºçš„è§’åº¦å»æ€è€ƒé—®é¢˜ã€‚â€ä¼¼ä¹ä¹Ÿä¸æ— é“ç†ã€‚æˆ‘æƒ³ï¼Œå·¥ç¨‹å¸ˆå¤§å¤šä¹Ÿéƒ½æ˜¯è¿™ä¸ªæ€ç»´ï¼Œè¿™æ ·æœºå™¨å°±èƒ½è¿è¡Œçš„æ›´å¿«ï¼Œè¿è¡Œæ•ˆç‡æ›´é«˜â€¦</p><p>ç„¶è€Œï¼Œæ¾æœ¬è¡Œå¼˜å…ˆç”Ÿ(Matz)è®¾è®¡ Ruby è¯­è¨€ç¬¬ä¸€è¦ä¹‰ï¼Œå°±æ˜¯ <code>å‡å°‘ç¼–ç¨‹æ—¶å€™çš„ä¸å¿…è¦çš„çç¢æ—¶é—´ï¼Œä»¤ç¼–å†™ç¨‹åºçš„äººé«˜å…´ã€‚</code> </p><p>Matz è®¤ä¸º Ruby &gt; (Smalltalk + Perl) / 2ï¼Œè¡¨ç¤ºRubyæ˜¯ä¸€ä¸ªè¯­æ³•åƒ Smalltalk ä¸€æ ·å®Œå…¨é¢å‘å¯¹è±¡ã€è„šæœ¬è¿è¡Œã€åˆæœ‰ Perl å¼ºå¤§çš„æ–‡å­—å¤„ç†åŠŸèƒ½çš„ç¼–ç¨‹è¯­è¨€ã€‚è¯´åˆ° Smalltalk ï¼Œä¸å¾—ä¸æä¸€ä¸‹ Objective-Cï¼Œ å®ƒæœ€å¤§çš„ç‰¹è‰²å°±æ˜¯æ‰¿è‡ª Smalltalk çš„æ¶ˆæ¯ä¼ é€’æ¨¡å‹ï¼ˆmessage passingï¼‰ï¼Œè¯¥æœºåˆ¶ä¸ä»Šæ—¥ C++ å¼ä¹‹ä¸»æµé£æ ¼å·®å¼‚ç”šå¤§ã€‚æ‰€ä»¥ä¹Ÿæé«˜äº†æˆ‘æ¢å¯»çš„å…´è¶£ ï¼›ï¼‰</p><h2 id="0x01-Ruby-æ˜¯ä»€ä¹ˆ"><a href="#0x01-Ruby-æ˜¯ä»€ä¹ˆ" class="headerlink" title="0x01 Ruby æ˜¯ä»€ä¹ˆ"></a>0x01 Ruby æ˜¯ä»€ä¹ˆ</h2><p>Ruby æ˜¯ä¸€ç§é¢å‘å¯¹è±¡ã€å‘½ä»¤å¼ã€å‡½æ•°å¼ã€åŠ¨æ€çš„é€šç”¨ç¼–ç¨‹è¯­è¨€ã€‚</p><p>Ruby has been designed on the Principle of Least Surprise - Matz says â€œI wanted to minimize my frustration during programming, so I want to minimize my effort in programming. That was my primary goal in designing Ruby. I want to have fun in programming myself. After releasing Ruby and many people around the world got to know Ruby, they said they feel the way I feel. They came up with the phrase the principle of least surprise.â€</p><p>2001 å¹´ï¼ŒOreilly å¯¹ Matz çš„ä¸€ä¸ªå…³äº Ruby å†å²çš„<a href="https://www.oreilly.com/ideas" target="_blank" rel="noopener">é‡‡è®¿</a>. Matz çš„ â€œ<a href="https://www.artima.com/intv/ruby.html" target="_blank" rel="noopener">The Philosophy of Ruby</a>â€œ ä¹Ÿå€¼å¾—å­¦ä¹ ã€‚</p><h2 id="0x02-ä¸ºä»€ä¹ˆè¦å­¦ä¹ -Ruby"><a href="#0x02-ä¸ºä»€ä¹ˆè¦å­¦ä¹ -Ruby" class="headerlink" title="0x02 ä¸ºä»€ä¹ˆè¦å­¦ä¹  Ruby"></a>0x02 ä¸ºä»€ä¹ˆè¦å­¦ä¹  Ruby</h2><p><code>æœ‰è¶£</code>ã€‚è¿™æ˜¯ä¸€ä¸ªå¥½çš„é—®é¢˜ï¼Œä½†è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¤§å®¶éƒ½çŸ¥é“ç­”æ¡ˆçš„é—®é¢˜ã€‚ä¸€åƒä¸ªè¯»è€…å°±æœ‰ä¸€åƒä¸ªå“ˆå§†é›·ç‰¹ï¼Œæˆ‘æƒ³ä¹Ÿç±»ä¼¼äºè¿™ä¸ªé—®é¢˜ã€‚æˆ‘ç®€å•è¯´ä¸€ä¸‹æˆ‘çš„åŸå› ï¼Œæœ‰äº›äººä¼šè¯´ï¼Œè¯­è¨€åªæ˜¯å·¥å…·è€Œå·²ï¼Œä¸ç”¨å­¦ä¹ é‚£ä¹ˆå¤šã€‚å¸Œæœ›å¤§å®¶è¾©è¯çš„æ€è€ƒè¿™ä¸ªè§‚ç‚¹ï¼Œæ¯ä¸€é—¨è¯­è¨€ï¼Œæ¯ä¸€ä¸ªè®¾è®¡ï¼Œéƒ½æœ‰è‡ªå·±çš„åŸåˆ™ï¼Œéƒ½æœ‰è‡ªå·±çš„æ€ç»´æ–¹å¼ï¼Œè‡ªå·±çš„å“²å­¦å­˜åœ¨ã€‚å­¦ä¹ é”»ç‚¼è‡ªå·±ï¼Œå‘äººæ·±çœã€‚æ¯ä¸€ä¸ª iOS å¼€å‘è€…ï¼Œå¯¹ Smalltalk æˆ–å¤šæˆ–å°‘ä¼šæœ‰äº›æƒ…æ„«ï¼ŒRuby ä¸­ä¹Ÿèƒ½çœ‹åˆ°å®ƒçš„å½±å­ï¼Œä¸å…æœ‰äº›å…±é¸£ã€‚</p><h2 id="0x03-å¦‚ä½•å­¦ä¹ -Ruby"><a href="#0x03-å¦‚ä½•å­¦ä¹ -Ruby" class="headerlink" title="0x03 å¦‚ä½•å­¦ä¹  Ruby"></a>0x03 å¦‚ä½•å­¦ä¹  Ruby</h2><h3 id="ä¸€ã€ä¸‹è½½-Ruby"><a href="#ä¸€ã€ä¸‹è½½-Ruby" class="headerlink" title="ä¸€ã€ä¸‹è½½ Ruby"></a>ä¸€ã€ä¸‹è½½ Ruby</h3><p>for Windowsï¼Œä¸ªäººå¤šä¸€å¥ï¼Œå»ºè®®ä¸ä½¿ç”¨ Windows ç¯å¢ƒå­¦ä¹  Rubyï¼Œæœ‰ä¸¤ä¸ªåŸå› ï¼Œç¬¬ä¸€ï¼ŒRuby å¯¹ Unix ç¯å¢ƒçš„éœ€æ±‚éå¸¸é«˜ï¼›ç¬¬äºŒï¼ŒRuby åœ¨ Windows ç¯å¢ƒä¸‹é¢æ‰§è¡Œæ•ˆç‡ä½ã€‚æˆ–å¤šæˆ–å°‘ä¼šæœ‰äº›å¼¯è·¯ã€‚</p><ul><li>ä¸‹è½½ <a href="https://rubyinstaller.org/" target="_blank" rel="noopener">Ruby for Windows</a></li><li>åŒå‡»åŒæ„åè®®</li><li>é…ç½®ç¯å¢ƒå˜é‡</li></ul><p>for UNIX-likeï¼Œé¦–å…ˆä¸å»ºè®®ä½¿ç”¨ç³»ç»Ÿé¢„è£…çš„ï¼Œå¯èƒ½æ¯”è¾ƒè¿‡æ—¶äº†ï¼Œå¦å¤–ï¼Œæ¨èä½¿ç”¨ <code>rbenv</code>ã€ <code>RVM</code> æˆ–è€… <code>chruby</code> ç®¡ç† Ruby ç¯å¢ƒã€‚</p><ul><li>å…ˆå®‰è£… <a href="http://developer.apple.com/xcode/" target="_blank" rel="noopener">Xcode</a> å¼€å‘å·¥å…·ï¼Œå®ƒå°†å¸®ä½ å®‰è£…å¥½ Unix ç¯å¢ƒéœ€è¦çš„å¼€å‘åŒ…</li><li>ç„¶åå®‰è£… <a href="http://brew.sh" target="_blank" rel="noopener">Homebrew</a></li><li><code>ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></li><li>å¦‚æœéœ€è¦å®‰è£… Railsï¼Œå®‰è£… <code>brew install libxml2 libxslt libiconv</code> å¿…é¡»çš„ä¾èµ–ç¬¬ä¸‰åº“</li><li><p>å®‰è£… RVM</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3</span><br><span class="line">$ -sSL https://get.rvm.io | bash -s stable</span><br><span class="line">å¦‚æœå¤±è´¥ï¼Œå°è¯•</span><br><span class="line">$ curl -L https://raw.githubusercontent.com/wayneeseguin/rvm/master/binscripts/rvm-installer | bash -s stable</span><br><span class="line">$ source ~/.rvm/scripts/rvm</span><br><span class="line">$ echo &quot;ruby_url=https://cache.ruby-china.org/pub/ruby&quot; &gt; ~/.rvm/user/db</span><br><span class="line">$ rvm -v</span><br></pre></td></tr></table></figure></li><li><p>RVM å®‰è£… Ruby</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ rvm requirements</span><br><span class="line">$ rvm install 2.4.0</span><br><span class="line">$ rvm use 2.4.0 --default</span><br><span class="line">$ ruby -v</span><br><span class="line">$ gem -v</span><br><span class="line">$ gem sources --add https://gems.ruby-china.org/ --remove https://rubygems.org/</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£… Bundler</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gem install bundler</span><br></pre></td></tr></table></figure></li><li><p>å®‰è£… Rails</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ gem install rails</span><br><span class="line">$ rails -v</span><br></pre></td></tr></table></figure></li></ul><h3 id="äºŒã€ä¸‹è½½ä¸€ä¸ªç¼–è¾‘å™¨"><a href="#äºŒã€ä¸‹è½½ä¸€ä¸ªç¼–è¾‘å™¨" class="headerlink" title="äºŒã€ä¸‹è½½ä¸€ä¸ªç¼–è¾‘å™¨"></a>äºŒã€ä¸‹è½½ä¸€ä¸ªç¼–è¾‘å™¨</h3><ul><li>Visual Studio Code</li><li>Atom</li><li>Sublime Text</li><li>Vim æˆ– Emacs</li></ul><h2 id="0x04-åœ¨å“ªå„¿å­¦ä¹ -Ruby"><a href="#0x04-åœ¨å“ªå„¿å­¦ä¹ -Ruby" class="headerlink" title="0x04 åœ¨å“ªå„¿å­¦ä¹  Ruby"></a>0x04 åœ¨å“ªå„¿å­¦ä¹  Ruby</h2><ul><li><a href="http://rubylearning.com/satishtalim/tutorial.html" target="_blank" rel="noopener">rubylearning</a></li><li><a href="https://www.ruby-lang.org/zh_cn/" target="_blank" rel="noopener">ruby lang</a></li><li><a href="https://ruby-china.org/" target="_blank" rel="noopener">ruby china ç¤¾åŒº</a></li><li><a href="http://phrogz.net/programmingruby/" target="_blank" rel="noopener">Programming Ruby</a></li><li>æŒç»­å­¦ä¹ æ›´æ–°æ”¶é›†ä¸­â€¦ï¼ˆPS:æ­¤å¤„æ”¯æŒå¸ƒé“è€…æ¨èï¼‰</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Ruby â€”â€” æœ‰è¶£çš„å“²å­¦ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What,Why,Where,How? ä½ æˆ–è®¸ä¼šé—®è¿™äº›é—®é¢˜ï¼Œæ¥ä¸‹æ¥ï¼Œæµ…è°ˆäº›è®¸æ‹™è§ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;0x00-å‰è¨€&quot;&gt;&lt;a href=&quot;#0x00-å‰è¨€&quot; class
      
    
    </summary>
    
      <category term="Ruby æœ­è®°" scheme="http://grackanil.top/categories/Ruby-%E6%9C%AD%E8%AE%B0/"/>
    
    
      <category term="Ruby" scheme="http://grackanil.top/tags/Ruby/"/>
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
  </entry>
  
  <entry>
    <title>NSObject +(void)load å’Œ+(void)initialize æ–¹æ³•çš„ç†è§£</title>
    <link href="http://grackanil.top/2018/01/31/runtime-load/"/>
    <id>http://grackanil.top/2018/01/31/runtime-load/</id>
    <published>2018-01-31T09:13:39.722Z</published>
    <updated>2018-07-27T15:33:14.643Z</updated>
    
    <content type="html"><![CDATA[<p>ä» <code>runtime</code> æºç ï¼Œç†è§£ <code>+(void)load</code> å’Œ <code>+(void)initialize</code> æ–¹æ³•ã€‚</p><h2 id="é›¶ã€å®˜æ–¹æ–‡æ¡£"><a href="#é›¶ã€å®˜æ–¹æ–‡æ¡£" class="headerlink" title="é›¶ã€å®˜æ–¹æ–‡æ¡£"></a>é›¶ã€å®˜æ–¹æ–‡æ¡£</h2><ul><li><p><a href="https://developer.apple.com/documentation/objectivec/nsobject/1418639-initialize?language=objc" target="_blank" rel="noopener">initialize</a><br>Initializes the class before it receives its first message.</p></li><li><p><a href="https://developer.apple.com/documentation/objectivec/nsobject/1418815-load?language=objc" target="_blank" rel="noopener">load</a><br>Invoked whenever a class or category is added to the Objective-C runtime; implement this method to perform class-specific behavior upon loading.</p></li></ul><p>æ ¹æ®æ–‡æ¡£ï¼Œ<code>+load</code> æ–¹æ³•åªè¦æ–‡ä»¶è¢«å¼•ç”¨å°±ä¼šè¢«è°ƒç”¨ï¼Œæ‰€ä»¥å¦‚æœç±»æ²¡æœ‰è¢«å¼•è¿›é¡¹ç›®,å°±ä¸ä¼šè°ƒç”¨ <code>+load</code>ã€‚<code>+initialize</code> æ–¹æ³•æ˜¯åœ¨ç±»æˆ–è€…å­ç±»çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼ˆæŠ›ä¸€ä¸ªé—®é¢˜ï¼Œé‚£ runtime è°ƒç”¨ <code>+load</code> æ–¹æ³•å‘¢ï¼Œç®—ç¬¬ä¸€ä¸ªæ–¹æ³•å—ï¼Ÿï¼‰è¢«è°ƒç”¨ä¹‹å‰è°ƒç”¨ï¼Œå³ä½¿ç±»è¢«å¼•ç”¨è¿›é¡¹ç›®ï¼Œä½†æ²¡æœ‰è¢«ä½¿ç”¨ï¼Œ <code>+initialize</code> ä¹Ÿä¸ä¼šè¢«è°ƒç”¨ã€‚ä¸¤è€…éƒ½åªä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</p><h2 id="ä¸€ã€å®éªŒç”°"><a href="#ä¸€ã€å®éªŒç”°" class="headerlink" title="ä¸€ã€å®éªŒç”°"></a>ä¸€ã€å®éªŒç”°</h2><p><a href="https://github.com/grackanil/GEKPlots/tree/master/LoadAndInitializePlot" target="_blank" rel="noopener">Demo</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># Father.h å’Œ Father.m</span><br><span class="line">@interface Father : NSObject</span><br><span class="line"></span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">#import &quot;Father.h&quot;</span><br><span class="line"></span><br><span class="line">#pragma mark - Father</span><br><span class="line"></span><br><span class="line">@implementation Father</span><br><span class="line"></span><br><span class="line">+ (void)load &#123;</span><br><span class="line">    # [self class];</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (void)initialize &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Son .h å’Œ .m</span><br><span class="line">@interface Son : Father</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Son</span><br><span class="line"></span><br><span class="line">+ (void)load &#123;</span><br><span class="line">    # [self class];</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (void)initialize &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Category Active of Son .h and .m</span><br><span class="line">@interface Son (Active)</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Son (Active)</span><br><span class="line"></span><br><span class="line">+ (void)load &#123;</span><br><span class="line">    # [self class];</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (void)initialize &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Category Stiff of Son .h and .m</span><br><span class="line">@interface Son (Stiff)</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation Son (Stiff)</span><br><span class="line"></span><br><span class="line">+ (void)load &#123;</span><br><span class="line">    # [self class];</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ (void)initialize &#123;</span><br><span class="line">    NSLog(@&quot;%s&quot;, __FUNCTION__);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@end</span><br></pre></td></tr></table></figure><p>ç»“æœå¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># çˆ¶ç±»çš„æ–¹æ³•ä¼˜å…ˆäºå­ç±»çš„æ–¹æ³•ï¼Œç±»ä¸­çš„æ–¹æ³•ä¼˜å…ˆäºç±»åˆ«ä¸­çš„æ–¹æ³•ã€‚</span><br><span class="line">2018-02-01 10:59:11.957088+0800 LoadAndInitializePlot[21886:9588221] +[Father load]</span><br><span class="line">2018-02-01 10:59:11.957867+0800 LoadAndInitializePlot[21886:9588221] +[Son load]</span><br><span class="line">2018-02-01 10:59:11.957997+0800 LoadAndInitializePlot[21886:9588221] +[Son(Active) load]</span><br><span class="line">2018-02-01 10:59:11.958132+0800 LoadAndInitializePlot[21886:9588221] +[Son(Stiff) load]</span><br></pre></td></tr></table></figure></p><p>åœ¨ Father load ä¸­æ·»åŠ  <code>[self class];</code>ï¼Œç»“æœå¦‚ä¸‹<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># è°ƒç”¨äº† Father ä¸­çš„æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªæ–¹æ³•`[self class];`è¢«è°ƒç”¨æ—¶ï¼Œåœ¨è°ƒç”¨æ–¹æ³•ä¹‹å‰æ‰§è¡Œ `+initialize` æ–¹æ³•ã€‚å¯ä»¥çœ‹å‡ºï¼Œè™½ç„¶å¼•ç”¨äº† Son ç±»ï¼Œä½†æ²¡æœ‰è°ƒç”¨ Son çš„ `+initalize`ï¼ŒåŒæ—¶ runtime å¯¹ `+(void)load` çš„è°ƒç”¨ä¸è§†ä¸ºè°ƒç”¨ç±»çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œå¦‚æœæ˜¯å­ç±» Son ä¹Ÿä¼šè°ƒç”¨ `+initialize` çš„ã€‚</span><br><span class="line">2018-02-01 11:03:38.424049+0800 LoadAndInitializePlot[21961:9595895] +[Father initialize]</span><br><span class="line">2018-02-01 11:03:38.424803+0800 LoadAndInitializePlot[21961:9595895] +[Father load]</span><br><span class="line">2018-02-01 11:03:38.424953+0800 LoadAndInitializePlot[21961:9595895] +[Son load]</span><br><span class="line">2018-02-01 11:03:38.425123+0800 LoadAndInitializePlot[21961:9595895] +[Son(Active) load]</span><br><span class="line">2018-02-01 11:03:38.425418+0800 LoadAndInitializePlot[21961:9595895] +[Son(Stiff) load]</span><br></pre></td></tr></table></figure></p><p>åœ¨ Son load ä¸­æ·»åŠ  <code>[self class];</code>ï¼Œç»“æœå¦‚ä¸‹ä¸¤ç§ï¼ˆåœ¨Build Phases -&gt; Compile Sources ä¸­æ‹–åŠ¨ç±»åˆ«çš„ä¸Šä¸‹é¡ºåºï¼Œä¹Ÿå°±æ˜¯ç¼–è¯‘çš„å…ˆåé¡ºåºï¼‰ã€‚æ ¹æ® runtime å¯¹ category åŠ è½½è¿‡ç¨‹ï¼Œä¸€ä¸ªç±»çš„æ‰€æœ‰ç±»åˆ«çš„æ–¹æ³•è¢«å–å‡ºæ”¾åœ¨ method_list_t ä¸­ï¼Œå¦å¤–ï¼Œè¿™é‡Œçš„æ–°ç”Ÿæˆçš„ category çš„æ–¹æ³•ä¼šå…ˆäº æ—©æœŸç”Ÿæˆçš„ category çš„æ–¹æ³•ï¼Œå€’åºæ·»åŠ çš„ã€‚ç”Ÿæˆæ‰€æœ‰ method çš„ list ä¹‹åï¼Œå°†æ‰€æœ‰çš„æ–¹æ³• å‰åº æ·»åŠ åˆ°ç±»çš„æ–¹æ³•æ•°ç»„ä¸­ã€‚åŸæ¥çš„ç±»çš„æ–¹æ³•è¢« category çš„æ–¹æ³•è¦†ç›–ï¼Œä½†è¢«è¦†ç›–çš„æ–¹æ³•ä¾æ—§è¿˜åœ¨é‡Œé¢ã€‚è¿™æ˜¯å› ä¸ºç³»ç»Ÿè°ƒç”¨æ–¹æ³•ï¼Œæ ¹æ®æ–¹æ³•ååœ¨ method_list ä¸­æŸ¥æ‰¾æ–¹æ³•ï¼Œæ‰¾åˆ°ç¬¬ä¸€ä¸ªåå­—åŒ¹é…çš„æ–¹æ³•ä¹‹åå°±ä¸ç»§ç»­å¾€ä¸‹æ‰¾äº†ã€‚æ¯æ¬¡è°ƒç”¨éƒ½æ˜¯ method_list ä¸­æœ€å‰é¢çš„åŒåæ–¹æ³•ï¼Œå…¶ä»–çš„æ–¹æ³•ä»åœ¨ method_list ä¸­ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Son (Stiff) ç±»åˆ«åœ¨ Son (Active) åç¼–è¯‘</span><br><span class="line">2018-02-01 11:46:45.558933+0800 LoadAndInitializePlot[22604:9665625] +[Father load]</span><br><span class="line">2018-02-01 11:46:45.559605+0800 LoadAndInitializePlot[22604:9665625] +[Father initialize]</span><br><span class="line">2018-02-01 11:46:45.559735+0800 LoadAndInitializePlot[22604:9665625] +[Son(Stiff) initialize]</span><br><span class="line">2018-02-01 11:46:45.559876+0800 LoadAndInitializePlot[22604:9665625] +[Son load]</span><br><span class="line">2018-02-01 11:46:45.560021+0800 LoadAndInitializePlot[22604:9665625] +[Son(Active) load]</span><br><span class="line">2018-02-01 11:46:45.560125+0800 LoadAndInitializePlot[22604:9665625] +[Son(Stiff) load]</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Son (Active) ç±»åˆ«åœ¨ Son (Stiff) åç¼–è¯‘</span><br><span class="line">2018-02-01 11:50:33.255480+0800 LoadAndInitializePlot[22659:9671829] +[Father load]</span><br><span class="line">2018-02-01 11:50:33.256105+0800 LoadAndInitializePlot[22659:9671829] +[Father initialize]</span><br><span class="line">2018-02-01 11:50:33.256236+0800 LoadAndInitializePlot[22659:9671829] +[Son(Active) initialize]</span><br><span class="line">2018-02-01 11:50:33.256363+0800 LoadAndInitializePlot[22659:9671829] +[Son load]</span><br><span class="line">2018-02-01 11:50:33.256449+0800 LoadAndInitializePlot[22659:9671829] +[Son(Stiff) load]</span><br><span class="line">2018-02-01 11:50:33.256531+0800 LoadAndInitializePlot[22659:9671829] +[Son(Active) load]</span><br></pre></td></tr></table></figure><p>åœ¨ Son load ä¸­æ·»åŠ  <code>[self class];</code>ï¼Œç§»é™¤ Son ä¸»ç±»å’Œä¸¤ä¸ªç±»åˆ«ä¸­çš„ +initilize æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># `+(void)initialize` è‡ªèº«æœªå®šä¹‰ï¼Œä¼šæ²¿ç”¨çˆ¶ç±»çš„æ–¹æ³•ã€‚</span><br><span class="line">2018-02-01 11:54:27.282176+0800 LoadAndInitializePlot[22722:9678734] +[Father load]</span><br><span class="line">2018-02-01 11:54:27.282749+0800 LoadAndInitializePlot[22722:9678734] +[Father initialize]</span><br><span class="line">2018-02-01 11:54:27.282843+0800 LoadAndInitializePlot[22722:9678734] +[Father initialize]</span><br><span class="line">2018-02-01 11:54:27.282955+0800 LoadAndInitializePlot[22722:9678734] +[Son load]</span><br><span class="line">2018-02-01 11:54:27.283046+0800 LoadAndInitializePlot[22722:9678734] +[Son(Stiff) load]</span><br><span class="line">2018-02-01 11:54:27.283157+0800 LoadAndInitializePlot[22722:9678734] +[Son(Active) load]</span><br></pre></td></tr></table></figure></p><p>åœ¨ Son load ä¸­æ·»åŠ  <code>[self class];</code>ï¼Œç§»é™¤ ä¸¤ä¸ªç±»åˆ«çš„ +initilize æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æ ¹æ®ä»¥ä¸Šçš„ runtime ä¸­çš„åˆ†æå¯çŸ¥ï¼Œ`+(void)initialize`ä¼šâ€œè¦†ç›–â€ç±»ä¸­çš„æ–¹æ³•ï¼Œåªæ‰§è¡Œä¸€ä¸ªã€‚</span><br><span class="line">2018-02-01 11:56:00.047404+0800 LoadAndInitializePlot[22756:9681679] +[Father load]</span><br><span class="line">2018-02-01 11:56:00.051067+0800 LoadAndInitializePlot[22756:9681679] +[Father initialize]</span><br><span class="line">2018-02-01 11:56:00.051389+0800 LoadAndInitializePlot[22756:9681679] +[Son initialize]</span><br><span class="line">2018-02-01 11:56:00.051745+0800 LoadAndInitializePlot[22756:9681679] +[Son load]</span><br><span class="line">2018-02-01 11:56:00.052070+0800 LoadAndInitializePlot[22756:9681679] +[Son(Stiff) load]</span><br><span class="line">2018-02-01 11:56:00.052350+0800 LoadAndInitializePlot[22756:9681679] +[Son(Active) load]</span><br></pre></td></tr></table></figure></p><h2 id="ä¸€ã€-void-load-çš„ç†è§£"><a href="#ä¸€ã€-void-load-çš„ç†è§£" class="headerlink" title="ä¸€ã€+(void)load çš„ç†è§£"></a>ä¸€ã€<code>+(void)load</code> çš„ç†è§£</h2><p>+load æ–¹æ³•æ˜¯ Objective-C ä¸­ NSObject çš„ä¸€ä¸ªæ–¹æ³•ï¼Œåœ¨æ•´ä¸ª<strong>æ–‡ä»¶åˆšè¢«åŠ è½½</strong>åˆ°è¿è¡Œæ—¶ï¼Œåœ¨ <strong>main å‡½æ•°è°ƒç”¨ä¹‹å‰</strong>è¢« ObjC runtime è°ƒç”¨çš„<strong>é’©å­æ–¹æ³•</strong>ã€‚</p><h3 id="å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»"><a href="#å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»" class="headerlink" title="å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»"></a>å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»</h3><ul><li>è°ƒç”¨é¡ºåºï¼šçˆ¶ç±» &gt; å­ç±» &gt; åˆ†ç±»</li><li>è°ƒç”¨æ—¶æœºï¼šObjective-C è¿è¡Œæ—¶åˆå§‹åŒ–æ—¶ï¼Œæ¯å½“æœ‰æ–°çš„é•œåƒ<code>library</code> map åˆ°è¿è¡Œæ—¶è°ƒç”¨ã€‚</li><li>è°ƒç”¨æ¬¡æ•°ï¼šä¸€æ¬¡</li><li>çº¿ç¨‹å®‰å…¨ï¼šload æ–¹æ³•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå†…éƒ¨ä½¿ç”¨äº†é”ï¼Œåº”é¿å…çº¿ç¨‹é˜»å¡åœ¨ load ä¸­ã€‚ </li><li>å¸¸è§åœºæ™¯ï¼šload ä¸­å®ç° Method Swizzleã€‚</li><li>one more thingï¼šå¦‚æœä¸€ä¸ªç±»æœ¬èº«æ²¡æœ‰ load æ–¹æ³•ï¼Œä¸ç®¡å…¶çˆ¶ç±»æ˜¯å¦å®ç° loadï¼Œéƒ½ä¸ä¼šè°ƒç”¨ï¼Œä¸»ç±»å’Œåˆ†ç±»éƒ½æ‰§è¡Œã€‚</li></ul><h3 id="åŸºäº-runtime-æºç åˆ†æ"><a href="#åŸºäº-runtime-æºç åˆ†æ" class="headerlink" title="åŸºäº runtime æºç åˆ†æ"></a>åŸºäº runtime æºç åˆ†æ</h3><p>é’ˆå¯¹ runtime <a href="https://opensource.apple.com/source/objc4/objc4-706/" target="_blank" rel="noopener">æºç  objc4-723 </a>ï¼Œåšä¸€ä¸‹æ¢è®¨ã€‚<br>xnu å†…æ ¸ä¸ºç¨‹åºå‡†å¤‡å¥½ä¹‹åï¼Œå°†æ§åˆ¶æƒäº¤ä¸ª dyld è´Ÿè´£åç»­å·¥ä½œï¼Œdyld æ˜¯ Apple çš„åŠ¨æ€é“¾æ¥å™¨ï¼Œ the dynamic link editor çš„ç¼©å†™ã€‚æ­¤è¿‡ç¨‹å†…æ ¸æ€åˆ‡æ¢åˆ°ç”¨æˆ·æ€ï¼Œdyld åœ¨ç”¨æˆ·æ€ã€‚</p><p>####_objc_init<br>æ¯å½“ libSystem åœ¨ library åˆå§‹åŒ–ä¹‹å‰éƒ½ä¼šè°ƒç”¨ <code>_objc_init</code>æ–¹æ³•ï¼Œdyld åœ¨æ–¹æ³•ä¸­æ³¨å†Œ load_images å›è°ƒã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* _objc_init</span><br><span class="line">* Bootstrap initialization. Registers our image notifier with dyld.</span><br><span class="line">* Called by libSystem BEFORE library initialization time</span><br><span class="line">**********************************************************************/</span><br><span class="line"># pragma mark - ObjC runtime åˆå§‹åŒ– æ³¨å†Œ load_images å›è°ƒ</span><br><span class="line">void _objc_init(void)</span><br><span class="line">&#123;</span><br><span class="line">    static bool initialized = false;</span><br><span class="line">    if (initialized) return;</span><br><span class="line">    initialized = true;</span><br><span class="line">    </span><br><span class="line">    // fixme defer initialization until an objc-using image is found?</span><br><span class="line">    environ_init();</span><br><span class="line">    tls_init();</span><br><span class="line">    static_init();</span><br><span class="line">    lock_init();</span><br><span class="line">    exception_init();</span><br><span class="line"></span><br><span class="line">    _dyld_objc_notify_register(&amp;map_2_images, load_images, unmap_image);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="load-images"><a href="#load-images" class="headerlink" title="load_images"></a>load_images</h4><p>æ‰€ä»¥æ¯å½“æœ‰æ–°çš„ library è¢« map åˆ° runtime æ—¶ï¼Œè°ƒç”¨ load_images æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* load_images</span><br><span class="line">* Process +load in the given images which are being mapped in by dyld.</span><br><span class="line">*</span><br><span class="line">* Locking: write-locks runtimeLock and loadMethodLock</span><br><span class="line">**********************************************************************/</span><br><span class="line">extern bool hasLoadMethods(const headerType *mhdr);</span><br><span class="line">extern void prepare_load_methods(const headerType *mhdr);</span><br><span class="line"></span><br><span class="line">void</span><br><span class="line">load_images(const char *path __unused, const struct mach_header *mh)</span><br><span class="line">&#123;</span><br><span class="line">    // Return without taking locks if there are no +load methods here.</span><br><span class="line">    if (!hasLoadMethods((const headerType *)mh)) return;</span><br><span class="line"></span><br><span class="line">    recursive_mutex_locker_t lock(loadMethodLock);</span><br><span class="line"></span><br><span class="line">    // Discover load methods</span><br><span class="line">    &#123;</span><br><span class="line">        rwlock_writer_t lock2(runtimeLock);</span><br><span class="line">        prepare_load_methods((const headerType *)mh);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // Call +load methods (without runtimeLock - re-entrant)</span><br><span class="line">    call_load_methods();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="prepare-load-methods"><a href="#prepare-load-methods" class="headerlink" title="prepare_load_methods"></a>prepare_load_methods</h4><p>åœ¨ä¸»ç±»çš„çˆ¶ç±»å’Œè‡ªèº«æ·»åŠ åˆ°å…¨å±€é™æ€ç»“æ„ä½“ loadable_list ä¸­ä¹‹åï¼Œæ·»åŠ ä¸»ç±»çš„åˆ†ç±»ï¼Œå°†åˆ†ç±»æ·»åŠ åˆ°å…¨å±€é™æ€ç»“æ„ä½“ loadable_categories ä¸­ã€‚æ‰€ä»¥å­ç±»ä¼˜å…ˆåˆ†ç±»ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">void prepare_load_methods(const headerType *mhdr)</span><br><span class="line">&#123;</span><br><span class="line">    size_t count, i;</span><br><span class="line"></span><br><span class="line">    runtimeLock.assertWriting();</span><br><span class="line"></span><br><span class="line">    classref_t *classlist = </span><br><span class="line">        _getObjc2NonlazyClassList(mhdr, &amp;count);</span><br><span class="line">    for (i = 0; i &lt; count; i++) &#123;</span><br><span class="line">        schedule_class_load(remapClass(classlist[i]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    category_t **categorylist = _getObjc2NonlazyCategoryList(mhdr, &amp;count);</span><br><span class="line">    for (i = 0; i &lt; count; i++) &#123;</span><br><span class="line">        category_t *cat = categorylist[i];</span><br><span class="line">        Class cls = remapClass(cat-&gt;cls);</span><br><span class="line">        if (!cls) continue;  // category for ignored weak-linked class</span><br><span class="line">        realizeClass(cls);</span><br><span class="line">        assert(cls-&gt;ISA()-&gt;isRealized());</span><br><span class="line">        add_category_to_loadable_list(cat);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="schedule-class-load"><a href="#schedule-class-load" class="headerlink" title="schedule_class_load"></a>schedule_class_load</h4><p>é€’å½’è°ƒç”¨ schedule_class_load ï¼Œåœ¨å°†å½“å‰ç±»åŠ å…¥å…¨å±€é™æ€ç»“æ„ä½“ loadable_classes ä¹‹å‰ï¼Œå°†çˆ¶ç±»åŠ å…¥å…¶ä¸­ï¼Œå¾…åç»­åŠ è½½ã€‚ä¿è¯äº†çˆ¶ç±»åœ¨å­ç±»ä¹‹å‰è°ƒç”¨ load æ–¹æ³•ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* prepare_load_methods</span><br><span class="line">* Schedule +load for classes in this image, any un-+load-ed </span><br><span class="line">* superclasses in other images, and any categories in this image.</span><br><span class="line">**********************************************************************/</span><br><span class="line">// Recursively schedule +load for cls and any un-+load-ed superclasses.</span><br><span class="line">// cls must already be connected.</span><br><span class="line">static void schedule_class_load(Class cls)</span><br><span class="line">&#123;</span><br><span class="line">    if (!cls) return;</span><br><span class="line">    assert(cls-&gt;isRealized());  // _read_images should realize</span><br><span class="line"></span><br><span class="line">    if (cls-&gt;data()-&gt;flags &amp; RW_LOADED) return;</span><br><span class="line"></span><br><span class="line">    // Ensure superclass-first ordering</span><br><span class="line">    schedule_class_load(cls-&gt;superclass);</span><br><span class="line"></span><br><span class="line">    add_class_to_loadable_list(cls);</span><br><span class="line">    cls-&gt;setInfo(RW_LOADED); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="call-load-methods"><a href="#call-load-methods" class="headerlink" title="call_load_methods"></a>call_load_methods</h4><p>å½“ library åŠ è½½åˆ°è¿è¡Œæ—¶ï¼Œprepare è°ƒç”¨ç»“æŸï¼Œæ‰§è¡Œ <code>call_load_methods();</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* call_load_methods</span><br><span class="line">* Call all pending class and category +load methods.</span><br><span class="line">* Class +load methods are called superclass-first. </span><br><span class="line">* Category +load methods are not called until after the parent class&apos;s +load.</span><br><span class="line">* </span><br><span class="line">* This method must be RE-ENTRANT, because a +load could trigger </span><br><span class="line">* more image mapping. In addition, the superclass-first ordering </span><br><span class="line">* must be preserved in the face of re-entrant calls. Therefore, </span><br><span class="line">* only the OUTERMOST call of this function will do anything, and </span><br><span class="line">* that call will handle all loadable classes, even those generated </span><br><span class="line">* while it was running.</span><br><span class="line">*</span><br><span class="line">* The sequence below preserves +load ordering in the face of </span><br><span class="line">* image loading during a +load, and make sure that no </span><br><span class="line">* +load method is forgotten because it was added during </span><br><span class="line">* a +load call.</span><br><span class="line">* Sequence:</span><br><span class="line">* 1. Repeatedly call class +loads until there aren&apos;t any more</span><br><span class="line">* 2. Call category +loads ONCE.</span><br><span class="line">* 3. Run more +loads if:</span><br><span class="line">*    (a) there are more classes to load, OR</span><br><span class="line">*    (b) there are some potential category +loads that have </span><br><span class="line">*        still never been attempted.</span><br><span class="line">* Category +loads are only run once to ensure &quot;parent class first&quot; </span><br><span class="line">* ordering, even if a category +load triggers a new loadable class </span><br><span class="line">* and a new loadable category attached to that class. </span><br><span class="line">*</span><br><span class="line">* Locking: loadMethodLock must be held by the caller </span><br><span class="line">*   All other locks must not be held.</span><br><span class="line">**********************************************************************/</span><br><span class="line">void call_load_methods(void)</span><br><span class="line">&#123;</span><br><span class="line">    static bool loading = NO;</span><br><span class="line">    bool more_categories;</span><br><span class="line"></span><br><span class="line">    loadMethodLock.assertLocked();</span><br><span class="line"></span><br><span class="line">    // Re-entrant calls do nothing; the outermost call will finish the job.</span><br><span class="line">    if (loading) return;</span><br><span class="line">    loading = YES;</span><br><span class="line"></span><br><span class="line">    void *pool = objc_autoreleasePoolPush();</span><br><span class="line"></span><br><span class="line">    do &#123;</span><br><span class="line">        // 1. Repeatedly call class +loads until there aren&apos;t any more</span><br><span class="line">        while (loadable_classes_used &gt; 0) &#123;</span><br><span class="line">            call_class_loads();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // 2. Call category +loads ONCE</span><br><span class="line">        more_categories = call_category_loads();</span><br><span class="line"></span><br><span class="line">        // 3. Run more +loads if there are classes OR more untried categories</span><br><span class="line">    &#125; while (loadable_classes_used &gt; 0  ||  more_categories);</span><br><span class="line"></span><br><span class="line">    objc_autoreleasePoolPop(pool);</span><br><span class="line"></span><br><span class="line">    loading = NO;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="é™„å½•ï¼š"><a href="#é™„å½•ï¼š" class="headerlink" title="é™„å½•ï¼š"></a>é™„å½•ï¼š</h4><p><code>add_class_to_loadable_list</code> å’Œ <code>add_category_to_loadable_list</code>æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">// List of classes that need +load called (pending superclass +load)</span><br><span class="line">// This list always has superclasses first because of the way it is constructed</span><br><span class="line">static struct loadable_class *loadable_classes = nil;</span><br><span class="line">static int loadable_classes_used = 0;</span><br><span class="line">static int loadable_classes_allocated = 0;</span><br><span class="line"></span><br><span class="line">// List of categories that need +load called (pending parent class +load)</span><br><span class="line">static struct loadable_category *loadable_categories = nil;</span><br><span class="line">static int loadable_categories_used = 0;</span><br><span class="line">static int loadable_categories_allocated = 0;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/***********************************************************************</span><br><span class="line">* add_class_to_loadable_list</span><br><span class="line">* Class cls has just become connected. Schedule it for +load if</span><br><span class="line">* it implements a +load method.</span><br><span class="line">**********************************************************************/</span><br><span class="line">void add_class_to_loadable_list(Class cls)</span><br><span class="line">&#123;</span><br><span class="line">    IMP method;</span><br><span class="line"></span><br><span class="line">    loadMethodLock.assertLocked();</span><br><span class="line"></span><br><span class="line">    method = cls-&gt;getLoadMethod();</span><br><span class="line">    if (!method) return;  // Don&apos;t bother if cls has no +load method</span><br><span class="line">    </span><br><span class="line">    if (PrintLoading) &#123;</span><br><span class="line">        _objc_inform(&quot;LOAD: class &apos;%s&apos; scheduled for +load&quot;, </span><br><span class="line">                     cls-&gt;nameForLogging());</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    if (loadable_classes_used == loadable_classes_allocated) &#123;</span><br><span class="line">        loadable_classes_allocated = loadable_classes_allocated*2 + 16;</span><br><span class="line">        loadable_classes = (struct loadable_class *)</span><br><span class="line">            realloc(loadable_classes,</span><br><span class="line">                              loadable_classes_allocated *</span><br><span class="line">                              sizeof(struct loadable_class));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    loadable_classes[loadable_classes_used].cls = cls;</span><br><span class="line">    loadable_classes[loadable_classes_used].method = method;</span><br><span class="line">    loadable_classes_used++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/***********************************************************************</span><br><span class="line">* add_category_to_loadable_list</span><br><span class="line">* Category cat&apos;s parent class exists and the category has been attached</span><br><span class="line">* to its class. Schedule this category for +load after its parent class</span><br><span class="line">* becomes connected and has its own +load method called.</span><br><span class="line">**********************************************************************/</span><br><span class="line">void add_category_to_loadable_list(Category cat)</span><br><span class="line">&#123;</span><br><span class="line">    IMP method;</span><br><span class="line"></span><br><span class="line">    loadMethodLock.assertLocked();</span><br><span class="line"></span><br><span class="line">    method = _category_getLoadMethod(cat);</span><br><span class="line"></span><br><span class="line">    // Don&apos;t bother if cat has no +load method</span><br><span class="line">    if (!method) return;</span><br><span class="line"></span><br><span class="line">    if (PrintLoading) &#123;</span><br><span class="line">        _objc_inform(&quot;LOAD: category &apos;%s(%s)&apos; scheduled for +load&quot;, </span><br><span class="line">                     _category_getClassName(cat), _category_getName(cat));</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    if (loadable_categories_used == loadable_categories_allocated) &#123;</span><br><span class="line">        loadable_categories_allocated = loadable_categories_allocated*2 + 16;</span><br><span class="line">        loadable_categories = (struct loadable_category *)</span><br><span class="line">            realloc(loadable_categories,</span><br><span class="line">                              loadable_categories_allocated *</span><br><span class="line">                              sizeof(struct loadable_category));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    loadable_categories[loadable_categories_used].cat = cat;</span><br><span class="line">    loadable_categories[loadable_categories_used].method = method;</span><br><span class="line">    loadable_categories_used++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p><code>call_class_loads</code> å’Œ <code>call_category_loads</code> æ–¹æ³•<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* call_class_loads</span><br><span class="line">* Call all pending class +load methods.</span><br><span class="line">* If new classes become loadable, +load is NOT called for them.</span><br><span class="line">*</span><br><span class="line">* Called only by call_load_methods().</span><br><span class="line">**********************************************************************/</span><br><span class="line">static void call_class_loads(void)</span><br><span class="line">&#123;</span><br><span class="line">    int i;</span><br><span class="line">    </span><br><span class="line">    // Detach current loadable list.</span><br><span class="line">    struct loadable_class *classes = loadable_classes;</span><br><span class="line">    int used = loadable_classes_used;</span><br><span class="line">    loadable_classes = nil;</span><br><span class="line">    loadable_classes_allocated = 0;</span><br><span class="line">    loadable_classes_used = 0;</span><br><span class="line">    </span><br><span class="line">    // Call all +loads for the detached list.</span><br><span class="line">    for (i = 0; i &lt; used; i++) &#123;</span><br><span class="line">        Class cls = classes[i].cls;</span><br><span class="line">        load_method_t load_method = (load_method_t)classes[i].method;</span><br><span class="line">        if (!cls) continue; </span><br><span class="line"></span><br><span class="line">        if (PrintLoading) &#123;</span><br><span class="line">            _objc_inform(&quot;LOAD: +[%s load]\n&quot;, cls-&gt;nameForLogging());</span><br><span class="line">        &#125;</span><br><span class="line">        (*load_method)(cls, SEL_load);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // Destroy the detached list.</span><br><span class="line">    if (classes) free(classes);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/***********************************************************************</span><br><span class="line">* call_category_loads</span><br><span class="line">* Call some pending category +load methods.</span><br><span class="line">* The parent class of the +load-implementing categories has all of </span><br><span class="line">*   its categories attached, in case some are lazily waiting for +initalize.</span><br><span class="line">* Don&apos;t call +load unless the parent class is connected.</span><br><span class="line">* If new categories become loadable, +load is NOT called, and they </span><br><span class="line">*   are added to the end of the loadable list, and we return TRUE.</span><br><span class="line">* Return FALSE if no new categories became loadable.</span><br><span class="line">*</span><br><span class="line">* Called only by call_load_methods().</span><br><span class="line">**********************************************************************/</span><br><span class="line">static bool call_category_loads(void)</span><br><span class="line">&#123;</span><br><span class="line">    int i, shift;</span><br><span class="line">    bool new_categories_added = NO;</span><br><span class="line">    </span><br><span class="line">    // Detach current loadable list.</span><br><span class="line">    struct loadable_category *cats = loadable_categories;</span><br><span class="line">    int used = loadable_categories_used;</span><br><span class="line">    int allocated = loadable_categories_allocated;</span><br><span class="line">    loadable_categories = nil;</span><br><span class="line">    loadable_categories_allocated = 0;</span><br><span class="line">    loadable_categories_used = 0;</span><br><span class="line"></span><br><span class="line">    // Call all +loads for the detached list.</span><br><span class="line">    for (i = 0; i &lt; used; i++) &#123;</span><br><span class="line">        Category cat = cats[i].cat;</span><br><span class="line">        load_method_t load_method = (load_method_t)cats[i].method;</span><br><span class="line">        Class cls;</span><br><span class="line">        if (!cat) continue;</span><br><span class="line"></span><br><span class="line">        cls = _category_getClass(cat);</span><br><span class="line">        if (cls  &amp;&amp;  cls-&gt;isLoadable()) &#123;</span><br><span class="line">            if (PrintLoading) &#123;</span><br><span class="line">                _objc_inform(&quot;LOAD: +[%s(%s) load]\n&quot;, </span><br><span class="line">                             cls-&gt;nameForLogging(), </span><br><span class="line">                             _category_getName(cat));</span><br><span class="line">            &#125;</span><br><span class="line">            (*load_method)(cls, SEL_load);</span><br><span class="line">            cats[i].cat = nil;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // Compact detached list (order-preserving)</span><br><span class="line">    shift = 0;</span><br><span class="line">    for (i = 0; i &lt; used; i++) &#123;</span><br><span class="line">        if (cats[i].cat) &#123;</span><br><span class="line">            cats[i-shift] = cats[i];</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            shift++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    used -= shift;</span><br><span class="line"></span><br><span class="line">    // Copy any new +load candidates from the new list to the detached list.</span><br><span class="line">    new_categories_added = (loadable_categories_used &gt; 0);</span><br><span class="line">    for (i = 0; i &lt; loadable_categories_used; i++) &#123;</span><br><span class="line">        if (used == allocated) &#123;</span><br><span class="line">            allocated = allocated*2 + 16;</span><br><span class="line">            cats = (struct loadable_category *)</span><br><span class="line">                realloc(cats, allocated *</span><br><span class="line">                                  sizeof(struct loadable_category));</span><br><span class="line">        &#125;</span><br><span class="line">        cats[used++] = loadable_categories[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // Destroy the new list.</span><br><span class="line">    if (loadable_categories) free(loadable_categories);</span><br><span class="line"></span><br><span class="line">    // Reattach the (now augmented) detached list. </span><br><span class="line">    // But if there&apos;s nothing left to load, destroy the list.</span><br><span class="line">    if (used) &#123;</span><br><span class="line">        loadable_categories = cats;</span><br><span class="line">        loadable_categories_used = used;</span><br><span class="line">        loadable_categories_allocated = allocated;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        if (cats) free(cats);</span><br><span class="line">        loadable_categories = nil;</span><br><span class="line">        loadable_categories_used = 0;</span><br><span class="line">        loadable_categories_allocated = 0;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (PrintLoading) &#123;</span><br><span class="line">        if (loadable_categories_used != 0) &#123;</span><br><span class="line">            _objc_inform(&quot;LOAD: %d categories still waiting for +load\n&quot;,</span><br><span class="line">                         loadable_categories_used);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return new_categories_added;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h2 id="void-initialize-çš„ç†è§£"><a href="#void-initialize-çš„ç†è§£" class="headerlink" title="+(void)initialize çš„ç†è§£"></a><code>+(void)initialize</code> çš„ç†è§£</h2><p><code>+(void)initialize</code> æ˜¯åœ¨ç±»æˆ–è€…å®ƒçš„å­ç±»æ”¶åˆ°ç¬¬ä¸€æ¡æ¶ˆæ¯ï¼ˆå®ä¾‹æ–¹æ³•ã€ç±»æ–¹æ³•ï¼‰ä¹‹å‰è¢«è°ƒç”¨çš„ã€‚</p><h3 id="å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»-1"><a href="#å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»-1" class="headerlink" title="å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»"></a>å¸¸è§ç†è®ºçŸ¥è¯†æ±‡æ€»</h3><ul><li>è°ƒç”¨é¡ºåºï¼šçˆ¶ç±» &gt; å­ç±»ï¼ˆæˆ–åˆ†ç±»ï¼‰</li><li>è°ƒç”¨æ—¶æœºï¼šObjective-C è¿è¡Œæ—¶åˆå§‹åŒ–æ—¶ï¼Œæ¯å½“æœ‰æ–°çš„é•œåƒ<code>library</code> map åˆ°è¿è¡Œæ—¶è°ƒç”¨ã€‚</li><li>è°ƒç”¨æ¬¡æ•°ï¼šå¤šæ¬¡ï¼Œå¦‚æœå­ç±»æœªå®ç°<code>+(void)initialize</code> ï¼Œçˆ¶ç±»<code>+(void)initialize</code> ä¼šè¢«è°ƒç”¨å¤šæ¬¡</li><li>çº¿ç¨‹å®‰å…¨ï¼šåœ¨initializeæ–¹æ³•æ”¶åˆ°è°ƒç”¨æ—¶ï¼Œè¿è¡Œç¯å¢ƒåŸºæœ¬å¥å…¨ã€‚initializeçš„è¿è¡Œè¿‡ç¨‹ä¸­æ˜¯èƒ½ä¿è¯çº¿ç¨‹å®‰å…¨çš„ã€‚</li><li>å¸¸è§åœºæ™¯ï¼šç¨å¾®å¹¿æ³›ï¼Œåˆå§‹åŒ–å·¥ä½œï¼Œæˆ–è€…å•ä¾‹æ¨¡å¼çš„å®ç°æ–¹æ¡ˆã€‚</li></ul><h3 id="åŸºäº-runtime-æºç åˆ†æ-1"><a href="#åŸºäº-runtime-æºç åˆ†æ-1" class="headerlink" title="åŸºäº runtime æºç åˆ†æ"></a>åŸºäº runtime æºç åˆ†æ</h3><h4 id="lookUpImpOrForward"><a href="#lookUpImpOrForward" class="headerlink" title="lookUpImpOrForward"></a>lookUpImpOrForward</h4><p>å½“ä¸€ä¸ªç±»æ”¶åˆ°æ¶ˆæ¯æ—¶ï¼Œruntime ä¼šé€šè¿‡ <code>IMP lookUpImpOrForward(Class cls, SEL sel, id inst,                        bool initialize, bool cache, bool resolver)</code> æ–¹æ³•æŸ¥æ‰¾æ–¹æ³•çš„å®ç°è¿”å›å‡½æ•°æŒ‡é’ˆ IMPï¼Œæˆ–è€…è¿›è¡Œæ¶ˆæ¯è½¬å‘ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* lookUpImpOrForward.</span><br><span class="line">* The standard IMP lookup. </span><br><span class="line">* initialize==NO tries to avoid +initialize (but sometimes fails)</span><br><span class="line">* cache==NO skips optimistic unlocked lookup (but uses cache elsewhere)</span><br><span class="line">* Most callers should use initialize==YES and cache==YES.</span><br><span class="line">* inst is an instance of cls or a subclass thereof, or nil if none is known. </span><br><span class="line">*   If cls is an un-initialized metaclass then a non-nil inst is faster.</span><br><span class="line">* May return _objc_msgForward_impcache. IMPs destined for external use </span><br><span class="line">*   must be converted to _objc_msgForward or _objc_msgForward_stret.</span><br><span class="line">*   If you don&apos;t want forwarding at all, use lookUpImpOrNil() instead.</span><br><span class="line">**********************************************************************/</span><br><span class="line">IMP lookUpImpOrForward(Class cls, SEL sel, id inst, </span><br><span class="line">                       bool initialize, bool cache, bool resolver)</span><br><span class="line">&#123;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    if (initialize  &amp;&amp;  !cls-&gt;isInitialized()) &#123;</span><br><span class="line">        _class_initialize (_class_getNonMetaClass(cls, inst));</span><br><span class="line">        // If sel == initialize, _class_initialize will send +initialize and </span><br><span class="line">        // then the messenger will send +initialize again after this </span><br><span class="line">        // procedure finishes. Of course, if this is not being called </span><br><span class="line">        // from the messenger then it won&apos;t happen. 2778172</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="class-initialize"><a href="#class-initialize" class="headerlink" title="_class_initialize"></a>_class_initialize</h4><p>å¦‚æœç±»æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œä¼šè°ƒç”¨ <code>_class_initialize</code> è¿›è¡Œåˆå§‹åŒ–ï¼Œå¯¹å…¥å‚çš„å‚æ•°çˆ¶ç±»é€’å½’çš„è°ƒç”¨ <code>_class_initialize</code>ï¼Œè¿™ä¹Ÿå°±æ˜¯çˆ¶ç±»ä¼˜å…ˆå­ç±»è°ƒç”¨çš„æœ¬è´¨ã€‚æ˜¯ä¸æ˜¯å¯¹ã€ŒTalk is cheap. Show me the code.ã€æ·±è¡¨ä½“ä¼šï¼›ï¼‰<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">/***********************************************************************</span><br><span class="line">* class_initialize.  Send the &apos;+initialize&apos; message on demand to any</span><br><span class="line">* uninitialized class. Force initialization of superclasses first.</span><br><span class="line">**********************************************************************/</span><br><span class="line">void _class_initialize(Class cls)</span><br><span class="line">&#123;</span><br><span class="line">    assert(!cls-&gt;isMetaClass());</span><br><span class="line"></span><br><span class="line">    Class supercls;</span><br><span class="line">    bool reallyInitialize = NO;</span><br><span class="line"></span><br><span class="line">    // Make sure super is done initializing BEFORE beginning to initialize cls.</span><br><span class="line">    // See note about deadlock above.</span><br><span class="line">    supercls = cls-&gt;superclass;</span><br><span class="line">    if (supercls  &amp;&amp;  !supercls-&gt;isInitialized()) &#123;</span><br><span class="line">        _class_initialize(supercls);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    // Try to atomically set CLS_INITIALIZING.</span><br><span class="line">    &#123;</span><br><span class="line">        monitor_locker_t lock(classInitLock);</span><br><span class="line">        if (!cls-&gt;isInitialized() &amp;&amp; !cls-&gt;isInitializing()) &#123;</span><br><span class="line">            cls-&gt;setInitializing();</span><br><span class="line">            reallyInitialize = YES;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    if (reallyInitialize) &#123;</span><br><span class="line">        // We successfully set the CLS_INITIALIZING bit. Initialize the class.</span><br><span class="line">        </span><br><span class="line">        // Record that we&apos;re initializing this class so we can message it.</span><br><span class="line">        _setThisThreadIsInitializingClass(cls);</span><br><span class="line">        </span><br><span class="line">        // Send the +initialize message.</span><br><span class="line">        // Note that +initialize is sent to the superclass (again) if </span><br><span class="line">        // this class doesn&apos;t implement +initialize. 2157218</span><br><span class="line">        if (PrintInitializing) &#123;</span><br><span class="line">            _objc_inform(&quot;INITIALIZE: calling +[%s initialize]&quot;,</span><br><span class="line">                         cls-&gt;nameForLogging());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // Exceptions: A +initialize call that throws an exception </span><br><span class="line">        // is deemed to be a complete and successful +initialize.</span><br><span class="line">        @try &#123;</span><br><span class="line">            callInitialize(cls);</span><br><span class="line"></span><br><span class="line">            if (PrintInitializing) &#123;</span><br><span class="line">                _objc_inform(&quot;INITIALIZE: finished +[%s initialize]&quot;,</span><br><span class="line">                             cls-&gt;nameForLogging());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        @catch (...) &#123;</span><br><span class="line">            if (PrintInitializing) &#123;</span><br><span class="line">                _objc_inform(&quot;INITIALIZE: +[%s initialize] threw an exception&quot;,</span><br><span class="line">                             cls-&gt;nameForLogging());</span><br><span class="line">            &#125;</span><br><span class="line">            @throw;</span><br><span class="line">        &#125;</span><br><span class="line">        @finally &#123;</span><br><span class="line">            // Done initializing. </span><br><span class="line">            // If the superclass is also done initializing, then update </span><br><span class="line">            //   the info bits and notify waiting threads.</span><br><span class="line">            // If not, update them later. (This can happen if this +initialize </span><br><span class="line">            //   was itself triggered from inside a superclass +initialize.)</span><br><span class="line">            monitor_locker_t lock(classInitLock);</span><br><span class="line">            if (!supercls  ||  supercls-&gt;isInitialized()) &#123;</span><br><span class="line">                _finishInitializing(cls, supercls);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                _finishInitializingAfter(cls, supercls);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    else if (cls-&gt;isInitializing()) &#123;</span><br><span class="line">        // We couldn&apos;t set INITIALIZING because INITIALIZING was already set.</span><br><span class="line">        // If this thread set it earlier, continue normally.</span><br><span class="line">        // If some other thread set it, block until initialize is done.</span><br><span class="line">        // It&apos;s ok if INITIALIZING changes to INITIALIZED while we&apos;re here, </span><br><span class="line">        //   because we safely check for INITIALIZED inside the lock </span><br><span class="line">        //   before blocking.</span><br><span class="line">        if (_thisThreadIsInitializingClass(cls)) &#123;</span><br><span class="line">            return;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            waitForInitializeToComplete(cls);</span><br><span class="line">            return;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    else if (cls-&gt;isInitialized()) &#123;</span><br><span class="line">        // Set CLS_INITIALIZING failed because someone else already </span><br><span class="line">        //   initialized the class. Continue normally.</span><br><span class="line">        // NOTE this check must come AFTER the ISINITIALIZING case.</span><br><span class="line">        // Otherwise: Another thread is initializing this class. ISINITIALIZED </span><br><span class="line">        //   is false. Skip this clause. Then the other thread finishes </span><br><span class="line">        //   initialization and sets INITIALIZING=no and INITIALIZED=yes. </span><br><span class="line">        //   Skip the ISINITIALIZING clause. Die horribly.</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    else &#123;</span><br><span class="line">        // We shouldn&apos;t be here. </span><br><span class="line">        _objc_fatal(&quot;thread-safe class init in objc runtime is buggy!&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>callInitialize ä¸­ä½¿ç”¨ objc_msgSend æ–¹å¼å¯¹ +(void)initialize è¿›è¡Œè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯å’Œæ™®é€šæ–¹æ³•èµ°æ¶ˆæ¯å‘é€çš„æµç¨‹ï¼Œå¦‚æœå­ç±»æ²¡æœ‰å®ç°ï¼Œèµ°çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¦‚æœåˆ†ç±»å®ç°ï¼Œå°±ä¼šå¯¹ä¸»ç±»è¿›è¡Œâ€œè¦†ç›–â€ï¼Œå¦‚æœå¤šä¸ªåˆ†ç±»ï¼Œä¸ç¡®å®šè°ƒç”¨å“ªä¸€ä¸ªåˆ†ç±»çš„åŒåæ–¹æ³•ï¼Œéœ€è¦çœ‹ç¼–è¯‘çš„è¿‡ç¨‹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">void callInitialize(Class cls)</span><br><span class="line">&#123;</span><br><span class="line">    ((void(*)(Class, SEL))objc_msgSend)(cls, SEL_initialize);</span><br><span class="line">    asm(&quot;&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><p>å¦‚æœå­ç±»æ²¡æœ‰å®ç° <code>+(void)initialize</code>ï¼Œçˆ¶ç±»ä¼šè¢«è°ƒç”¨å¤šæ¬¡ï¼Œåªæƒ³è°ƒç”¨çˆ¶ç±» initialize ä¸€æ¬¡å‘¢ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+ (void)initialize &#123;</span><br><span class="line">  if (self == [ClassName self]) &#123;</span><br><span class="line">    </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"># æˆ–è€… dispatch_once äº†</span><br></pre></td></tr></table></figure></p><h3 id="æ¨èæ–‡ç« "><a href="#æ¨èæ–‡ç« " class="headerlink" title="æ¨èæ–‡ç« "></a>æ¨èæ–‡ç« </h3><ul><li><a href="https://www.mikeash.com/pyblog/friday-qa-2009-05-22-objective-c-class-loading-and-initialization.html" target="_blank" rel="noopener">Objective-C Class Loading and Initialization</a></li><li><a href="http://blog.iderzheng.com/objective-c-load-vs-initialize/" target="_blank" rel="noopener">Objective Cç±»æ–¹æ³•loadå’Œinitializeçš„åŒºåˆ«</a></li><li><a href="http://nshipster.com/method-swizzling/" target="_blank" rel="noopener">Method Swizzling</a></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ä» &lt;code&gt;runtime&lt;/code&gt; æºç ï¼Œç†è§£ &lt;code&gt;+(void)load&lt;/code&gt; å’Œ &lt;code&gt;+(void)initialize&lt;/code&gt; æ–¹æ³•ã€‚&lt;/p&gt;
&lt;h2 id=&quot;é›¶ã€å®˜æ–¹æ–‡æ¡£&quot;&gt;&lt;a href=&quot;#é›¶ã€å®˜æ–¹æ–‡æ¡£&quot; class=&quot;h
      
    
    </summary>
    
      <category term="iOS" scheme="http://grackanil.top/categories/iOS/"/>
    
    
      <category term="Objective-C" scheme="http://grackanil.top/tags/Objective-C/"/>
    
      <category term="Runtime" scheme="http://grackanil.top/tags/Runtime/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Tutorial - NexT ä¸»é¢˜é…ç½®å’Œç¬¬ä¸‰æ–¹æœåŠ¡</title>
    <link href="http://grackanil.top/2018/01/03/hexo-theme-tutorial/"/>
    <id>http://grackanil.top/2018/01/03/hexo-theme-tutorial/</id>
    <published>2018-01-03T13:30:44.000Z</published>
    <updated>2018-07-27T15:30:51.187Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€è°ˆ NexT ä¸»é¢˜çš„é…ç½®å’Œç¬¬ä¸‰æ–¹çš„æœåŠ¡çš„æ¥å…¥ã€‚</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å‰ä¸€ç¯‡å®Œæˆäº†ç®€å•ä¸ªäººä¸»é¡µçš„æ­å»ºï¼Œç„¶è€Œï¼Œè¿½æ±‚ç¾çš„è„šæ­¥å’Œå¥½å¥‡å¿ƒçš„æ»‹ç”Ÿï¼Œéš¾ä»¥éåˆ¶ã€‚</p><h2 id="NexT-ä¸»é¢˜é…ç½®"><a href="#NexT-ä¸»é¢˜é…ç½®" class="headerlink" title="NexT ä¸»é¢˜é…ç½®"></a>NexT ä¸»é¢˜é…ç½®</h2><p><a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="noopener">NexT ä¸»é¢˜é…ç½®å®˜ç½‘æ–‡æ¡£</a>ï¼Œæœ‰è¯¦å°½çš„é…ç½®ï¼Œå¦‚è®¾ç½® RSSã€è®¾ç½®å­—ä½“ã€è®¾ç½®ä»£ç é«˜äº®ä¸»é¢˜ã€ä¾§è¾¹æ ç¤¾äº¤é“¾æ¥ã€å¼€å¯æ‰“èµåŠŸèƒ½ã€å‹æƒ…é“¾æ¥ã€è…¾è®¯å…¬ç›Š404ç­‰ã€‚</p><h3 id="æ·»åŠ æ ‡ç­¾é¡µé¢"><a href="#æ·»åŠ æ ‡ç­¾é¡µé¢" class="headerlink" title="æ·»åŠ æ ‡ç­¾é¡µé¢"></a>æ·»åŠ æ ‡ç­¾é¡µé¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ç«™ç‚¹æ ¹ç›®å½•</span></span><br><span class="line"><span class="variable">$cd</span> your-hexo-site</span><br><span class="line"><span class="comment"># æ–°å»ºåä¸º tags çš„é¡µé¢</span></span><br><span class="line"><span class="variable">$hexo</span> new page tags</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æ–°å»º tags é¡µé¢ï¼Œå°†ç±»å‹è®¾ä¸º tagsã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2017-12-30 12:39:04</span><br><span class="line"><span class="built_in">type</span>: <span class="string">"tags"</span></span><br><span class="line"><span class="comment"># å¦‚æœé›†æˆäº†è¯„è®ºæœåŠ¡ï¼Œåœ¨æ ‡ç­¾é¡µç¦ç”¨è¯¥åŠŸèƒ½</span></span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ æ·»åŠ  tags åˆ° menu ä¸­ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  archives: /archives</span><br><span class="line">  tags: /tags</span><br></pre></td></tr></table></figure></p><p>åŒ…å«æ ‡ç­¾çš„æ–‡ç« <br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">title: æ ‡ç­¾æµ‹è¯•æ–‡ç« </span><br><span class="line">tags:</span><br><span class="line">    - Testing</span><br><span class="line">    - Another Tag</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><h3 id="æ·»åŠ åˆ†ç±»é¡µé¢"><a href="#æ·»åŠ åˆ†ç±»é¡µé¢" class="headerlink" title="æ·»åŠ åˆ†ç±»é¡µé¢"></a>æ·»åŠ åˆ†ç±»é¡µé¢</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ç«™ç‚¹æ ¹ç›®å½•</span></span><br><span class="line"><span class="variable">$cd</span> your-hexo-site</span><br><span class="line"><span class="comment"># æ–°å»ºåä¸º categories çš„é¡µé¢</span></span><br><span class="line"><span class="variable">$hexo</span> new page categories</span><br></pre></td></tr></table></figure><p>æ‰“å¼€æ–°å»º categories é¡µé¢ï¼Œå°†ç±»å‹è®¾ä¸º categoriesã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">title: æ ‡ç­¾</span><br><span class="line">date: 2017-12-30 12:39:04</span><br><span class="line"><span class="built_in">type</span>: <span class="string">"categories"</span></span><br><span class="line"><span class="comment"># å¦‚æœé›†æˆäº†è¯„è®ºæœåŠ¡ï¼Œåœ¨åˆ†ç±»é¡µç¦ç”¨è¯¥åŠŸèƒ½</span></span><br><span class="line">comments: <span class="literal">false</span></span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><p>ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œ æ·»åŠ  categories åˆ° menu ä¸­ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: /</span><br><span class="line">  archives: /archives</span><br><span class="line">  tags: /tags</span><br><span class="line">  categories: /categories</span><br></pre></td></tr></table></figure></p><p>åŒ…å«åˆ†ç±»çš„æ–‡ç« <br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title: åˆ†ç±»æµ‹è¯•æ–‡ç« </span><br><span class="line">categories: Testing</span><br><span class="line">---</span><br></pre></td></tr></table></figure></p><h3 id="æ·»åŠ -RSS-è®¢é˜…"><a href="#æ·»åŠ -RSS-è®¢é˜…" class="headerlink" title="æ·»åŠ  RSS è®¢é˜…"></a>æ·»åŠ  RSS è®¢é˜…</h3><p>å› ä¸ºå·²ç»æœ‰æˆç†Ÿçš„ä¾èµ–æ¨¡å—ï¼Œæ‰€ä»¥æ·»åŠ  RSS è®¢é˜…å¾ˆç®€å•ï¼Œè¿›å…¥<code>ç«™ç‚¹ç›®å½•</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-generator-feed --save</span><br></pre></td></tr></table></figure></p><p>ç„¶ååœ¨<code>ä¸»é¢˜é…ç½®ç›®å½•</code>é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹ RSS é…ç½®ï¼Œå‚è§æ³¨é‡Šã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Set rss to false to disable feed link.</span></span><br><span class="line"><span class="comment"># Leave rss as empty to use site's feed link.</span></span><br><span class="line"><span class="comment"># Set rss to specific value if you have burned your feed already.</span></span><br><span class="line">rss:</span><br></pre></td></tr></table></figure></p><p>åœ¨<code>ç«™ç‚¹ç›®å½•</code>é…ç½®æ–‡ä»¶ä¸­ï¼Œæ·»åŠ <br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rss: /atom.xml</span><br><span class="line">feed:</span><br><span class="line">  <span class="built_in">type</span>: atom</span><br><span class="line">  path: atom.xml</span><br><span class="line">  <span class="built_in">limit</span>: 20</span><br></pre></td></tr></table></figure></p><p>The last but not leastï¼Œåœ¨<code>ç«™ç‚¹ç›®å½•</code>é…ç½®æ–‡ä»¶ä¸­ï¼Œé…ç½® URL ä¸ºè‡ªå·±ç½‘ç«™çš„åœ°å€ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line">url: http://grackanil.top</span><br></pre></td></tr></table></figure></p><h3 id="åœ¨ä¸Šè§’æ·»åŠ fork-me-on-github"><a href="#åœ¨ä¸Šè§’æ·»åŠ fork-me-on-github" class="headerlink" title="åœ¨ä¸Šè§’æ·»åŠ fork me on github"></a>åœ¨ä¸Šè§’æ·»åŠ <code>fork me on github</code></h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/hexo_fork_me_on_github.png" alt="fork me"><br>æä¾›ä¸¤ä¸ªè·å–æ ·å¼çš„ç«™ç‚¹ï¼Œ<a href="https://github.com/blog/273-github-ribbons" target="_blank" rel="noopener">GitHub Ribbons</a>å’Œ<a href="http://tholman.com/github-corners/" target="_blank" rel="noopener">GitHub Corners</a><br>è€ƒè™‘åˆ°é€‚é…ç§»åŠ¨ç«¯é€‚é…ï¼Œé‡å äºèœå•æŒ‰é’®ï¼Œæˆ‘å–çš„æ˜¯ GitHub Corners çš„å³ä¸Šè§’çš„æ ·å¼ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¿®æ”¹ https://your-url ã€fill:#151513; å’Œ color:#fff;</span></span><br><span class="line">&lt;a href=<span class="string">"https://your-url"</span> class=<span class="string">"github-corner"</span> aria-label=<span class="string">"View source on Github"</span>&gt;&lt;svg width=<span class="string">"80"</span> height=<span class="string">"80"</span> viewBox=<span class="string">"0 0 250 250"</span> style=<span class="string">"fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"</span> aria-hidden=<span class="string">"true"</span>&gt;&lt;path d=<span class="string">"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"</span>&gt;&lt;/path&gt;&lt;path d=<span class="string">"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"</span> fill=<span class="string">"currentColor"</span> style=<span class="string">"transform-origin: 130px 106px;"</span> class=<span class="string">"octo-arm"</span>&gt;&lt;/path&gt;&lt;path d=<span class="string">"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"</span> fill=<span class="string">"currentColor"</span> class=<span class="string">"octo-body"</span>&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;&lt;style&gt;.github-corner:hover .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;@keyframes octocat-wave&#123;0%,100%&#123;transform:rotate(0)&#125;20%,60%&#123;transform:rotate(-25deg)&#125;40%,80%&#123;transform:rotate(10deg)&#125;&#125;@media (max-width:500px)&#123;.github-corner:hover .octo-arm&#123;animation:none&#125;.github-corner .octo-arm&#123;animation:octocat-wave 560ms ease-in-out&#125;&#125;&lt;/style&gt;</span><br></pre></td></tr></table></figure></p><p>ç²˜è´´æ ·å¼ä»£ç è‡³ <code>themes/next/layout/_layout.swig</code> æ–‡ä»¶ä¸­<code>&lt;div class=&quot;headband&quot;&gt;&lt;/div&gt;</code>ä¸‹ã€‚</p><h2 id="NexT-ä¸»é¢˜ç¬¬ä¸‰æ–¹æœåŠ¡æ¥å…¥"><a href="#NexT-ä¸»é¢˜ç¬¬ä¸‰æ–¹æœåŠ¡æ¥å…¥" class="headerlink" title="NexT ä¸»é¢˜ç¬¬ä¸‰æ–¹æœåŠ¡æ¥å…¥"></a>NexT ä¸»é¢˜ç¬¬ä¸‰æ–¹æœåŠ¡æ¥å…¥</h2><h3 id="Jiathisï¼Œç½‘ç«™ç¤¾ä¼šåŒ–å·¥å…·ã€‚"><a href="#Jiathisï¼Œç½‘ç«™ç¤¾ä¼šåŒ–å·¥å…·ã€‚" class="headerlink" title="Jiathisï¼Œç½‘ç«™ç¤¾ä¼šåŒ–å·¥å…·ã€‚"></a><a href="http://www.jiathis.com/" target="_blank" rel="noopener">Jiathis</a>ï¼Œç½‘ç«™ç¤¾ä¼šåŒ–å·¥å…·ã€‚</h3><p>æ³¨å†Œ JiaThisï¼Œè·å– uidã€‚<br><img src="http://oxwk2uou0.bkt.clouddn.com/hexo_jiathis.png" alt="æ³¨å†ŒJiaThis"><br>é…ç½®ä¸»é¢˜é…ç½®æ–‡ä»¶ JiaThisã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Share</span></span><br><span class="line"><span class="comment"># This plugin is more useful in China, make sure you known how to use it.</span></span><br><span class="line"><span class="comment"># And you can find the use guide at official webiste: http://www.jiathis.com/.</span></span><br><span class="line"><span class="comment"># Warning: JiaThis does not support https.</span></span><br><span class="line">jiathis:</span><br><span class="line">    <span class="comment">#Get this uid from http://www.jiathis.com/</span></span><br><span class="line">    uid: xxxxxx</span><br></pre></td></tr></table></figure></p><h3 id="ä¸è’œå­ï¼Œç½‘ç«™è®¡æ•°ã€‚"><a href="#ä¸è’œå­ï¼Œç½‘ç«™è®¡æ•°ã€‚" class="headerlink" title="ä¸è’œå­ï¼Œç½‘ç«™è®¡æ•°ã€‚"></a><a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">ä¸è’œå­</a>ï¼Œç½‘ç«™è®¡æ•°ã€‚</h3><p>è¯¦ç»†<a href="http://ibruce.info/2015/04/04/busuanzi/" target="_blank" rel="noopener">æ–‡æ¡£</a>ï¼Œé…ç½®å¥½ä¸»é¢˜é…ç½®æ–‡ä»¶å³å¯ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show PV/UV of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi/</span></span><br><span class="line">busuanzi_count:</span><br><span class="line">  <span class="comment"># count values only if the other configs are false</span></span><br><span class="line">  <span class="built_in">enable</span>: <span class="literal">true</span></span><br><span class="line">  <span class="comment"># custom uv span for the whole site</span></span><br><span class="line">  site_uv: <span class="literal">true</span></span><br><span class="line">  site_uv_header: &lt;i class=<span class="string">"fa fa-user"</span>&gt;&lt;/i&gt;</span><br><span class="line">  site_uv_footer:</span><br><span class="line">  <span class="comment"># custom pv span for the whole site</span></span><br><span class="line">  site_pv: <span class="literal">true</span></span><br><span class="line">  site_pv_header: &lt;i class=<span class="string">"fa fa-eye"</span>&gt;&lt;/i&gt;</span><br><span class="line">  site_pv_footer:</span><br><span class="line">  <span class="comment"># custom pv span for one page only</span></span><br><span class="line">  page_pv: <span class="literal">true</span></span><br><span class="line">  page_pv_header: &lt;i class=<span class="string">"fa fa-file-o"</span>&gt;&lt;/i&gt;</span><br><span class="line">  page_pv_footer:</span><br></pre></td></tr></table></figure></p><h3 id="Valine"><a href="#Valine" class="headerlink" title="Valine"></a><a href="https://valine.js.org" target="_blank" rel="noopener">Valine</a></h3><p><code>Valine</code>æ˜¯ä¸€æ¬¾åŸºäº<a href="https://leancloud.cn/" target="_blank" rel="noopener">leancloud</a>çš„å¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„æ— åç«¯è¯„è®ºç³»ç»Ÿã€‚å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„ <a href="https://valine.js.org" target="_blank" rel="noopener">Valine æ–‡æ¡£</a>ã€‚</p><h3 id="ä¸ƒç‰›äº‘ï¼Œä½œä¸ºæ–‡ç« å›¾ç‰‡å¯¹è±¡å­˜å‚¨ã€‚"><a href="#ä¸ƒç‰›äº‘ï¼Œä½œä¸ºæ–‡ç« å›¾ç‰‡å¯¹è±¡å­˜å‚¨ã€‚" class="headerlink" title="ä¸ƒç‰›äº‘ï¼Œä½œä¸ºæ–‡ç« å›¾ç‰‡å¯¹è±¡å­˜å‚¨ã€‚"></a><a href="https://www.qiniu.com/" target="_blank" rel="noopener">ä¸ƒç‰›äº‘</a>ï¼Œä½œä¸ºæ–‡ç« å›¾ç‰‡å¯¹è±¡å­˜å‚¨ã€‚</h3><p>è€ƒè™‘åˆ°ä¾¿äºè¿ç§»åšå®¢ï¼Œå›¾åºŠå¿…é¡»è¦ï¼Œä¸ƒç‰›è®¿é—®é€Ÿåº¦å¿«ï¼Œæ”¯æŒæ—¥å¿—ï¼Œé˜²ç›—é“¾å’Œæ°´å°ã€‚<br>å…è´¹ç”¨æˆ·æœ‰<code>10GBæµé‡/æ¯æœˆ</code>+<code>æ€»ç©ºé—´10GB</code>+<code>PUT/DELETE 10ä¸‡è¯·æ±‚</code>+<code>GET 100ä¸‡è¯·æ±‚</code>ï¼Œå¯¹äºä¸ªäººä¸»é¡µè¶³å¤Ÿäº†ï¼Œå¦å¤–ï¼Œå¯ä»¥é‚€è¯·å¥½å‹è·å¾—å¥–åŠ±ã€‚è¿™æ˜¯æˆ‘çš„<a href="https://portal.qiniu.com/signup?code=3ljo5qrunzqz6" target="_blank" rel="noopener">é‚€è¯·</a>ï¼šï¼‰</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç®€è°ˆ NexT ä¸»é¢˜çš„é…ç½®å’Œç¬¬ä¸‰æ–¹çš„æœåŠ¡çš„æ¥å…¥ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å‰ä¸€ç¯‡å®Œæˆäº†ç®€å•ä¸ªäººä¸»é¡µçš„æ­å»ºï¼Œç„¶è€Œï¼Œè¿½æ±‚ç¾çš„è„šæ­¥å’Œå¥½å¥‡å¿ƒçš„æ»‹ç”Ÿï¼Œéš¾ä»¥éåˆ¶ã€‚
      
    
    </summary>
    
      <category term="å…œ" scheme="http://grackanil.top/categories/%E5%85%9C/"/>
    
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
      <category term="Hexo" scheme="http://grackanil.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡å¹³å°</title>
    <link href="http://grackanil.top/2018/01/03/static-site-hosting-service/"/>
    <id>http://grackanil.top/2018/01/03/static-site-hosting-service/</id>
    <published>2018-01-03T03:55:37.000Z</published>
    <updated>2018-07-27T15:30:58.919Z</updated>
    
    <content type="html"><![CDATA[<p>ç®€è¦ç½—åˆ—é™æ€ç½‘ç«™æ‰˜ç®¡å¹³å°ã€‚</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ€è¿‘ä½¿ç”¨<code>Hexo</code>å’Œ<code>GitHub Pages</code>æ­å»ºä¸ªäººé™æ€ä¸»é¡µï¼Œå‘ç°ä¸€äº›é—®é¢˜ï¼Œé‚åšä¸€ä¸ªæ¨ªå‘æ–¹æ¡ˆæ¯”è¾ƒï¼Œäº†è§£ä¸€ä¸‹å…·ä½“çš„å¼‚åŒã€‚æœ‰å¾ˆå¤šå¹³å°æ²¡æœ‰äº²è‡ªå®è·µï¼Œæ‰€ä»¥è¯´æ˜ä»…ä¾›è®°å½•å‚è€ƒï¼Œç»†èŠ‚æœ‰å¾…æŒ–æ˜å’Œæ›´æ–°ã€‚åŒæ—¶ï¼Œå¦‚æœæ‚¨æœ‰å…¶ä»–æ¨èçš„æ–¹æ¡ˆï¼Œæ¬¢è¿è¯„è®ºåˆ†äº«ï¼ŒæŒç»­æ›´æ–°ï¼š)</p><h2 id="GitHub-Pages-è¢«è®¾è®¡ä¸ºç›´æ¥æ¥æºäºGitHubä»“åº“çš„ä¸ªäººã€ç»„ç»‡æˆ–é¡¹ç›®ä¸»é¡µã€‚"><a href="#GitHub-Pages-è¢«è®¾è®¡ä¸ºç›´æ¥æ¥æºäºGitHubä»“åº“çš„ä¸ªäººã€ç»„ç»‡æˆ–é¡¹ç›®ä¸»é¡µã€‚" class="headerlink" title="GitHub Pages è¢«è®¾è®¡ä¸ºç›´æ¥æ¥æºäºGitHubä»“åº“çš„ä¸ªäººã€ç»„ç»‡æˆ–é¡¹ç›®ä¸»é¡µã€‚"></a><a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> è¢«è®¾è®¡ä¸ºç›´æ¥æ¥æºäº<code>GitHub</code>ä»“åº“çš„ä¸ªäººã€ç»„ç»‡æˆ–é¡¹ç›®ä¸»é¡µã€‚</h2><ul><li>æä¾›é™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡</li><li>ä¸æ”¯æŒæœåŠ¡ç«¯ä»£ç ï¼Œæ¯”å¦‚ PHPã€Ruby æˆ– Python</li><li>GitHub Pages æä¾›çš„åŸŸåå¯ä»¥æ”¯æŒ HTTPS è®¿é—®</li><li><del>å¯ä»¥é…ç½®è‡ªå®šä¹‰çš„åŸŸåï¼Œä½†æ˜¯æ— æ³•ç»™è‡ªå®šä¹‰çš„åŸŸåé…ç½® SSL ï¼Œ<code>HTTPS is not supported for GitHub Pages using custom domains.</code></del> æŸ¥é˜… <a href="https://help.github.com/articles/securing-your-github-pages-site-with-https/" target="_blank" rel="noopener">Github Help</a>ï¼Œæ‰€æœ‰ GitHub Pages ç½‘ç«™ï¼ˆåŒ…æ‹¬ä½¿ç”¨è‡ªå®šä¹‰åŸŸæ­£ç¡®é…ç½®çš„ç½‘ç«™ï¼‰å·²ç»éƒ½æ”¯æŒ HTTPS å’Œ HTTPS å¼ºåˆ¶å®æ–½ã€‚</li><li>å“åº”é€Ÿåº¦è¿˜æ˜¯æœ‰ç‚¹æ…¢</li><li>ç½‘ç«™ä»“åº“å°äº<code>1GB</code>ï¼Œå¸¦å®½é™åˆ¶ <code>100GB/æ¯æœˆ</code>ï¼Œæ„å»ºé™åˆ¶<code>10æ¬¡/æ¯å°æ—¶</code></li></ul><h2 id="Netlify"><a href="#Netlify" class="headerlink" title="Netlify"></a><a href="https://www.netlify.com/" target="_blank" rel="noopener">Netlify</a></h2><ul><li>ä¸æ”¯æŒåå°é€»è¾‘è¿ç®—èƒ½åŠ›çš„ç½‘é¡µ</li><li>å¦‚æœè¦éƒ¨ç½² Hexo å¤§ä½“æ€è·¯æ˜¯ï¼Œé€šè¿‡ CLI (å‘½ä»¤è¡Œç•Œé¢)å°† md æ¸²æŸ“ä¸ºé™æ€ç½‘ç«™ï¼Œç„¶åé€šè¿‡ git éƒ¨ç½²åˆ° Git å¹³å°ï¼Œç„¶åä½¿ç”¨ Netlify çš„ webhook è‡ªåŠ¨æŠ“å–éƒ¨ç½²</li><li>å…·æœ‰å…¨çƒCDNã€æŒç»­éƒ¨ç½²ã€ä¸€é”®HTTPSç­‰ä¼˜åŠ¿</li><li>èƒ½é€šè¿‡å®¢æˆ·ç«¯ JS ä¸å¯é‡ç”¨ API å¯ä»¥å¸¦æ¥åŠ¨æ€åŠŸèƒ½ï¼Œç‚«é…·ã€‚</li><li>å¯ä»¥ä½¿ç”¨ Hugo é™æ€ç½‘ç«™ç”Ÿæˆå™¨å’Œ Hetlify ç½‘ç«™è‡ªåŠ¨åŒ–ç³»ç»Ÿé…åˆï¼Œä»¥è§£å†³ Github Pages çš„ä¸æ”¯æŒ HTTPS å’Œ å“åº”æ…¢çš„é—®é¢˜</li></ul><h2 id="Coding-Pages-ç”±å›½å†…-Coding-æä¾›"><a href="#Coding-Pages-ç”±å›½å†…-Coding-æä¾›" class="headerlink" title="Coding Pages ç”±å›½å†… Coding æä¾›"></a><a href="https://coding.net/pages/" target="_blank" rel="noopener">Coding Pages</a> ç”±å›½å†… Coding æä¾›</h2><ul><li>è®¿é—®é€Ÿåº¦å‹å¥½</li><li>å¯ä»¥åš GitHub Pages å’Œ Coding Pages åŒæ—¶éƒ¨ç½² Hexoï¼Œç„¶åé€šè¿‡åŸŸå DNS è§£æï¼Œå›½å¤–è®¿é—® GitHub Pages ï¼Œå›½å†… è®¿é—® Coding Pagesï¼Œ ä»¥ä¼˜åŒ–è®¿é—®é€Ÿåº¦</li><li>å¯ä»¥å…è´¹ç»‘å®šå¤šä¸ªè‡ªå®šä¹‰åŸŸå</li><li>è‡ªå®šä¹‰åŸŸåå¯ä»¥äº«æœ‰å…è´¹ SSL è¯ä¹¦ï¼Œå…¨ç«™æ”¯æŒ HTTPS åè®®</li><li>æ›´æ–°ä»£ç åº“å°±å¯ä»¥è‡ªåŠ¨éƒ¨ç½²ã€‚æœåŠ¡å™¨ç¨³å®šï¼Œé¦™æ¸¯æœåŠ¡å™¨å›½å¤–æ”¯æŒä¹Ÿå‹å¥½</li><li>æ–°å¢åŠ¨æ€é¡µé¢éƒ¨ç½²</li><li>æœ‰ä¸€ä¸ªå°é—®é¢˜æ˜¯ï¼Œç½‘ç«™é¦–é¡µå¦‚æœä¸æ”¾ç½®å®˜æ–¹ã€Hosted by Coding Pagesã€çš„é“¾æ¥ï¼Œä¼šç³»ç»Ÿæ·»åŠ ä¸­é—´ã€Hosted by Coding Pagesã€é¡µé¢ã€‚</li></ul><h2 id="GitLab-Pages-æ˜¯ç”±-GitLab-æä¾›ï¼Œæ—¨åœ¨ä¸º-GitLab-å·¥ç¨‹ã€ä¸ªäººã€groups-åˆ›å»ºç½‘ç«™ã€‚"><a href="#GitLab-Pages-æ˜¯ç”±-GitLab-æä¾›ï¼Œæ—¨åœ¨ä¸º-GitLab-å·¥ç¨‹ã€ä¸ªäººã€groups-åˆ›å»ºç½‘ç«™ã€‚" class="headerlink" title="GitLab Pages æ˜¯ç”± GitLab æä¾›ï¼Œæ—¨åœ¨ä¸º GitLab å·¥ç¨‹ã€ä¸ªäººã€groups åˆ›å»ºç½‘ç«™ã€‚"></a><a href="https://about.gitlab.com/features/pages/" target="_blank" rel="noopener">GitLab Pages</a> æ˜¯ç”± GitLab æä¾›ï¼Œæ—¨åœ¨ä¸º GitLab å·¥ç¨‹ã€ä¸ªäººã€groups åˆ›å»ºç½‘ç«™ã€‚</h2><ul><li>å¯ä»¥ä½¿ç”¨ä»»ä½•é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œå¦‚ Jekyllã€Middlemanã€Hexoã€Hugoã€Pelicanç­‰</li><li>å¯ä»¥é…ç½®è‡ªå®šä¹‰åŸŸå HTTPSï¼Œéœ€è¦çš„æ˜¯ä¸Šä¼ è¯ä¹¦</li></ul><h2 id="Now"><a href="#Now" class="headerlink" title="Now"></a><a href="https://zeit.co/now" target="_blank" rel="noopener">Now</a></h2><ul><li>ä¸ä»…æ”¯æŒé™æ€ç½‘ç«™æ‰˜ç®¡ï¼Œä¹Ÿæ”¯æŒ JavaScript(Node.js) æˆ–è€… Docker é©±åŠ¨çš„ç½‘ç«™ï¼Œ</li><li>å¯ä»¥ä½¿ç”¨ CLI æˆ–è€…é“¾æ¥ Git ä»“åº“</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸåï¼Œå¼€å¯ HTTPS</li><li>ä¼ è¾“åŸºäº HTTP/2</li><li>ä¸éœ€è¦å®‰è£… Git ç­‰æºä»£ç æ§åˆ¶å·¥å…·ï¼Œä¸éœ€è¦è®¾ç½® keys æˆ–è€… tokens</li><li>å®æ—¶éƒ¨ç½²ã€‚</li></ul><h2 id="Firebase-Hosting"><a href="#Firebase-Hosting" class="headerlink" title="Firebase Hosting"></a><a href="https://www.firebase.com/docs/hosting/" target="_blank" rel="noopener">Firebase Hosting</a></h2><ul><li>åªèƒ½ CLI</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸåå¹¶æ”¯æŒå¼€å¯ HTTPS</li><li>æ”¯æŒé‡å®šå‘å’Œé‡å†™ã€‚</li></ul><h2 id="Bitbucket-Cloud"><a href="#Bitbucket-Cloud" class="headerlink" title="Bitbucket Cloud"></a><a href="https://confluence.atlassian.com/bitbucket/publishing-a-website-on-bitbucket-cloud-221449776.html" target="_blank" rel="noopener">Bitbucket Cloud</a></h2><ul><li>å¿…é¡»è¦é€šè¿‡ HTTPS è®¿é—®</li><li>ä¸èƒ½è‡ªå®šä¹‰åŸŸå</li><li>æ‰€æœ‰é¡¹ç›®çš„é™æ€ç½‘ç«™ä»£ç éƒ½åªèƒ½æ”¾åœ¨ä¸“é—¨çš„ç«™ç‚¹ä»“åº“é‡Œã€‚</li><li>é¡µé¢ç¼“å­˜ 15 åˆ†é’Ÿï¼Œæ„å‘³ç€æ”¹å˜ä¸ä¼šç«‹å³å¯è§ã€‚</li></ul><h2 id="aerobatic"><a href="#aerobatic" class="headerlink" title="aerobatic"></a><a href="https://www.aerobatic.com/" target="_blank" rel="noopener">aerobatic</a></h2><ul><li>å¯ä»¥æ”¯æŒ CLI ä¸Šä¼ ä»£ç </li><li>è‡ªå®šä¹‰åŸŸåéœ€è¦æ”¶è´¹ã€‚</li></ul><h2 id="surge"><a href="#surge" class="headerlink" title="surge"></a><a href="https://surge.sh/" target="_blank" rel="noopener">surge</a></h2><ul><li>åªæ”¯æŒ CLI</li><li>æ”¯æŒè‡ªå®šä¹‰åŸŸåï¼Œå¼€å¯ SSL æ˜¯éœ€è¦æ”¶è´¹ï¼ŒåŒæ—¶éœ€è¦è‡ªå·±ä¸Šä¼ è¯ä¹¦</li></ul><blockquote><p>æŒç»­æ›´æ–°â€¦</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;ç®€è¦ç½—åˆ—é™æ€ç½‘ç«™æ‰˜ç®¡å¹³å°ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;æœ€è¿‘ä½¿ç”¨&lt;code&gt;Hexo&lt;/code&gt;å’Œ&lt;code&gt;GitHub Pages&lt;/code&gt;æ­å»º
      
    
    </summary>
    
    
      <category term="Hexo" scheme="http://grackanil.top/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Hexo Tutorial - åŸºæœ¬æ­å»ºå’Œé…ç½®</title>
    <link href="http://grackanil.top/2017/12/29/hexo-tutorial/"/>
    <id>http://grackanil.top/2017/12/29/hexo-tutorial/</id>
    <published>2017-12-29T11:42:09.000Z</published>
    <updated>2018-07-27T15:29:54.245Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€æ¬¡ Hexo ä»é›¶å¼€å§‹æ­å»ºçš„å†ç¨‹ã€‚</p><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾ˆæ—©å°±äº†è§£åˆ°å¯ä»¥é€šè¿‡ GitHub æ‰˜ç®¡é™æ€ç½‘é¡µï¼Œä½¿ç”¨ Hexo å’Œ GitHub Pages æ–¹ä¾¿å¿«æ·åœ°æ­å»ºä¸ªäººåšå®¢ç½‘ç«™ï¼Œä¹Ÿä¸€ç›´æƒ³é€šè¿‡ä¸€ç§æ–¹å¼æ•´ç†å’Œç®¡ç†çŸ¥è¯†ï¼Œé‚ä»é›¶å¼€å§‹æ­å»ºã€é…ç½®å±äºè‡ªå·±çš„åšå®¢ç½‘ç«™ã€‚</p><h2 id="æ³¨å†Œ-GitHub"><a href="#æ³¨å†Œ-GitHub" class="headerlink" title="æ³¨å†Œ GitHub"></a>æ³¨å†Œ GitHub</h2><p><a href="https://github.com/" target="_blank" rel="noopener">GitHub</a> æ˜¯ä¸€ä¸ªé¢å‘å¼€æºåŠç§æœ‰è½¯ä»¶é¡¹ç›®çš„æ‰˜ç®¡å¹³å°ã€‚æœ€å¥½æœ€è¯¦ç»†çš„æ•™ç¨‹æ˜¯ <a href="https://guides.github.com/activities/hello-world/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a> æœ›å¤šæŸ¥é˜…ã€‚ä»¥ä¸‹æ˜¯æˆ‘ç®€è¦è¯´æ˜ï¼Œæœ‰é”™è¯¯è¿˜æœ›æŒ‡æ­£åŒ…æ¶µã€‚</p><h3 id="æ³¨å†Œ"><a href="#æ³¨å†Œ" class="headerlink" title="æ³¨å†Œ"></a>æ³¨å†Œ</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_login.png" alt="GitHub Register"></p><h3 id="éªŒè¯é‚®ç®±"><a href="#éªŒè¯é‚®ç®±" class="headerlink" title="éªŒè¯é‚®ç®±"></a>éªŒè¯é‚®ç®±</h3><p>ç™»å½•æ³¨å†Œé‚®ç®±ï¼ŒéªŒè¯è´¦å·ã€‚<br><img src="http://oxwk2uou0.bkt.clouddn.com/github_login_5.png" alt="éªŒè¯é‚®ç®±"></p><h3 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_login_3.png" alt="åˆ›å»ºä»“åº“"><br><img src="http://oxwk2uou0.bkt.clouddn.com/github_login_4.png" alt="åˆ›å»ºå®Œæˆ"></p><h3 id="é€šè¿‡-SSH-å»ºç«‹è¿æ¥ï¼Œè¯¦è§-æ–‡æ¡£-ï¼Œä½¿ç”¨-SSH-åè®®ï¼Œæ¯æ¬¡è®¿é—®å¯ä»¥æ— éœ€ç”¨æˆ·åå’Œå¯†ç è¿æ¥-GitHub-ã€‚"><a href="#é€šè¿‡-SSH-å»ºç«‹è¿æ¥ï¼Œè¯¦è§-æ–‡æ¡£-ï¼Œä½¿ç”¨-SSH-åè®®ï¼Œæ¯æ¬¡è®¿é—®å¯ä»¥æ— éœ€ç”¨æˆ·åå’Œå¯†ç è¿æ¥-GitHub-ã€‚" class="headerlink" title="é€šè¿‡ SSH å»ºç«‹è¿æ¥ï¼Œè¯¦è§ æ–‡æ¡£ ï¼Œä½¿ç”¨ SSH åè®®ï¼Œæ¯æ¬¡è®¿é—®å¯ä»¥æ— éœ€ç”¨æˆ·åå’Œå¯†ç è¿æ¥ GitHub ã€‚"></a>é€šè¿‡ SSH å»ºç«‹è¿æ¥ï¼Œè¯¦è§ <a href="https://help.github.com/articles/connecting-to-github-with-ssh/" target="_blank" rel="noopener">æ–‡æ¡£</a> ï¼Œä½¿ç”¨ SSH åè®®ï¼Œæ¯æ¬¡è®¿é—®å¯ä»¥æ— éœ€ç”¨æˆ·åå’Œå¯†ç è¿æ¥ GitHub ã€‚</h3><h4 id="æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨-SSH-keys"><a href="#æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨-SSH-keys" class="headerlink" title="æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨ SSH keys"></a>æ£€æŸ¥æ˜¯å¦å·²ç»å­˜åœ¨ SSH keys</h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œä½¿ç”¨<code>ls -al ~/.ssh</code>æŸ¥çœ‹ï¼Œå¦‚æœåœ¨<code>.ssh</code>ç›®å½•ä¸‹å­˜åœ¨æ–‡ä»¶åˆ—è¡¨ï¼Œè¯´æ˜å·²ç»å­˜åœ¨ SSH keys ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ ls -al ~/.ssh</span><br><span class="line">total 24</span><br><span class="line">drwx------    5 gekang  staff   160  9 26 10:03 .</span><br><span class="line">drwxr-xr-x+ 115 gekang  staff  3680 12 31 14:04 ..</span><br><span class="line">-rw-------    1 gekang  staff  1675  9  8 19:59 id_rsa</span><br><span class="line">-rw-------    1 gekang  staff   398  9  8 19:59 id_rsa.pub</span><br><span class="line">-rw-r--r--    1 gekang  staff  2178 12 27 23:30 known_hosts</span><br></pre></td></tr></table></figure></p><h4 id="å¦‚æœæ²¡æœ‰-public-key-ï¼Œç”Ÿæˆ-SSHï¼›å¦‚æœå·²ç»æœ‰äº†ï¼Œç›´æ¥é…ç½®å³å¯"><a href="#å¦‚æœæ²¡æœ‰-public-key-ï¼Œç”Ÿæˆ-SSHï¼›å¦‚æœå·²ç»æœ‰äº†ï¼Œç›´æ¥é…ç½®å³å¯" class="headerlink" title="å¦‚æœæ²¡æœ‰ public key ï¼Œç”Ÿæˆ SSHï¼›å¦‚æœå·²ç»æœ‰äº†ï¼Œç›´æ¥é…ç½®å³å¯"></a>å¦‚æœæ²¡æœ‰ public key ï¼Œç”Ÿæˆ SSHï¼›å¦‚æœå·²ç»æœ‰äº†ï¼Œç›´æ¥é…ç½®å³å¯</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ssh-keygen -t rsa -C "yourmail@xxx.com"</span></span><br><span class="line">Generating public/private rsa key pair.</span><br><span class="line">&lt;!-- ç›´æ¥è¾“å…¥å›è½¦å³å¯ --&gt;</span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/root/.ssh/id_rsa):</span><br></pre></td></tr></table></figure><p>è¦æ±‚è¾“å…¥å¯†ç ï¼Œå¯ä»¥ä¸€è·¯å›è½¦ã€‚<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):</span><br><span class="line">Enter same passphrase again:</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.</span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /root/.ssh/id_rsa.pub.</span><br><span class="line">The key fingerprint is:</span><br><span class="line">SHA256:Kf8+luLAnbCkfUxraCX88K9x4WJHqym+WItUPr5sr yourmail@xxx.com</span><br><span class="line">The key<span class="string">'s randomart image is:</span></span><br><span class="line"><span class="string">+---[RSA 2048]----+</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|                 |</span></span><br><span class="line"><span class="string">|    o +          |</span></span><br><span class="line"><span class="string">|   . B . .       |</span></span><br><span class="line"><span class="string">|  + o X S        |</span></span><br><span class="line"><span class="string">|  .* S @ o       |</span></span><br><span class="line"><span class="string">| .o.= @ O  .     |</span></span><br><span class="line"><span class="string">| o+B = =..+      |</span></span><br><span class="line"><span class="string">|.+E+. ...+o.     |</span></span><br><span class="line"><span class="string">+----[SHA256]-----+</span></span><br></pre></td></tr></table></figure></p><h4 id="é…ç½®-SSH"><a href="#é…ç½®-SSH" class="headerlink" title="é…ç½® SSH"></a>é…ç½® SSH</h4><ul><li>æ‰¾åˆ° id_rsa.pub ä¸­çš„ public key ï¼Œä½ç½®å¦‚ä¸Šè·¯å¾„ï¼Œå¤åˆ¶å‡º public keyã€‚<br>å¤åˆ¶ public key æ—¶ï¼Œä¸è¦é‡èµ·ä¸€è¡Œï¼Œæ·»åŠ ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨<code>pbcopy &lt; ~/.ssh/id_rsa.pub</code>å¤åˆ¶åˆ°å‰ªè´´æ¿</li><li>è¿›å…¥ GitHub Setting é¡µé¢ï¼Œé…ç½® SSHã€‚<br><img src="http://oxwk2uou0.bkt.clouddn.com/github_ssh_3.png" alt="é…ç½®SSH"></li><li>åˆ›å»º SSH ï¼Œtitle ä»»æ„è¾“å…¥ï¼Œç²˜è´´ public key ï¼Œç„¶å Add SSH keyã€‚</li></ul><h4 id="æµ‹è¯•è¿æ¥"><a href="#æµ‹è¯•è¿æ¥" class="headerlink" title="æµ‹è¯•è¿æ¥"></a>æµ‹è¯•è¿æ¥</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>å¯èƒ½çœ‹åˆ°è­¦å‘Šï¼š<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host <span class="string">'github.com (IP ADDRESS)'</span> can<span class="string">'t be established.</span></span><br><span class="line"><span class="string">RSA key fingerprint is 16:27:ac:a5:76:28:2d:36:63:1b:56:4d:eb:df:a6:48.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)?</span></span><br></pre></td></tr></table></figure></p><p>æˆ–<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">The authenticity of host <span class="string">'github.com (IP ADDRESS)'</span> can<span class="string">'t be established.</span></span><br><span class="line"><span class="string">RSA key fingerprint is SHA256:nThbg6kXUpJWGl7E1IGOCspRomTxdCARLviKw6E5SY8.</span></span><br><span class="line"><span class="string">Are you sure you want to continue connecting (yes/no)?</span></span><br></pre></td></tr></table></figure></p><p>éªŒè¯ fingerprint ,ç„¶å type yes<br>ç„¶åï¼Œ<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hi username! You<span class="string">'ve successfully authenticated, but GitHub does not</span></span><br><span class="line"><span class="string">provide shell access.</span></span><br></pre></td></tr></table></figure></p><h2 id="ç®€è¿°-GitHub-Pages"><a href="#ç®€è¿°-GitHub-Pages" class="headerlink" title="ç®€è¿° GitHub Pages"></a>ç®€è¿° GitHub Pages</h2><p><a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a>æ˜¯ GitHub æä¾›çš„ä¸€ä¸ªé™æ€ç½‘ç«™æ‰˜ç®¡æœåŠ¡ã€‚åŒæ ·ï¼Œ<a href="https://help.github.com/categories/github-pages-basics/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>æ˜¯æœ€å¥½çš„æ•™ç¨‹ã€‚<br><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_1.png" alt="å®˜ç½‘é¦–é¡µ"></p><h3 id="GitHub-Pages-å¯ä»¥ç”¨ä¸ºä¸¤ç§ç±»å‹ï¼šç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µï¼›é¡¹ç›®å·¥ç¨‹ä¸»é¡µã€‚"><a href="#GitHub-Pages-å¯ä»¥ç”¨ä¸ºä¸¤ç§ç±»å‹ï¼šç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µï¼›é¡¹ç›®å·¥ç¨‹ä¸»é¡µã€‚" class="headerlink" title="GitHub Pages å¯ä»¥ç”¨ä¸ºä¸¤ç§ç±»å‹ï¼šç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µï¼›é¡¹ç›®å·¥ç¨‹ä¸»é¡µã€‚"></a>GitHub Pages å¯ä»¥ç”¨ä¸ºä¸¤ç§ç±»å‹ï¼šç”¨æˆ·æˆ–ç»„ç»‡ä¸»é¡µï¼›é¡¹ç›®å·¥ç¨‹ä¸»é¡µã€‚</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_7.png" alt="ç±»å‹"></p><h3 id="æ­å»ºä¸ªäººä¸»é¡µï¼Œä»¥username-github-ioååˆ›å»ºä»“åº“"><a href="#æ­å»ºä¸ªäººä¸»é¡µï¼Œä»¥username-github-ioååˆ›å»ºä»“åº“" class="headerlink" title="æ­å»ºä¸ªäººä¸»é¡µï¼Œä»¥username.github.ioååˆ›å»ºä»“åº“"></a>æ­å»ºä¸ªäººä¸»é¡µï¼Œä»¥<code>username.github.io</code>ååˆ›å»ºä»“åº“</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_2.png" alt="æ­å»ºä¸ªäººä¸»é¡µ"></p><h3 id="å…‹éš†ä»“åº“åˆ°æœ¬åœ°"><a href="#å…‹éš†ä»“åº“åˆ°æœ¬åœ°" class="headerlink" title="å…‹éš†ä»“åº“åˆ°æœ¬åœ°"></a>å…‹éš†ä»“åº“åˆ°æœ¬åœ°</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_3.png" alt="å…‹éš†ä»“åº“"></p><h3 id="æœ¬åœ°ç¼–è¾‘ä¸ªäººé™æ€ä¸»é¡µ"><a href="#æœ¬åœ°ç¼–è¾‘ä¸ªäººé™æ€ä¸»é¡µ" class="headerlink" title="æœ¬åœ°ç¼–è¾‘ä¸ªäººé™æ€ä¸»é¡µ"></a>æœ¬åœ°ç¼–è¾‘ä¸ªäººé™æ€ä¸»é¡µ</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_4.png" alt="å…‹éš†ä»“åº“"></p><h3 id="Push-åˆ°è¿œç¨‹ä»“åº“ã€‚"><a href="#Push-åˆ°è¿œç¨‹ä»“åº“ã€‚" class="headerlink" title="Push åˆ°è¿œç¨‹ä»“åº“ã€‚"></a>Push åˆ°è¿œç¨‹ä»“åº“ã€‚</h3><p>æ­¤å¤„è¯´æ˜ï¼Œè‹¥ä½¿ç”¨ SSH ï¼Œåˆ›å»º GitHub å·²å»ºç«‹ SSH è¿æ¥ï¼Œå¯ä»¥ç›´æ¥ Pushï¼›è‹¥æ— ï¼Œå»ºç«‹è¿æ¥ï¼Œæˆ–è€…ä½¿ç”¨ Https æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå…¶é—´éœ€è¦è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚<br><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_5.png" alt="å…‹éš†ä»“åº“"></p><h3 id="ä»¥ä¸Šè‹¥éƒ½æˆåŠŸï¼Œè®¿é—®ä¸ªäººä¸»é¡µï¼Œhttps-username-github-io"><a href="#ä»¥ä¸Šè‹¥éƒ½æˆåŠŸï¼Œè®¿é—®ä¸ªäººä¸»é¡µï¼Œhttps-username-github-io" class="headerlink" title="ä»¥ä¸Šè‹¥éƒ½æˆåŠŸï¼Œè®¿é—®ä¸ªäººä¸»é¡µï¼Œhttps://username.github.io."></a>ä»¥ä¸Šè‹¥éƒ½æˆåŠŸï¼Œè®¿é—®ä¸ªäººä¸»é¡µï¼Œ<code>https://username.github.io.</code></h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_pages_6.png" alt="å…‹éš†ä»“åº“"></p><h2 id="åŸŸåæ³¨å†Œã€ç»‘å®š"><a href="#åŸŸåæ³¨å†Œã€ç»‘å®š" class="headerlink" title="åŸŸåæ³¨å†Œã€ç»‘å®š"></a>åŸŸåæ³¨å†Œã€ç»‘å®š</h2><p>æˆ‘çš„ä¸ªäººä¸»é¡µæ˜¯ä¸‡ç½‘æ³¨å†Œçš„åŸŸåï¼Œæ‰€ä»¥ç®€è¿°<a href="https://wanwang.aliyun.com/" target="_blank" rel="noopener">ä¸‡ç½‘</a>åŸŸåè´­ä¹°å’Œç»‘å®šã€‚åŒæ ·ä¹Ÿæœ‰å¾ˆè¯¦ç»†çš„<a href="https://help.github.com/articles/using-a-custom-domain-with-github-pages/" target="_blank" rel="noopener">æ–‡æ¡£</a></p><h3 id="æ³¨å†Œç™»å½•é˜¿é‡Œäº‘"><a href="#æ³¨å†Œç™»å½•é˜¿é‡Œäº‘" class="headerlink" title="æ³¨å†Œç™»å½•é˜¿é‡Œäº‘"></a>æ³¨å†Œç™»å½•<a href="https://www.aliyun.com" target="_blank" rel="noopener">é˜¿é‡Œäº‘</a></h3><h3 id="è´­ä¹°åŸŸåï¼Œè¿›å…¥æ§åˆ¶ä¸­å¿ƒ"><a href="#è´­ä¹°åŸŸåï¼Œè¿›å…¥æ§åˆ¶ä¸­å¿ƒ" class="headerlink" title="è´­ä¹°åŸŸåï¼Œè¿›å…¥æ§åˆ¶ä¸­å¿ƒ"></a>è´­ä¹°åŸŸåï¼Œè¿›å…¥æ§åˆ¶ä¸­å¿ƒ</h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/github_domain_name.png" alt="æ§åˆ¶ä¸­å¿ƒ"></p><h3 id="ç®¡ç†åŸŸåï¼Œæ·»åŠ åŸŸåè§£æ"><a href="#ç®¡ç†åŸŸåï¼Œæ·»åŠ åŸŸåè§£æ" class="headerlink" title="ç®¡ç†åŸŸåï¼Œæ·»åŠ åŸŸåè§£æ"></a>ç®¡ç†åŸŸåï¼Œæ·»åŠ åŸŸåè§£æ</h3><p>GitHub æ¨èä½¿ç”¨ www çš„äºŒçº§åŸŸåï¼Œç»™åŸŸåæ·»åŠ è§£æï¼Œè®°å½•ç±»å‹éƒ½æ˜¯ A è®°å½•ï¼Œè®°å½•å€¼å…¨éƒ¨å¯¹åº”åˆšæ‰ ping å‡ºæ¥çš„ IP ã€‚<br><img src="http://oxwk2uou0.bkt.clouddn.com/github_cname.png" alt="è®¾ç½®åŸŸåè§£æ"></p><h3 id="æ·»åŠ CNAMEæ–‡ä»¶åˆ°githubä»“åº“"><a href="#æ·»åŠ CNAMEæ–‡ä»¶åˆ°githubä»“åº“" class="headerlink" title="æ·»åŠ CNAMEæ–‡ä»¶åˆ°githubä»“åº“"></a>æ·»åŠ CNAMEæ–‡ä»¶åˆ°githubä»“åº“</h3><p>ç”±äº<code>hexo d</code>éƒ¨ç½²æ—¶ï¼Œä¾æ®<code>.gitignore</code>æ–‡ä»¶ï¼Œä¼šæ¸…é™¤æ‰€æœ‰æ–‡ä»¶ï¼Œæ‰€ä»¥å¦‚è¦å°† CNAME éƒ¨ç½²åˆ° GitHub ä¸­ï¼Œå¿…é¡»å°† CNAME æ”¾ç½® source æ–‡ä»¶å¤¹ä¸­ï¼ˆå¯ä»¥æ”¾åœ¨åé¢ Hexo å®‰è£…åï¼Œåˆå§‹åŒ–é¡¹ç›®ä¸­ source ç›®å½•ä¸‹ï¼‰ã€‚CNAME æ–‡ä»¶ä¸­æ˜¯<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åŸŸåä¸ºgrackanil.top</span></span><br><span class="line"><span class="comment"># äºŒçº§åŸŸå</span></span><br><span class="line">www.grackanil.top</span><br><span class="line"><span class="comment"># ä¸€çº§åŸŸå</span></span><br><span class="line">grackanil.top</span><br></pre></td></tr></table></figure></p><h2 id="Hexo-å®‰è£…"><a href="#Hexo-å®‰è£…" class="headerlink" title="Hexo å®‰è£…"></a>Hexo å®‰è£…</h2><p>å®‰è£… Hexo ç›¸å½“ç®€å•ã€‚<a href="https://hexo.io/zh-cn/docs/index.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a></p><h3 id="å®‰è£…ç¯å¢ƒ"><a href="#å®‰è£…ç¯å¢ƒ" class="headerlink" title="å®‰è£…ç¯å¢ƒ"></a>å®‰è£…ç¯å¢ƒ</h3><h4 id="å¦‚æœå®‰è£…äº†-Node-js-å’Œ-Gitï¼Œåªéœ€è¦ä½¿ç”¨-npm-å³å¯å®Œæˆ-Hexo-çš„å®‰è£…"><a href="#å¦‚æœå®‰è£…äº†-Node-js-å’Œ-Gitï¼Œåªéœ€è¦ä½¿ç”¨-npm-å³å¯å®Œæˆ-Hexo-çš„å®‰è£…" class="headerlink" title="å¦‚æœå®‰è£…äº† Node.js å’Œ Gitï¼Œåªéœ€è¦ä½¿ç”¨ npm å³å¯å®Œæˆ Hexo çš„å®‰è£…"></a>å¦‚æœå®‰è£…äº† <code>Node.js</code> å’Œ <code>Git</code>ï¼Œåªéœ€è¦ä½¿ç”¨ <code>npm</code> å³å¯å®Œæˆ <code>Hexo</code> çš„å®‰è£…</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h4 id="å¦‚æœæ²¡æœ‰å®‰è£…-Node-js-å’Œ-Gitï¼Œä»¥ä¸‹å‡ä¸º-Mac-ç¯å¢ƒä¸‹ã€‚"><a href="#å¦‚æœæ²¡æœ‰å®‰è£…-Node-js-å’Œ-Gitï¼Œä»¥ä¸‹å‡ä¸º-Mac-ç¯å¢ƒä¸‹ã€‚" class="headerlink" title="å¦‚æœæ²¡æœ‰å®‰è£… Node.js å’Œ Gitï¼Œä»¥ä¸‹å‡ä¸º Mac ç¯å¢ƒä¸‹ã€‚"></a>å¦‚æœæ²¡æœ‰å®‰è£… <code>Node.js</code> å’Œ <code>Git</code>ï¼Œä»¥ä¸‹å‡ä¸º Mac ç¯å¢ƒä¸‹ã€‚</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä½¿ç”¨ brew å®‰è£… git</span></span><br><span class="line">brew install git</span><br><span class="line"><span class="comment"># å¯ä»¥ä½¿ç”¨ cURL å®‰è£… nvm</span></span><br><span class="line">$ curl https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class="line"><span class="comment"># ä¹Ÿå¯ä»¥ ä½¿ç”¨ Wget å®‰è£… nvm</span></span><br><span class="line">$ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh</span><br><span class="line"><span class="comment"># ä½¿ç”¨æœ€ä½³å®‰è£…æ–¹å¼ï¼šnvm å®‰è£… Node.js</span></span><br><span class="line">$ nvm install stable</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…-Hexo"><a href="#å®‰è£…-Hexo" class="headerlink" title="å®‰è£… Hexo"></a>å®‰è£… Hexo</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure><h3 id="åˆå§‹åŒ–-Hexo-å»ºç«™"><a href="#åˆå§‹åŒ–-Hexo-å»ºç«™" class="headerlink" title="åˆå§‹åŒ– Hexo å»ºç«™"></a>åˆå§‹åŒ– Hexo å»ºç«™</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># åˆå§‹åŒ– Hexoï¼Œä¼šåœ¨ç›®æ ‡æ–‡ä»¶å¤¹å»ºç«‹ç½‘ç«™æ‰€éœ€è¦çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">$ hexo init &lt;folder&gt;</span><br><span class="line"><span class="comment"># è¿›å…¥é¡¹ç›®ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> &lt;folder&gt;</span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–åŒ…</span></span><br><span class="line">$ npm install</span><br><span class="line"><span class="comment"># æŸ¥çœ‹é¡¹ç›®ç¬¬ä¸€å±‚ç›®å½•</span></span><br><span class="line">$ tree -L 1</span><br><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ node_modules</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ <span class="built_in">source</span></span><br><span class="line">â”œâ”€â”€ themes</span><br><span class="line">â””â”€â”€ yarn.lock</span><br><span class="line"><span class="comment"># æ›´æ”¹åæ¸…é™¤é™æ€æ–‡ä»¶å¤¹çš„å†…å®¹å¹¶åˆ æ‰</span></span><br><span class="line">$ hexo clean </span><br><span class="line"><span class="comment"># æœ¬åœ°å¯åŠ¨æœåŠ¡</span></span><br><span class="line"><span class="comment"># hexo generate ï¼Œç”Ÿæˆé™æ€æ–‡ä»¶åˆ° public æ–‡ä»¶å¤¹</span></span><br><span class="line">$ hexo g</span><br><span class="line">INFO  Start processing</span><br><span class="line">...</span><br><span class="line">INFO  Generated: 2018/01/01/hello-world/index.html</span><br><span class="line">INFO  28 files generated <span class="keyword">in</span> 916 ms</span><br><span class="line"><span class="comment"># hexo serverï¼Œåœ¨æœ¬åœ°æœåŠ¡å™¨è¿è¡Œ</span></span><br><span class="line">$ hexo s</span><br><span class="line">INFO  Start processing</span><br><span class="line">INFO  Hexo is running at http://localhost:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®-http-localhost-4000"><a href="#è®¿é—®-http-localhost-4000" class="headerlink" title="è®¿é—® http://localhost:4000/"></a>è®¿é—® <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></h3><p><img src="http://oxwk2uou0.bkt.clouddn.com/hexo_1.png" alt="é¢„è§ˆ"></p><h3 id="éƒ¨ç½²åˆ°-GitHubï¼Œå‰ææ˜¯å·²ç»æ³¨å†Œ-GitHubï¼Œåˆ›å»º-username-github-io-ä»“åº“"><a href="#éƒ¨ç½²åˆ°-GitHubï¼Œå‰ææ˜¯å·²ç»æ³¨å†Œ-GitHubï¼Œåˆ›å»º-username-github-io-ä»“åº“" class="headerlink" title="éƒ¨ç½²åˆ° GitHubï¼Œå‰ææ˜¯å·²ç»æ³¨å†Œ GitHubï¼Œåˆ›å»º username.github.io ä»“åº“"></a>éƒ¨ç½²åˆ° GitHubï¼Œå‰ææ˜¯å·²ç»æ³¨å†Œ <code>GitHub</code>ï¼Œåˆ›å»º <code>username.github.io</code> ä»“åº“</h3><h4 id="å®‰è£…-GitHub-ä¾èµ–æ’ä»¶"><a href="#å®‰è£…-GitHub-ä¾èµ–æ’ä»¶" class="headerlink" title="å®‰è£… GitHub ä¾èµ–æ’ä»¶"></a>å®‰è£… GitHub ä¾èµ–æ’ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ›´ç›®å½•ä¸‹çš„-config-ymlæ–‡ä»¶"><a href="#é…ç½®æ›´ç›®å½•ä¸‹çš„-config-ymlæ–‡ä»¶" class="headerlink" title="é…ç½®æ›´ç›®å½•ä¸‹çš„ _config.ymlæ–‡ä»¶"></a>é…ç½®æ›´ç›®å½•ä¸‹çš„ <code>_config.yml</code>æ–‡ä»¶</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: ssh://git@github.com/grackanil/grackanil.github.io</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><h4 id="éƒ¨ç½²å‘½ä»¤"><a href="#éƒ¨ç½²å‘½ä»¤" class="headerlink" title="éƒ¨ç½²å‘½ä»¤"></a>éƒ¨ç½²å‘½ä»¤</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># éƒ¨ç½²ï¼Œhexo deploy</span></span><br><span class="line">$ hexo d</span><br><span class="line">$ hexo d -g</span><br></pre></td></tr></table></figure><h3 id="è®¿é—®ä¸ªäººä¸»é¡µ"><a href="#è®¿é—®ä¸ªäººä¸»é¡µ" class="headerlink" title="è®¿é—®ä¸ªäººä¸»é¡µ"></a>è®¿é—®ä¸ªäººä¸»é¡µ</h3><p>è®¿é—® username.github.ioï¼Œå¦‚ grackanil.github.ioï¼Œæ ¹ç›®å½• <code>source</code> ä¸‹å·²ç»åˆ›å»º<code>CNAME</code>ï¼Œç»‘å®šè‡ªå®šä¹‰åŸŸåï¼Œå¯ä»¥è®¿é—®åŸŸåã€‚</p><h2 id="ä¸»é¢˜å®‰è£…"><a href="#ä¸»é¢˜å®‰è£…" class="headerlink" title="ä¸»é¢˜å®‰è£…"></a>ä¸»é¢˜å®‰è£…</h2><p>Hexo å®‰è£…ä¸»é¢˜å¾ˆæ–¹ä¾¿ï¼Œåªéœ€è¦å°†ä¸»é¢˜æ–‡ä»¶æ‹·è´è‡³ç«™ç‚¹ç›®å½•çš„ themes ç›®å½•ä¸‹ï¼Œ ç„¶åä¿®æ”¹ä¸‹é…ç½®æ–‡ä»¶å³å¯ã€‚ä»¥å®‰è£…NexTä¸ºä¾‹ï¼Œå¯ä»¥è®¿é—®<a href="http://theme-next.iissnan.com/" target="_blank" rel="noopener">NexTä¸»é¢˜æ–‡æ¡£</a>ã€‚</p><h3 id="ä¸‹è½½ä¸»é¢˜"><a href="#ä¸‹è½½ä¸»é¢˜" class="headerlink" title="ä¸‹è½½ä¸»é¢˜"></a>ä¸‹è½½ä¸»é¢˜</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿›å…¥ç«™ç‚¹ç›®å½•</span></span><br><span class="line">$ <span class="built_in">cd</span> your-hexo-site</span><br><span class="line"><span class="comment"># checkout ä»£ç </span></span><br><span class="line">$ git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹ç«™ç‚¹é…ç½®ç›®å½•"><a href="#ä¿®æ”¹ç«™ç‚¹é…ç½®ç›®å½•" class="headerlink" title="ä¿®æ”¹ç«™ç‚¹é…ç½®ç›®å½•"></a>ä¿®æ”¹ç«™ç‚¹é…ç½®ç›®å½•</h3><p>æ ¹ç›®å½•ä¸‹çš„<code>ç«™ç‚¹é…ç½®æ–‡ä»¶</code> <strong>config.ymlï¼ŒåŒºåˆ«äºä¸»é¢˜ç›®å½•ä¸‹çš„<code>ä¸»é¢˜é…ç½®æ–‡ä»¶</code></strong>config.ymlã€‚å¯åŠ¨ä¸»é¢˜<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: next</span><br></pre></td></tr></table></figure></p><h3 id="éªŒè¯ä¸»é¢˜"><a href="#éªŒè¯ä¸»é¢˜" class="headerlink" title="éªŒè¯ä¸»é¢˜"></a>éªŒè¯ä¸»é¢˜</h3><p>ä½¿ç”¨ <code>hexo clean</code> æ¥æ¸…é™¤ Hexo çš„ç¼“å­˜ï¼Œå¯åŠ¨æœåŠ¡ <code>hexo s --debug</code>ï¼Œå¾…æˆåŠŸåï¼Œè®¿é—®<code>http://localhost:4000</code></p><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>è‡³æ­¤ï¼Œç®€å•çš„ NexT é»˜è®¤é…ç½®ä¸»é¢˜çš„ Hexo é™æ€ä¸ªäººä¸»é¡µå°±æ­å»ºå®Œæˆäº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;è®°å½•ä¸€æ¬¡ Hexo ä»é›¶å¼€å§‹æ­å»ºçš„å†ç¨‹ã€‚&lt;/p&gt;
&lt;h2 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot; class=&quot;headerlink&quot; title=&quot;å‰è¨€&quot;&gt;&lt;/a&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;å¾ˆæ—©å°±äº†è§£åˆ°å¯ä»¥é€šè¿‡ GitHub æ‰˜ç®¡é™æ€ç½‘é¡µï¼Œä½¿ç”¨ Hexo å’Œ GitHub 
      
    
    </summary>
    
      <category term="å…œ" scheme="http://grackanil.top/categories/%E5%85%9C/"/>
    
    
      <category term="Tutorial" scheme="http://grackanil.top/tags/Tutorial/"/>
    
      <category term="Hexo" scheme="http://grackanil.top/tags/Hexo/"/>
    
  </entry>
  
</feed>
